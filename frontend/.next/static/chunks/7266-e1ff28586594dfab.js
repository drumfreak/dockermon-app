"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7266],{57266:function(e,t,r){r.d(t,{Z:function(){return G}});var n=r(34051),s=r.n(n),a=r(85893),c=r(67294),i=r(25617),o=r(69868),u=r(28565),l=r(36345),d=r(42670),m=r(41664),h=r(10619),p=r(45795);function f(e){var t=e.severity;if(e.status)if("OK"===e.status)t="success";else t="danger";return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"col-0 m-0",children:(0,a.jsx)(p.C,{value:e.value,className:e.className,severity:t})})})}var v=r(57191),x=r(92814),j=r(51436),g=r(2723),k=r(26903),N=r(82586),w=r(79989),b=r(43964),y=r(5984),S=r(30045),R=r(11078),C=r(81085),D=r(74781),I=r(66989),H=r(68751),P=r(91202),T=r(27484),V=r(99403);function O(e,t,r,n,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void r(u)}i.done?t(o):Promise.resolve(o).then(n,s)}function E(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function c(e){O(a,n,s,c,i,"next",e)}function i(e){O(a,n,s,c,i,"throw",e)}c(void 0)}))}}function U(e){var t=function(e){var t=[],r=[],n=[],s=[],a=[],c=[],i=[];e.map((function(e){var o=T(e.createdAt).format("YYYY-MM-DD HH:mm:ss");t.push(e.cpu),r.push(e.pids),n.push(e.memory),s.push(e.memoryPercent),a.push(e.networkIn),c.push(e.networkOut),i.push(o)})),i.push(T().format("YYYY-MM-DD HH:mm:ss")),z(t),x(r),k(n),M(c),y(a),F(i),l.current&&((null===Ae||void 0===Ae?void 0:Ae.current)&&Ae.current.updateChart(),(null===_e||void 0===_e?void 0:_e.current)&&_e.current.updateChart(),(null===Fe||void 0===Fe?void 0:Fe.current)&&Fe.current.updateChart(),(null===Ye||void 0===Ye?void 0:Ye.current)&&Ye.current.updateChart()),o(!1)},r=function(){le.current&&clearInterval(le.current);var e=setInterval((function(){$e()}),15e3);ue(e)},n=(0,c.useState)(!1),i=n[0],o=n[1],l=(0,c.useRef)(i);l.current=i;var d=(0,c.useState)(!0),m=d[0],h=d[1],p=(0,c.useRef)(m);p.current=m;var f=(0,c.useState)(),v=f[0],x=f[1],j=(0,c.useState)(),g=j[0],k=j[1],N=(0,c.useState)(),w=N[0],y=N[1],O=(0,c.useState)(),U=O[0],M=O[1],A=(0,c.useState)(),_=A[0],F=A[1],Y=(0,c.useState)(),L=Y[0],z=Y[1],W=(0,c.useState)(),G=W[0],Z=W[1],Q=(0,c.useState)(T().subtract(5,"minute").toDate()),B=Q[0],K=Q[1],X=(0,c.useRef)(B);X.current=B;var $=(0,c.useState)(new Date),q=$[0],J=$[1],ee=(0,c.useRef)(q);ee.current=q;var te=(0,c.useState)(new Date)[0],re=(0,c.useRef)(te);re.current=te;var ne=(0,c.useState)(),se=ne[0],ae=ne[1],ce=(0,c.useRef)(se);ce.current=se;var ie=(0,c.useState)(),oe=ie[0],ue=ie[1],le=(0,c.useRef)(oe);le.current=oe;var de=(0,c.useState)(900),me=de[0],he=de[1],pe=(0,c.useRef)(me);pe.current=me;var fe=(0,c.useState)(!0),ve=fe[0],xe=fe[1],je=(0,c.useRef)(ve);je.current=ve;var ge=(0,c.useState)(!1),ke=ge[0],Ne=ge[1],we=(0,c.useRef)(ke);we.current=ke;var be=(0,c.useState)(!1),ye=be[0],Se=be[1];(0,c.useRef)(ye).current=ye;var Re=(0,c.useState)(!1),Ce=Re[0],De=Re[1],Ie=(0,c.useRef)(Ce);Ie.current=Ce;var He=(0,c.useState)(!1),Pe=He[0],Te=He[1],Ve=(0,c.useRef)(Pe);Ve.current=Pe;var Oe=(0,c.useState)(!1),Ee=Oe[0],Ue=Oe[1],Me=(0,c.useRef)(Ee);Me.current=Ee;var Ae=(0,c.useRef)(),_e=(0,c.useRef)(),Fe=(0,c.useRef)(),Ye=(0,c.useRef)(),Le=(0,c.useState)(),ze=Le[0],We=Le[1],Ge=(0,c.useRef)(ze);Ge.current=ze;var Ze=(0,c.useState)(!1),Qe=Ze[0],Be=Ze[1];function Ke(){return Xe.apply(this,arguments)}function Xe(){return(Xe=E(s().mark((function r(){var n,a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Qe){r.next=2;break}return r.abrupt("return");case 2:return Be(!0),n="hostcontainerStats_"+e.containerId,r.next=6,u.L.getSocket();case 6:return(a=r.sent).on(n,(function(e){"success"===e.status&&e.data&&(o(!0),t(e.data))})),We(a),r.abrupt("return",a);case 10:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function $e(){return qe.apply(this,arguments)}function qe(){return(qe=E(s().mark((function r(){var n,a,c,i,u,l;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(pe.current?(n=T().subtract(pe.current,"second").toDate(),a=T().toDate()):(n=X.current,a=T().toDate()),K(n),J(a),c={containerId:e.container.id,limit:100,sortKey:"createdAt",sortType:"DESC",startDate:n,endDate:a},!Ge.current){r.next=10;break}Ge.current.emit("stats",{command:"stats",body:c,callback:"hostcontainerStats_"+e.containerId}),r.next=17;break;case 10:return r.next=12,S.D.getStats(c);case 12:i=r.sent,u=i.data,(l=i.error)&&(Z(l),console.log(l)),u&&(o(!0),t(u));case 17:case"end":return r.stop()}}),r)})))).apply(this,arguments)}if((0,c.useEffect)(E(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(xe(e.showCpu),Se(e.showDisk),De(e.showNetwork),Ne(e.showMemory),Te(e.showProcesses),Ue(e.hideControls),!e.containerId){t.next=12;break}if(Qe){t.next=10;break}return t.next=10,Ke();case 10:$e(),p.current&&setTimeout((function(){r()}),500);case 12:case"end":return t.stop()}}),t)}))),[e]),(0,c.useEffect)((function(){return function(){if((null===le||void 0===le?void 0:le.current)&&(clearInterval(le.current),ue(null)),Ge.current){var t="hostcontainerStats_"+e.containerId;Ge.current.removeListener(t)}}}),[]),G)return(0,a.jsx)("div",{children:"Failed to load stats"});var Je=function(){var e=E(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce.current&&clearTimeout(ce.current),r=setTimeout(E(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he(null),o(!0),J(new Date(t)),setTimeout((function(){$e()}));case 4:case"end":return e.stop()}}),e)}))),1500),ae(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=E(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he(t.value),setTimeout((function(){o(!0),$e()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=!p.current;h(e),e?r():rt()},rt=function(){le.current&&(clearInterval(le.current),ue(null))};return(0,a.jsxs)(a.Fragment,{children:[!Me.current&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"grid col-12",children:(0,a.jsxs)("div",{className:"p-inputgroup",children:[(0,a.jsxs)("label",{className:"ml-5 mt-2 mr-2",htmlFor:"startDate",children:["Start:"," "]}),(0,a.jsx)(H.f,{id:"startDate",name:"startDate",value:X.current,onSelect:function(e){return function(e){(null===ce||void 0===ce?void 0:ce.current)&&clearTimeout(ce.current);var t=setTimeout((function(){he(null),o(!0),K(new Date(e)),setTimeout((function(){$e()}))}),1500);ae(t)}(e.value)},showIcon:!0,showTime:!0,showSeconds:!0,maxDate:ee.current}),(0,a.jsx)("label",{className:"ml-5 mr-2 mt-2",htmlFor:"endDate",children:"End:"}),(0,a.jsx)(H.f,{id:"endDate",name:"endDate",value:ee.current,onSelect:function(e){return Je(e.value)},showIcon:!0,showTime:!0,showSeconds:!0,minDate:X.current,maxDate:re.current}),(0,a.jsxs)("label",{className:"ml-5 mr-2 mt-2",htmlFor:"endDate",children:["Range:"," "]}),(0,a.jsx)(P.L,{className:"mt-0",name:"range",value:me,options:[{name:"Custom",value:null},{name:"1 Minute",value:60},{name:"5 Minutes",value:300},{name:"15 Minutes",value:900},{name:"30 Minutes",value:1800},{name:"60 Minutes",value:3600},{name:"90 Minutes",value:5400},{name:"2 Hours",value:7200},{name:"3 Hours",value:10800},{name:"6 Hours",value:21600},{name:"8 Hours",value:28800},{name:"12 Hours",value:43200}],onChange:et,optionLabel:"name",placeholder:"Select a Range"}),!p.current&&(0,a.jsx)(V.z,{className:"ml-2 p-button p-button-secondary",tooltip:"Start Stats Refreshing",tooltipOptions:{position:"bottom"},icon:"fa fa-play",onClick:tt}),p.current&&(0,a.jsx)(V.z,{className:"ml-2 p-button-raised p-button-secondary",tooltip:"Stop Stats Refreshing",tooltipOptions:{position:"bottom"},icon:"fa fa-pause",onClick:tt})]})})}),(0,a.jsx)("div",{className:"grid",children:(0,a.jsxs)("div",{className:"col-12 grid",children:[je.current&&(0,a.jsx)("div",{className:"col-12 m-auto mt-0",children:(0,a.jsx)(b.s,{header:"CPU Stats - "+e.container.name,toggleable:!0,children:(0,a.jsx)(R.B,{ref:Ae,className:"m-4",statsCPU:L,statsDates:_,startDate:B,endDate:q})})}),we.current&&(0,a.jsx)("div",{className:"col-12 m-auto mt-0",children:(0,a.jsx)(b.s,{header:"Memory Stats - "+e.container.name,toggleable:!0,children:(0,a.jsx)(C.r,{ref:_e,className:"m-4",statsMemory:g,statsDates:_,startDate:B,endDate:q})})}),Ve.current&&(0,a.jsx)("div",{className:"col-12 m-auto mt-0",children:(0,a.jsx)(b.s,{header:"Processes - "+e.container.name,toggleable:!0,children:(0,a.jsx)(D.R,{ref:Fe,className:"m-4",statsProcesses:v,statsDates:_,startDate:B,endDate:q})})}),Ie.current&&(0,a.jsx)("div",{className:"col-12 m-auto mt-0",children:(0,a.jsx)(b.s,{header:"Network Stats - "+e.container.name,toggleable:!0,children:(0,a.jsx)(I.X,{ref:Ye,className:"m-4",statsNetworkIn:w,statsNetworkOut:U,statsDates:_,startDate:B,endDate:q})})})]})})]})}function M(e){var t,r=(0,c.useState)(!0)[0];(0,c.useRef)(r).current=r;var n=(0,i.v9)((function(e){return e.hosts.activeHost})),s=(0,i.v9)((function(e){return e.containers})),o=(0,c.useRef)(n);o.current=n;var u=(0,c.useState)(),l=u[0],d=u[1],m=(0,c.useRef)(l);m.current=l;var h=(0,c.useState)(),p=h[0],f=h[1],v=(0,c.useRef)(p);v.current=p;var x=(0,c.useState)(),j=x[0],g=x[1],k=(0,c.useRef)(j);k.current=j,(0,c.useEffect)((function(){e.host&&(d(e.host),setTimeout((function(){N()}),500))}),[e.host]),(0,c.useEffect)((function(){}),[k.current]);var N=function(){var e,t,r,n=[],a=[];(null===(e=m.current)||void 0===e?void 0:e.id)&&(r=m.current),!r&&(null===(t=o.current)||void 0===t?void 0:t.id)&&(r=o.current),r&&(Object.keys(s[r.id].containers).forEach((function(e){var t=s[r.id].containers[e].running?" (running) ":"",c={id:s[r.id].containers[e].id,name:s[r.id].containers[e].name,label:s[r.id].containers[e].name+" - "+s[r.id].containers[e].containerId+" "+t,running:s[r.id].containers[e].running,containerId:s[r.id].containers[e].containerId};n.push(c),s[r.id].containers[e].running&&a.push(c)})),n.sort((function(e,t){return e.name||(e.name="Unknown"),e.name.localeCompare(t.name)})),n.sort((function(e,t){return e.running>t.running})),g(n),f(a))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"col-12",children:(0,a.jsx)("div",{className:"form-group",children:(0,a.jsxs)("div",{className:"p-inputgroup",children:[(0,a.jsx)("span",{className:"p-inputgroup-addon",children:"Select Containers:"}),(0,a.jsx)(y.N,{name:"containers",id:"containers",options:k.current,optionLabel:"label",filter:!0,filterBy:"name",showClear:!0,value:null===v||void 0===v?void 0:v.current,placeholder:"Select Containers",onChange:function(e){f(e.value)},className:"multiselect-clearfix pl-2 pt-2 pb-2 form-control f-height-inputs"},"containers")]})})}),(null===(t=v.current)||void 0===t?void 0:t.length)>0&&(0,a.jsx)("div",{className:"col-12",children:v.current.map((function(t,r){return(0,a.jsx)("div",{className:"col-12 m-0 p-0",children:(0,a.jsx)(U,{container:t,containerId:t.containerId,showCpu:e.showCpu,showMemory:e.showMemory,showDisk:e.showDisk,showNetwork:e.showNetwork,showProcesses:e.showProcesses,hideControls:e.hideControls})},"charts___"+r)}))})]})}var A=r(21838);function _(e,t,r,n,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void r(u)}i.done?t(o):Promise.resolve(o).then(n,s)}function F(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function c(e){_(a,n,s,c,i,"next",e)}function i(e){_(a,n,s,c,i,"throw",e)}c(void 0)}))}}function Y(e){var t,r,n,u,l,m=function(e){switch(e){case"containers":V.current||Je(S),T(!V.current);break;case"stats":q.current||(Je(q),$(!0),te(!0));break;case"memory":q.current||(Je(q),$(!0),ae(!0));break;case"volumes":_.current||Je(C),U(!_.current);break;case"images":W.current||Je(D),z(!W.current);break;case"networks":B.current||Je(R),Q(!B.current)}},h=(0,i.v9)((function(e){return e.containers})),p=(0,i.v9)((function(e){return e.volumes})),f=(0,i.v9)((function(e){return e.images})),y=(0,i.v9)((function(e){return e.networks})),S=(0,c.useRef)(null),R=(0,c.useRef)(null),C=(0,c.useRef)(null),D=(0,c.useRef)(null),I=(0,c.useRef)(null),H=(0,c.useState)(!1),P=H[0],T=H[1],V=(0,c.useRef)(P);V.current=P;var O=(0,c.useState)(!1),E=O[0],U=O[1],_=(0,c.useRef)(E);_.current=E;var Y=(0,c.useState)(!1),L=Y[0],z=Y[1],W=(0,c.useRef)(L);W.current=L;var G=(0,c.useState)(!1),Z=G[0],Q=G[1],B=(0,c.useRef)(Z);B.current=Z;var K=(0,c.useState)(!1),X=K[0],$=K[1],q=(0,c.useRef)(X);q.current=X;var J=(0,c.useState)(!0),ee=J[0],te=J[1],re=(0,c.useRef)(ee);re.current=ee;var ne=(0,c.useState)(!1),se=ne[0],ae=ne[1],ce=(0,c.useRef)(se);ce.current=se;var ie=(0,c.useState)(!1),oe=ie[0],ue=ie[1],le=(0,c.useRef)(oe);le.current=oe;var de=(0,c.useState)(!1),me=de[0],he=de[1],pe=(0,c.useRef)(me);pe.current=me;var fe=(0,c.useState)(!1),ve=fe[0],xe=fe[1],je=(0,c.useRef)(ve);je.current=ve;var ge=(0,c.useState)(!0)[0],ke=(0,c.useRef)(ge);ke.current=ge;var Ne=(0,c.useState)({cpuUsage:0,memInUse:0,diskRead:0,diskWrite:0,networkIn:0,networkOut:0,imageSize:0,processes:0,volumeSize:0}),we=Ne[0],be=Ne[1],ye=(0,c.useRef)(we);ye.current=we;var Se=(0,c.useState)(),Re=Se[0],Ce=Se[1],De=(0,c.useRef)(Re);De.current=Re;var Ie=(0,c.useState)(),He=Ie[0],Pe=Ie[1];(0,c.useRef)(He).current=He;var Te=(0,c.useState)(),Ve=Te[0],Oe=Te[1];(0,c.useRef)(Ve).current=Ve;var Ee=(0,c.useState)(),Ue=Ee[0],Me=Ee[1],Ae=(0,c.useRef)(Ue);Ae.current=Ue;var _e=(0,c.useState)(),Fe=_e[0],Ye=_e[1],Le=(0,c.useRef)(Fe);Le.current=Fe;var ze=(0,c.useState)(),We=ze[0],Ge=ze[1],Ze=(0,c.useRef)(We);Ze.current=We;var Qe=(0,c.useState)(),Be=Qe[0],Ke=Qe[1],Xe=(0,c.useRef)(Be);Xe.current=Be,(0,c.useEffect)((function(){e.dockerInfo&&Ce(e.dockerInfo),e.dockerVersion&&Pe(e.dockerVersion),e.dockerUsage&&Oe(e.dockerUsage),e.dockerPing&&Me(e.dockerPing),e.dockerHost&&Ye(e.dockerHost),setTimeout((function(){!function(){var e,t;if(Le.current){var r=[];(null===(e=p[Le.current.id])||void 0===e?void 0:e.volumes)&&Object.keys(p[Le.current.id].volumes).forEach((function(e){var t=p[Le.current.id].volumes[e];Object.keys(t).forEach((function(e){var n=t[e];r.push(n)}))})),Ke(r);var n=[];(null===(t=y[Le.current.id])||void 0===t?void 0:t.networks)&&Object.keys(y[Le.current.id].networks).forEach((function(e){var t=y[Le.current.id].networks[e];Object.keys(t).forEach((function(e){var r=t[e];n.push(r)}))})),Ge(n)}}(),ct()}),300)}),[e]),(0,c.useEffect)((function(){ct()}),[]),(0,c.useEffect)((function(){}),[Ae.current]),(0,c.useEffect)((function(){ct()}),[h]);var $e=function(e){var t=e.collapsed?"pi pi-chevron-down":"pi pi-chevron-up",r="".concat(e.className," justify-content-start"),n="".concat(e.titleClassName," pl-1");return(0,a.jsx)("div",{className:r,children:(0,a.jsxs)("div",{className:"col-12 grid",children:[(0,a.jsx)("div",{className:"col-10",children:(0,a.jsx)("span",{className:n,children:e.props.header})}),(0,a.jsxs)("div",{className:"col-2 text-right",children:[(0,a.jsxs)("button",{className:e.togglerClassName+" mr-4",onClick:e.onTogglerClick,tooltip:"Collapse this panel",children:[(0,a.jsx)("span",{className:t}),(0,a.jsx)(o.H,{})]}),(0,a.jsxs)("button",{className:e.togglerClassName,onClick:function(){qe(e.props.closeAction)},tooltip:"Close this panel",children:[(0,a.jsx)("span",{className:"pi pi-times"}),(0,a.jsx)(o.H,{})]})]})]})})},qe=function(e){switch(e){case"images":z(!1);break;case"networks":Q(!1);break;case"containers":T(!1);break;case"volumes":U(!1);break;case"stats":$(!1)}},Je=function(e){if(e.current){var t=document.getElementById(e.current.id).getBoundingClientRect().top+window.pageYOffset-45;window.scrollTo({top:t,behavior:"smooth"})}},et=function(){var e=F(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("containers",V.current);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(){var e=F(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("networks",B.current);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rt=function(){var e=F(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("volumes",_.current);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nt=function(){var e=F(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("images",W.current);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=F(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("stats",q.current);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),at=function(){var e=F(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("memory",q.current);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=F(s().mark((function e(){var t,r,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Le.current){e.next=3;break}return e.abrupt("return");case 3:if(h){e.next=5;break}return e.abrupt("return");case 5:n={memInUse:0,cpuUsage:0,diskRead:0,diskWrite:0,networkIn:0,networkOut:0,imageSize:0,processes:0,swapMemory:0},a=0,(null===(t=h[Le.current.id])||void 0===t?void 0:t.containers)&&Object.keys(h[Le.current.id].containers).forEach((function(e){var t,r,s,c,i,o,u,l=h[Le.current.id].containers[e];l.running&&(n.memInUse+=(null===(t=l.statsSummary)||void 0===t?void 0:t.memoryUsage)||0,n.cpuUsage+=(null===(r=l.statsSummary)||void 0===r?void 0:r.cpuUsage)||0,n.diskRead+=(null===(s=l.statsSummary)||void 0===s?void 0:s.diskread)||0,n.diskWrite+=(null===(c=l.statsSummary)||void 0===c?void 0:c.diskWrite)||0,n.networkIn+=(null===(i=l.statsSummary)||void 0===i?void 0:i.networkRx)||0,n.networkOut+=(null===(o=l.statsSummary)||void 0===o?void 0:o.networkTx)||0,n.processes+=(null===(u=l.statsSummary)||void 0===u?void 0:u.processes)||0,a++)})),(null===(r=f[Le.current.id])||void 0===r?void 0:r.images)&&Object.keys(f[Le.current.id].images).forEach((function(e){var t=f[Le.current.id].images[e];n.imageSize+=Number(t.fileSize)||0})),n.cpuUsage=Math.round(n.cpuUsage/a),be(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"OK"!==Ae.current?(0,a.jsx)("div",{className:"col-12 text-center",children:"Host is offline or cannot be reached."}):De.current?(null===Le||void 0===Le||null===(t=Le.current)||void 0===t?void 0:t.id)?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"surface-ground mt-0",children:[(0,a.jsx)("div",{className:"col-12 m-0 p-0",children:(0,a.jsxs)("div",{className:"col-12 surface-card col-0 m-0",style:{borderRadius:"10px"},children:[(0,a.jsxs)("div",{className:"grid col-12 mb-0 m-0",children:[(0,a.jsx)("div",{className:"col-2",children:(0,a.jsxs)("div",{onClick:function(){return st()},style:{cursor:"pointer"},className:"containerSummaryDivHighlight card height-100 shadow-4 ml-2 mt-3 px-2 py-2 text-center p-ripple cyan",children:[(0,a.jsx)(o.H,{}),(0,a.jsx)(x.G,{icon:j.Owo,className:"text-4xl text-cyan-600 mb-2",swapOpacity:!0}),(0,a.jsx)("div",{className:"text-900 font-bold text-4xl mb-1 line-height-2 text-center",children:(null===De||void 0===De||null===(r=De.current)||void 0===r?void 0:r.NCPU)||0}),(0,a.jsx)("p",{className:"text-700 m-0",children:"CPUs"}),(0,a.jsxs)("p",{className:"text-700 m-0",children:[null===ye||void 0===ye?void 0:ye.current.cpuUsage,"% In Use"]})]})}),(0,a.jsx)("div",{className:"col-2",children:(0,a.jsxs)("div",{onClick:function(){return at()},style:{cursor:"pointer"},className:"containerSummaryDivHighlight card height-100 shadow-4 ml-2 mt-3 px-2 py-2 text-center p-ripple blue",children:[(0,a.jsx)(o.H,{}),(0,a.jsx)(x.G,{icon:j.zvy,className:"text-4xl text-blue-600 mb-2",swapOpacity:!0}),(0,a.jsx)("div",{className:"text-900 font-bold text-3xl mb-1 line-height-2 text-center",children:v.t.bytes((null===De||void 0===De||null===(n=De.current)||void 0===n?void 0:n.MemTotal)||0)}),(0,a.jsx)("p",{className:"text-700 m-0",children:"Max Memory"}),(0,a.jsxs)("p",{className:"text-700 m-0",children:[v.t.bytes((null===ye||void 0===ye?void 0:ye.current.memInUse)||0)," In Use"]})]})}),(0,a.jsx)("div",{className:"col-2",children:(0,a.jsxs)("div",{style:{cursor:"pointer"},onClick:function(){return et()},className:"containerSummaryDivHighlight card height-100 shadow-4 ml-2 mt-3 px-2 py-2 text-center p-ripple orange",children:[(0,a.jsx)(o.H,{}),(0,a.jsx)(x.G,{icon:j.Zrf,className:"text-4xl text-orange-600 mb-2",swapOpacity:!0}),(0,a.jsx)("div",{className:"text-900 font-bold text-3xl mb-1 line-height-2 text-center",children:Re.Containers||0}),(0,a.jsx)("p",{className:"text-700 m-0",children:"Containers"}),(0,a.jsxs)("span",{className:"text-900",children:[Re.ContainersRunning||0," Running",(0,a.jsx)("br",{}),null===ye||void 0===ye?void 0:ye.current.processes," Processes"]})]})}),(0,a.jsx)("div",{className:"col-2",children:(0,a.jsxs)("div",{onClick:function(){return tt()},style:{cursor:"pointer"},className:"containerSummaryDivHighlight card height-100 shadow-4 ml-2 mt-3 px-2 py-2 text-center p-ripple yellow",children:[(0,a.jsx)(o.H,{}),(0,a.jsx)(x.G,{icon:j.kXW,className:"text-4xl text-yellow-600 mb-2",swapOpacity:!0}),(0,a.jsx)("div",{className:"text-900 font-bold text-3xl mb-1 line-height-2 text-center",children:(null===Ze||void 0===Ze||null===(u=Ze.current)||void 0===u?void 0:u.length)||0}),(0,a.jsx)("p",{className:"text-700 m-0",children:"Networks"}),(0,a.jsxs)("span",{className:"text-900",children:[v.t.bytes((null===ye||void 0===ye?void 0:ye.current.networkOut)||0)," Tx",(0,a.jsx)("br",{}),v.t.bytes((null===ye||void 0===ye?void 0:ye.current.networkIn)||0)," Rx"]})]})}),(0,a.jsx)("div",{className:"col-2",children:(0,a.jsxs)("div",{onClick:function(){return rt()},style:{cursor:"pointer"},className:"containerSummaryDivHighlight card height-100 shadow-4 ml-2 mt-3 mr-2 px-2 py-2 text-center p-ripple purple",children:[(0,a.jsx)(o.H,{}),(0,a.jsx)(x.G,{icon:j.Yws,className:"text-4xl text-purple-600 mb-2",swapOpacity:!0}),(0,a.jsx)("div",{className:"text-900 font-bold text-3xl mb-1 line-height-2 text-center",children:(null===Xe||void 0===Xe||null===(l=Xe.current)||void 0===l?void 0:l.length)||0}),(0,a.jsx)("p",{className:"text-700 m-0",children:"Volumes"}),(0,a.jsxs)("span",{className:"text-900",children:[v.t.bytes((null===ye||void 0===ye?void 0:ye.current.diskRead)||0)," Read",(0,a.jsx)("br",{}),v.t.bytes((null===ye||void 0===ye?void 0:ye.current.diskWrite)||0)," Write"]})]})}),(0,a.jsx)("div",{className:"col-2",children:(0,a.jsxs)("div",{onClick:function(){return nt()},style:{cursor:"pointer"},className:"containerSummaryDivHighlight card height-100 shadow-4 ml-2 mt-3 px-2 py-2 text-center p-ripple green",children:[(0,a.jsx)(o.H,{}),(0,a.jsx)(x.G,{icon:j.Yws,className:"text-4xl text-green-600 mb-2",swapOpacity:!0}),(0,a.jsx)("div",{className:"text-900 font-bold text-3xl mb-1 line-height-2 text-center",children:De.current.Images||0}),(0,a.jsx)("p",{className:"text-700 m-0",children:"Images"}),(0,a.jsx)("span",{className:"text-900",children:v.t.bytes((null===ye||void 0===ye?void 0:ye.current.imageSize)||0)})]})})]}),q.current&&(0,a.jsxs)("div",{className:"grid col-12 mt-1 mb-0 m-0",children:[(0,a.jsx)("div",{className:"col-2 p-0 m-0",children:(0,a.jsx)("div",{className:"col-12 p-0 mt-0 mb-0 text-center",children:(0,a.jsx)(A.Q,{tooltip:"Show Charts",className:"charts-input-switch",checked:re.current,onChange:function(e){e.preventDefault(),te(e.value)}})})}),(0,a.jsx)("div",{className:"col-2 p-0 m-0",children:(0,a.jsx)("div",{className:"col-12 p-0 mt-1 mb-0 text-center",children:(0,a.jsx)(A.Q,{tooltip:"Show Memory Charts",className:"charts-input-switch",checked:ce.current,onChange:function(e){e.preventDefault(),ae(e.value)}})})}),(0,a.jsx)("div",{className:"col-2 p-0 m-0",children:(0,a.jsx)("div",{className:"col-12 p-0 mt-1 mb-0 text-center",children:(0,a.jsx)(A.Q,{tooltip:"Show Processes Charts",className:"charts-input-switch",checked:je.current,onChange:function(e){e.preventDefault(),xe(e.value)}})})}),(0,a.jsx)("div",{className:"col-2 p-0 m-0",children:(0,a.jsx)("div",{className:"col-12 p-0 mt-1 mb-0 text-center",children:(0,a.jsx)(A.Q,{tooltip:"Show Networks Charts",className:"charts-input-switch",checked:pe.current,onChange:function(e){e.preventDefault(),he(e.value)}})})}),(0,a.jsx)("div",{className:"col-2 p-0 m-0",children:(0,a.jsx)("div",{className:"col-12 p-0 mt-1 mb-0 text-center",children:(0,a.jsx)(A.Q,{tooltip:"Show Disk Charts",className:"charts-input-switch",checked:le.current,onChange:function(e){e.preventDefault(),ue(e.value)}})})}),(0,a.jsx)("div",{className:"col-2 p-0 m-0"})]}),(0,a.jsx)("div",{className:"col-12 p-0 mb-4"})]})}),(0,a.jsx)("div",{ref:I,id:"showStatsPanel",className:"col-12 m-0 p-0",children:q.current&&(0,a.jsx)(b.s,{className:"sitePanel",header:"Host Stats: "+Le.current.name,hideHeader:!0,headerTemplate:$e,toggleable:!0,closeAction:"stats",children:(0,a.jsx)(M,{host:Le.current,showCpu:re.current,showMemory:ce.current,showDisk:le.current,showNetwork:pe.current,showProcesses:je.current,hideControls:ke.current})})}),(0,a.jsx)("div",{ref:S,id:"showContainersPanel",className:"col-12 m-0 p-0",children:V.current&&(0,a.jsx)(b.s,{className:"sitePanel",header:"",hideHeader:!0,headerTemplate:$e,toggleable:!0,closeAction:"containers",children:(0,a.jsx)(g.default,{host:Le.current})})}),(0,a.jsx)("div",{ref:D,id:"showImagesPanel",className:"col-12 m-0 p-0",children:W.current&&(0,a.jsx)(b.s,{className:"sitePanel",header:"",hideHeader:!0,headerTemplate:$e,toggleable:!0,closeAction:"images",children:(0,a.jsx)(w.default,{host:Le.current})})}),(0,a.jsx)("div",{ref:C,id:"showVolumesPanel",className:"col-12 m-0 p-0",children:_.current&&(0,a.jsx)(b.s,{className:"sitePanel",header:"",hideHeader:!0,headerTemplate:$e,toggleable:!0,closeAction:"volumes",children:(0,a.jsx)(k.default,{host:Le.current})})}),(0,a.jsx)("div",{ref:R,id:"showNetworksPanel",className:"col-12 m-0 p-0",children:B.current&&(0,a.jsx)(b.s,{className:"sitePanel",header:"",hideHeader:!0,headerTemplate:$e,toggleable:!0,closeAction:"networks",children:(0,a.jsx)(N.default,{host:Le.current})})})]})}):(0,a.jsx)("div",{}):(0,a.jsx)(d.$,{})}var L=r(11163);function z(e,t,r,n,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void r(u)}i.done?t(o):Promise.resolve(o).then(n,s)}function W(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function c(e){z(a,n,s,c,i,"next",e)}function i(e){z(a,n,s,c,i,"throw",e)}c(void 0)}))}}function G(e){var t,r,n,p,v=(0,L.useRouter)(),x=(0,c.useState)(!0),j=x[0],g=x[1];(0,c.useRef)(j).current=j;var k=(0,c.useState)(),N=k[0],w=k[1],y=(0,c.useRef)(N);y.current=N;var S=(0,c.useState)(!1),R=S[0],C=S[1],D=(0,i.v9)((function(e){return e.hosts.activeHost})),I=(0,c.useRef)(D);I.current=D;var H=(0,c.useState)(),P=H[0],T=H[1],V=(0,c.useRef)(P);V.current=P;var O=(0,c.useState)(),E=O[0],U=O[1];(0,c.useRef)(E).current=E;var M=(0,c.useState)(),A=M[0],_=M[1],F=(0,c.useRef)(A);F.current=A;var z=(0,c.useState)(),G=z[0],Z=z[1],Q=(0,c.useRef)(G);Q.current=G;var B=(0,c.useState)(),K=B[0],X=B[1],$=(0,c.useRef)(K);$.current=K;var q=(0,c.useState)(),J=q[0],ee=q[1],te=(0,c.useRef)(null),re=(0,c.useState)({system:{kernelMemory:!0,memoryLimit:!0,swapLimit:!0,cpuShares:!0,cpuSet:!0,pidsLimit:!0,containers:0,containersRunning:0,containersPaused:0,containersStopped:0,images:0,memTotal:0,dockerRootdir:"/var/lib/docker",httpProxy:"",httpsProxy:"",serverVersion:"",cpuNum:0},version:{platform:"Docker",version:null,apiVersion:null,minApiVersion:null,gitCommit:null,os:null,arch:null,kernelVersion:null,experimental:null,buildTime:null},ping:null}),ne=re[0],se=re[1],ae=(0,c.useRef)(ne);ae.current=ne;var ce=(0,i.v9)((function(e){return e.hosts.hosts}));function ie(){return oe.apply(this,arguments)}function oe(){return(oe=W(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R){e.next=2;break}return e.abrupt("return");case 2:return C(!0),t="mainDashboardResults",e.next=6,u.L.getSocket();case 6:return(r=e.sent).on(t,(function(e){if("success"===e.status&&e.data){var t=e.data;switch(e.hook){case"dockerInfo":he(e.data);break;case"dockerVersion":fe(e.data);break;case"dockerUsage":break;case"dockerPing":xe(e.data)}U(t),de()}})),w(r),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return le.apply(this,arguments)}function le(){return(le=W(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===V||void 0===V||null===(t=V.current)||void 0===t?void 0:t.id){e.next=3;break}return e.abrupt("return");case 3:if(y.current){e.next=5;break}return e.abrupt("return");case 5:g(!0),y.current.emit("docker",{command:"dockerInfo",callback:"mainDashboardResults",hook:"dockerInfo",hostId:V.current.id}),y.current.emit("docker",{command:"dockerPing",callback:"mainDashboardResults",hook:"dockerPing",hostId:V.current.id}),y.current.emit("docker",{command:"dockerVersion",callback:"mainDashboardResults",hook:"dockerVersion",hostId:V.current.id}),setTimeout((function(){g(!1)}),1e3);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return me.apply(this,arguments)}function me(){return(me=W(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=[]).push({label:"Create Volume",icon:"fa fa-plus",tooltip:"Create Volume.",className:r="",command:function(){v.push("/volumes/create")}}),t.push({label:"View Volumes",icon:"fa fa-fw fa-list",tooltip:"View Volumes.",className:r,command:function(){v.push("/volumes")}}),t.push({label:"Create Image",icon:"fa fa-plus",tooltip:"Create Image.",className:r,command:function(){v.push("/images/create")}}),t.push({label:"View Images",icon:"fa fa-fw fa-list",tooltip:"View Image.",className:r,command:function(){v.push("/images")}}),t.push({label:"Create Container",icon:"fa fa-fw fa-tv",tooltip:"Create Container.",className:r,command:function(){v.push("/containers/create")}}),t.push({label:"View Containers",icon:"fa fa-fw fa-list",tooltip:"View Containers.",className:r,command:function(){v.push("/containers")}}),ee(t),g(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){return pe.apply(this,arguments)}function pe(){return(pe=W(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){return ve.apply(this,arguments)}function ve(){return(ve=W(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e){return je.apply(this,arguments)}function je(){return(je=W(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ae.current.ping=t,se(ae.current),X(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if((0,c.useRef)(ce).current=ce,(0,c.useEffect)(W(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R){e.next=3;break}return e.next=3,ie();case 3:setTimeout((function(){return ue()}),500);case 4:case"end":return e.stop()}}),e)}))),[V.current]),(0,c.useEffect)(W(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===(r=e.host)||void 0===r?void 0:r.id)?T(e.host):I.current&&T(I.current);case 2:case"end":return t.stop()}}),t)}))),[e.host,I.current]),(0,c.useEffect)((function(){}),[]),(0,c.useEffect)((function(){return function(){if(null===y||void 0===y?void 0:y.current){y.current.removeListener("mainDashboardResults")}}}),[]),j)return(0,a.jsx)(d.$,{});if(!V.current)return(0,a.jsx)("div",{children:"Host not selected."});var ge=function(e){console.log("Panel",e)};return(null===(t=V.current)||void 0===t?void 0:t.id)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"col-12 p-0 ml-1 mr-1 grid",children:[(0,a.jsx)("div",{className:"col-12 mt-4 text-900 font-bold text-4xl line-height-1 mb-1 text-center",children:(0,a.jsxs)("div",{className:"col-12 text-center grid",children:[(0,a.jsxs)("div",{className:"ml-auto mr-auto col-0 text-left grid mb-0 pb-0",children:[(0,a.jsx)(f,{className:"p-2 mr-2 mb-1 mr-3",status:ae.current.ping}),(0,a.jsxs)("div",{className:"mt-0 p-0",children:["Docker Host: ",V.current.name]})]}),(0,a.jsx)("div",{className:"col-12 mb-0",children:(0,a.jsxs)("p",{className:"text-600 line-height-3 text-lg m-0 mb-0 text-center",children:["Status: ",$.current||"Unknown"]})}),(0,a.jsx)("div",{className:"col-12 mb-0 mt-0",children:(0,a.jsxs)("p",{className:"text-600 line-height-3 text-lg m-0 mb-0 mt-0 pt-0 text-center",children:[(0,a.jsx)(m.default,{className:"mr-4",href:"https://docs.docker.com/engine/release-notes",passHref:!0,children:(0,a.jsxs)("a",{target:"_blank",className:"lightblue-color",children:["Docker v",(null===Q||void 0===Q||null===(r=Q.current)||void 0===r?void 0:r.Version)||"Uknown"]})}),(0,a.jsx)("span",{className:"ml-1 mr-1 pl-1 pr-1",children:"|"}),(0,a.jsx)(m.default,{className:"ml-3",href:"https://docs.docker.com/engine/api/v"+(null===Q||void 0===Q||null===(n=Q.current)||void 0===n?void 0:n.ApiVersion),passHref:!0,children:(0,a.jsxs)("a",{target:"_blank",className:"lightblue-color",children:["Engine v",(null===Q||void 0===Q||null===(p=Q.current)||void 0===p?void 0:p.ApiVersion)||"Unknown"]})})]})})]})}),"OK"===$.current&&(0,a.jsx)("div",{className:"col-12 p-0 m-0 mb-2 menubar-background",children:(0,a.jsx)(h.n,{className:"col-12 mb-2 ml-0 mr-0 justify-content-center menubar-menu",model:J})}),(0,a.jsx)("div",{id:"showSummaryPanel",className:"col-12 p-0 m-0",children:(0,a.jsx)(b.s,{className:"sitePanel",ref:te,header:"Summary Vitals",headerTemplate:function(e){var t=e.collapsed?"pi pi-chevron-down":"pi pi-chevron-up",r="".concat(e.className," justify-content-start"),n="".concat(e.titleClassName," pl-1");return(0,a.jsx)("div",{className:r,children:(0,a.jsxs)("div",{className:"col-12 grid",children:[(0,a.jsx)("div",{className:"col-10",children:(0,a.jsx)("span",{className:n,children:e.props.header})}),(0,a.jsxs)("div",{className:"col-2 text-right",children:[(0,a.jsxs)("button",{className:e.togglerClassName+" mr-4",onClick:e.onTogglerClick,tooltip:"Collapse this panel",children:[(0,a.jsx)("span",{className:t}),(0,a.jsx)(o.H,{})]}),(0,a.jsxs)("button",{className:e.togglerClassName,onClick:function(){ge(e.props.closeAction)},tooltip:"Close this panel",children:[(0,a.jsx)("span",{className:"pi pi-times"}),(0,a.jsx)(o.H,{})]})]})]})})},toggleable:!0,closeAction:"summary",children:(0,a.jsx)(Y,{dockerInfo:F.current,dockerVersion:Q.current,dockerHost:V.current,dockerPing:$.current})})}),(0,a.jsxs)("div",{className:"col-12 mt-6",children:[(0,a.jsx)(l.Z,{className:"mt-3",header:"Docker Ping",data:K,collapsed:"true"}),(0,a.jsx)(l.Z,{className:"mt-3",header:"Docker Version",data:G,collapsed:"true"}),(0,a.jsx)(l.Z,{className:"mt-3",header:"Docker Info",data:A,collapsed:"true"}),(0,a.jsx)(l.Z,{className:"mt-3",header:"Dockermon Host Info",data:V.current,collapsed:"true"})]})]}),(0,a.jsx)("div",{className:"bottom-spacer col-12 m-0 p-0",style:{height:"800px"}})]}):(0,a.jsx)(a.Fragment,{})}}}]);