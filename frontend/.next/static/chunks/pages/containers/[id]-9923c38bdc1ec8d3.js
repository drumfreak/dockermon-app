(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5452],{47564:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/containers/[id]",function(){return n(36368)}])},13413:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(34051),a=n.n(r),s=n(85893),o=n(67294),i=n(11163),c=n(96486),l=n.n(c),u=n(66823),d=n(99403),m=n(92814),p=n(51436),f=n(25617);function h(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){h(s,r,a,o,i,"next",e)}function i(e){h(s,r,a,o,i,"throw",e)}o(void 0)}))}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}function j(e){var t=(0,f.v9)((function(e){return e.networks})),n=(0,f.v9)((function(e){return e.containers})),r=(0,o.useRef)(n);r.current=n;var c=(0,i.useRouter)(),h=(0,o.useState)(null),x=h[0],j=h[1],b=(0,o.useRef)(x);b.current=x;var w=(0,o.useState)(null),N=w[0],k=w[1],y=(0,o.useRef)(N);y.current=N;var S=(0,o.useState)([]),C=S[0],R=S[1],P=(0,o.useState)([]),I=P[0],D=P[1];(0,o.useRef)(I).current=I;var T=function(e){var t=(0,o.useRef)();return(0,o.useEffect)((function(){t.current=e})),t.current}(N);function O(){return L.apply(this,arguments)}function L(){return(L=v(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(y.current);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=v(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.current&&t&&Object.keys(t).forEach((function(e){Object.keys(t[e].networks).forEach((function(){var n=t[e].networks[b.current];n&&(k(n),setTimeout((function(){E(y.current)})))}))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return A.apply(this,arguments)}function A(){return(A=v(a().mark((function t(n){var s,o,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return t.abrupt("return");case 3:if(o=n,n){t.next=6;break}return t.abrupt("return");case 6:i=[],(null===(s=n.containers)||void 0===s?void 0:s.length)>0&&n.containers.map((function(t){Object.keys(r.current).map((function(n){Object.keys(r.current[n].containers).filter((function(a){if(r.current[n].containers[a].containerId===t.containerId){var s=g({},r.current[n].containers[a]);Object.keys(o.details.Containers).map((function(e){if(e.includes(s.containerId)){var t=o.details.Containers[e];s.networkDetails=t}})),e.activeContainer===s.id?s.activeContainer=!0:s.activeContainer=!1,i.push({label:"node",type:"container",className:"network-root-container",expanded:!0,data:s,icon:"fa fa-fw fa-eye"})}}))}))})),D([{label:"network",type:"network",className:"network-root-node",expanded:!0,data:o,children:i,icon:"fa fa-fw fa-eye"}]);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,o.useEffect)((function(){j(e.network.id),setTimeout((function(){!function(){M.apply(this,arguments)}(),O()}))}),[e.network]),(0,o.useEffect)((function(){if(c.query.id&&t&&!l().isEqual(T,t[c.query.id])&&c.query.id in t){var e=t[c.query.id];k(e),setTimeout((function(){O()}),100)}}),[t]);return N?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"col-12",children:I.length>0&&(0,s.jsx)("div",{className:"col-12 network-orgchart",children:(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h5",{children:N.name}),(0,s.jsx)(u.O,{value:I,nodeTemplate:function(e){var t,n,r,a;if((null===(t=e.data)||void 0===t||null===(n=t.details)||void 0===n||null===(r=n.NetworkSettings)||void 0===r?void 0:r.IPAddress)&&(a=e.data.details.NetworkSettings.IPAddress),e.data.networkDetails&&e.data.networkDetails.IPv4Address&&(a=e.data.networkDetails.IPv4Address.split("/")[0]),e.type){var o,i,l,u,f="network-org-node ";return e.data.activeContainer&&(f+=" network-org-node-active"),(0,s.jsxs)("div",{className:f,children:["container"===e.type&&(0,s.jsx)("div",{className:"mt-0 pt-0",children:(0,s.jsx)(d.z,{className:"p-button-text p-button-plain col-12 mt-0 pt-0 mb-0 pb-0",onClick:function(){return c.push("/containers/"+e.data.id)},children:(0,s.jsxs)("div",{className:"col-12 grid pt-0 mt-0",children:[(0,s.jsx)("div",{className:"node-header mt-0 pt-0 pb-0 mb-0 col-12",children:(0,s.jsxs)("div",{className:"col-12",children:[(0,s.jsx)("div",{className:"col-12 text-center justify-content-center",children:(0,s.jsx)(m.G,{icon:p.MW5,className:"fa-xl text-green-500 mt-2 ml-auto mr-auto",swapOpacity:!0})}),(0,s.jsx)("div",{className:"col-12 text-center m-0 p-0",children:(0,s.jsx)("b",{children:e.data.name})})]})}),(0,s.jsx)("div",{className:"node-content col-12 p-0 m-0",children:a&&(0,s.jsx)(s.Fragment,{children:a})})]})})}),"network"===e.type&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"mt-0 pt-0",children:(0,s.jsx)(d.z,{className:"p-button-text p-button-plain col-12 mt-0 pt-0 mb-0 pb-0",onClick:function(){return c.push("/networks/"+e.data.id)},children:(0,s.jsxs)("div",{className:"col-12 grid pt-0 mt-0",children:[(0,s.jsx)("div",{className:"node-header mt-0 pt-0 pb-0 mb-0 col-12",children:(0,s.jsxs)("div",{className:"col-12",children:[(0,s.jsx)("div",{className:"col-12 text-center justify-content-center",children:(0,s.jsx)(m.G,{icon:p.kXW,className:"fa-3x text-green-500 mt-2 ml-auto mr-auto",swapOpacity:!0})}),(0,s.jsx)("div",{className:"col-12 text-center m-0 p-0",children:(0,s.jsx)("b",{children:e.data.name})})]})}),(0,s.jsx)("div",{className:"node-content col-12 p-0 m-0",children:(null===(u=null===(o=e.data)||void 0===o||null===(i=o.details)||void 0===i||null===(l=i.IPAM)||void 0===l?void 0:l.Config[0])||void 0===u?void 0:u.Gateway)&&(0,s.jsx)(s.Fragment,{children:e.data.details.IPAM.Config[0].Gateway})})]})})})})]})}if("department"===e.type)return e.label},selection:C,selectionMode:"multiple",onSelectionChange:function(e){return R(e.data)},className:"company"})]})})})}):(0,s.jsx)("div",{className:"text-center mt-5",children:"Network could not be found."})}},36368:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ct}});var r=n(34051),a=n.n(r),s=n(85893),o=n(42670),i=n(11163),c=n(67294),l=n(22946),u=n(11752),d=n(51388),m=(0,u.default)().publicRuntimeConfig,p="".concat(m.apiUrl),f=new l.X(""),h={results:f.asObservable(),getStats:function(e){return d.h.post("".concat(p,"/stats"),e).then((function(e){if("success"===e.status)return f.next(e),e;throw Error(e.message)})).catch((function(e){f.next(null),console.log(e)}))}};var v=n(53328),x=(n(5561),n(55376)),g=n(29318),j=n(25617);function b(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}v.kL.register(v.uw,v.FB,v.f$,v.od,v.jn,v.Gu,v.Dx,v.u,v.De);var w=(0,c.forwardRef)((function(e,t){var n,r,o,i=(0,c.useState)(null),l=i[0],u=i[1],d=(0,c.useState)(null),m=d[0],p=d[1],f=(0,c.useRef)(null),h=(0,j.v9)((function(e){return e.site}));(0,c.useImperativeHandle)(t,(function(){return{updateChart:function(){return(t=a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===(n=h.userSettings)||void 0===n?void 0:n.chartColors)){t.next=8;break}return(r=w(e).basicOptions).animation={duration:400},u(r),t.next=7,v(e);case 7:setTimeout((function(){(null===f||void 0===f?void 0:f.current)&&f.current.update()}),100);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var s=t.apply(e,n);function o(e){b(s,r,a,o,i,"next",e)}function i(e){b(s,r,a,o,i,"throw",e)}o(void 0)}))})();var t}}})),(0,c.useEffect)((function(){var t;(null===(t=h.userSettings)||void 0===t?void 0:t.chartColors)&&(u(w(e).basicOptions),v(e))}),[e]),(0,c.useEffect)((function(){var t;(null===(t=h.userSettings)||void 0===t?void 0:t.chartColors)&&(u(w(e).basicOptions),v(e))}),[null===h||void 0===h||null===(n=h.userSettings)||void 0===n?void 0:n.chartColors]);var v=function(e){var t={labels:g.Q.reduceStats(e.statsDates),datasets:[{label:"CPU Data",data:g.Q.reduceStats(e.statsCPU),borderColor:"#"+h.userSettings.chartColors.cpu||0,backgroundColor:"#"+h.userSettings.chartColors.cpu,hoverBackgroundColor:h.userSettings.chartColors.cpuHover||"#3380FF",fill:h.userSettings.chartColors.fill,lineTension:h.userSettings.chartColors.lineTension||.1,pointRadius:h.userSettings.chartColors.pointRadius||0,hoverOffset:h.userSettings.chartColors.hoverOffset||4}]};p(t)},w=function(e){return{basicOptions:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#"+h.userSettings.chartColors.labels}}},scales:{x:{type:"time",min:e.startDate,max:e.endDate,ticks:{color:"#"+h.userSettings.chartColors.ticksX},grid:{color:"#"+h.userSettings.chartColors.gridX}},y:{ticks:{color:"#"+h.userSettings.chartColors.ticksY},grid:{color:"#"+h.userSettings.chartColors.gridY}}}}}};return m?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"chart-foreground2",children:[(0,s.jsx)("div",{className:"chart-foreground",style:{background:"#"+(null===(r=h.userSettings)||void 0===r||null===(o=r.chartColors)||void 0===o?void 0:o.background)},children:(0,s.jsx)(x.x1,{ref:f,width:100,height:200,data:m,options:l})})," "]})})}):(0,s.jsx)("div",{children:"Loading"})})),N=n(57191);function k(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}v.kL.register(v.uw,v.FB,v.f$,v.od,v.jn,v.Gu,v.Dx,v.u,v.De);var y=(0,c.forwardRef)((function(e,t){var n,r,o,i=(0,c.useState)(null),l=i[0],u=i[1],d=(0,c.useState)(null),m=d[0],p=d[1],f=(0,c.useRef)(null),h=(0,j.v9)((function(e){return e.site}));(0,c.useImperativeHandle)(t,(function(){return{updateChart:function(){return(t=a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===(n=h.userSettings)||void 0===n?void 0:n.chartColors)){t.next=8;break}return(r=b(e).basicOptions).animation={duration:400},u(r),t.next=7,v(e);case 7:setTimeout((function(){(null===f||void 0===f?void 0:f.current)&&f.current.update()}),100);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var s=t.apply(e,n);function o(e){k(s,r,a,o,i,"next",e)}function i(e){k(s,r,a,o,i,"throw",e)}o(void 0)}))})();var t}}})),(0,c.useEffect)((function(){var t;(null===(t=h.userSettings)||void 0===t?void 0:t.chartColors)&&(u(b(e).basicOptions),v(e))}),[e]),(0,c.useEffect)((function(){var t;(null===(t=h.userSettings)||void 0===t?void 0:t.chartColors)&&(u(b(e).basicOptions),v(e))}),[null===h||void 0===h||null===(n=h.userSettings)||void 0===n?void 0:n.chartColors]);var v=function(e){var t={labels:g.Q.reduceStats(e.statsDates),datasets:[{label:"Memory Usage",data:g.Q.reduceStats(e.statsMemory),backgroundColor:"#"+h.userSettings.chartColors.memoryUsage,borderColor:"#"+h.userSettings.chartColors.memoryUsage||0,hoverBackgroundColor:h.userSettings.chartColors.memoryUsageHover||"#3380FF",fill:h.userSettings.chartColors.fill,lineTension:h.userSettings.chartColors.lineTension||.1,pointRadius:h.userSettings.chartColors.pointRadius||0,hoverOffset:h.userSettings.chartColors.hoverOffset||4}]};p(t)},b=function(e){return{basicOptions:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#"+h.userSettings.chartColors.labels}}},scales:{x:{type:"time",min:e.startDate,max:e.endDate,ticks:{color:"#"+h.userSettings.chartColors.ticksX},grid:{color:"#"+h.userSettings.chartColors.gridX}},y:{ticks:{color:"#"+h.userSettings.chartColors.ticksY,callback:function(e){return e>0?N.t.bytes(e):"0"}},grid:{color:"#"+h.userSettings.chartColors.gridY}}}}}};return m?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"chart-foreground2",children:[(0,s.jsx)("div",{className:"chart-foreground",style:{background:"#"+(null===(r=h.userSettings)||void 0===r||null===(o=r.chartColors)||void 0===o?void 0:o.background)},children:(0,s.jsx)(x.x1,{ref:f,width:100,height:200,data:m,options:l})})," "]})})}):(0,s.jsx)("div",{children:"Loading"})}));function S(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}v.kL.register(v.uw,v.FB,v.f$,v.od,v.jn,v.ZL,v.Gu,v.Dx,v.u,v.De);var C=(0,c.forwardRef)((function(e,t){var n,r,o,i=(0,c.useState)(null),l=i[0],u=i[1],d=(0,c.useState)(null),m=d[0],p=d[1],f=(0,c.useRef)(null),h=(0,j.v9)((function(e){return e.site}));(0,c.useImperativeHandle)(t,(function(){return{updateChart:function(){return(t=a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===(n=h.userSettings)||void 0===n?void 0:n.chartColors)){t.next=8;break}return(r=b(e).basicOptions).animation={duration:400},u(r),t.next=7,v(e);case 7:setTimeout((function(){(null===f||void 0===f?void 0:f.current)&&f.current.update()}),100);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var s=t.apply(e,n);function o(e){S(s,r,a,o,i,"next",e)}function i(e){S(s,r,a,o,i,"throw",e)}o(void 0)}))})();var t}}})),(0,c.useEffect)((function(){var t;(null===(t=h.userSettings)||void 0===t?void 0:t.chartColors)&&(u(b(e).basicOptions),v(e))}),[e]),(0,c.useEffect)((function(){var t;(null===(t=h.userSettings)||void 0===t?void 0:t.chartColors)&&(u(b(e).basicOptions),v(e))}),[null===h||void 0===h||null===(n=h.userSettings)||void 0===n?void 0:n.chartColors]);var v=function(e){var t={labels:g.Q.reduceStats(e.statsDates),datasets:[{label:"Processes",data:g.Q.reduceStats(e.statsProcesses),backgroundColor:"#"+h.userSettings.chartColors.processes,hoverBackgroundColor:h.userSettings.chartColors.processesHover||"#3380FF",fill:h.userSettings.chartColors.fill,lineTension:h.userSettings.chartColors.lineTension||.1,pointRadius:h.userSettings.chartColors.pointRadius||0,hoverOffset:h.userSettings.chartColors.hoverOffset||4}]};p(t)},b=function(e){return{basicOptions:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#"+h.userSettings.chartColors.labels}}},scales:{x:{type:"time",min:e.startDate,max:e.endDate,ticks:{color:"#"+h.userSettings.chartColors.ticksX},grid:{color:"#"+h.userSettings.chartColors.gridX}},y:{ticks:{color:"#"+h.userSettings.chartColors.ticksY},grid:{color:"#"+h.userSettings.chartColors.gridY}}}}}};return m?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"chart-foreground2",children:[(0,s.jsx)("div",{className:"chart-foreground",style:{background:"#"+(null===(r=h.userSettings)||void 0===r||null===(o=r.chartColors)||void 0===o?void 0:o.background)},children:(0,s.jsx)(x.$Q,{ref:f,width:100,height:200,data:m,options:l})})," "]})})}):(0,s.jsx)("div",{children:"Loading"})}));function R(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}v.kL.register(v.uw,v.FB,v.f$,v.od,v.jn,v.Gu,v.Dx,v.u,v.De);var P=(0,c.forwardRef)((function(e,t){var n,r,o,i=(0,c.useState)(null),l=i[0],u=i[1],d=(0,c.useState)(null),m=d[0],p=d[1],f=(0,c.useRef)(null),h=(0,j.v9)((function(e){return e.site}));(0,c.useImperativeHandle)(t,(function(){return{updateChart:function(){return(t=a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===(n=h.userSettings)||void 0===n?void 0:n.chartColors)){t.next=8;break}return(r=b(e).basicOptions).animation={duration:400},u(r),t.next=7,v(e);case 7:setTimeout((function(){(null===f||void 0===f?void 0:f.current)&&f.current.update()}),100);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var s=t.apply(e,n);function o(e){R(s,r,a,o,i,"next",e)}function i(e){R(s,r,a,o,i,"throw",e)}o(void 0)}))})();var t}}})),(0,c.useEffect)((function(){var t;(null===(t=h.userSettings)||void 0===t?void 0:t.chartColors)&&(u(b(e).basicOptions),v(e))}),[e]),(0,c.useEffect)((function(){var t;(null===(t=h.userSettings)||void 0===t?void 0:t.chartColors)&&(u(b(e).basicOptions),v(e))}),[null===h||void 0===h||null===(n=h.userSettings)||void 0===n?void 0:n.chartColors]);var v=function(e){var t={labels:g.Q.reduceStats(e.statsDates),datasets:[{label:"Network In",data:g.Q.reduceStats(e.statsNetworkIn),borderColor:"#"+h.userSettings.chartColors.networkRx||0,backgroundColor:"#"+h.userSettings.chartColors.networkRx||0,hoverBackgroundColor:h.userSettings.chartColors.networkRxHover||"#3380FF",fill:h.userSettings.chartColors.fillMulti||!1,lineTension:h.userSettings.chartColors.lineTension||.1,pointRadius:h.userSettings.chartColors.pointRadius||0,hoverOffset:h.userSettings.chartColors.hoverOffset||4},{label:"Network Out",data:g.Q.reduceStats(e.statsNetworkOut),borderColor:"#"+h.userSettings.chartColors.networkTx||0,backgroundColor:"#"+h.userSettings.chartColors.networkTx||0,hoverBackgroundColor:h.userSettings.chartColors.networkTxHover||"#3380FF",fill:h.userSettings.chartColors.fillMulti||!1,lineTension:h.userSettings.chartColors.lineTension||.1,pointRadius:h.userSettings.chartColors.pointRadius||0,hoverOffset:h.userSettings.chartColors.hoverOffset||4}]};p(t)},b=function(e){return{basicOptions:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#"+h.userSettings.chartColors.labels}}},scales:{x:{type:"time",min:e.startDate,max:e.endDate,ticks:{color:"#"+h.userSettings.chartColors.ticksX},grid:{color:"#"+h.userSettings.chartColors.gridX}},y:{ticks:{color:"#"+h.userSettings.chartColors.ticksY,autoSkip:!0,maxTicksLimit:5,callback:function(e){return e&&void 0!==e&&e>0&&N.t.bytes(e)||0}},grid:{color:"#"+h.userSettings.chartColors.gridY}}}}}};return m?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"chart-foreground2",children:[(0,s.jsx)("div",{className:"chart-foreground",style:{background:"#"+(null===(r=h.userSettings)||void 0===r||null===(o=r.chartColors)||void 0===o?void 0:o.background)},children:(0,s.jsx)(x.x1,{ref:f,width:100,height:200,data:m,options:l})})," "]})})}):(0,s.jsx)("div",{children:"Loading"})})),I=n(43964),D=n(68751),T=n(91202),O=n(27484),L=n.n(O),M=n(99403),E=n(28565);function A(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){A(s,r,a,o,i,"next",e)}function i(e){A(s,r,a,o,i,"throw",e)}o(void 0)}))}}function H(e){var t=function(e){var t=[],n=[],r=[],a=[],s=[],o=[],c=[];e.map((function(e){var i=O(e.createdAt).format("YYYY-MM-DD HH:mm:ss");t.push(e.cpu),n.push(e.pids),r.push(e.memory),a.push(e.memoryPercent),s.push(e.networkIn),o.push(e.networkOut),c.push(i)})),c.push(O().format("YYYY-MM-DD HH:mm:ss")),W(t),b(n),S(r),U(o),A(s),G(c),l.current&&((null===ge||void 0===ge?void 0:ge.current)&&ge.current.updateChart(),(null===je||void 0===je?void 0:je.current)&&je.current.updateChart(),(null===be||void 0===be?void 0:be.current)&&be.current.updateChart(),(null===we||void 0===we?void 0:we.current)&&we.current.updateChart()),i(!1)},n=function(){pe.current&&clearInterval(pe.current);var e=setInterval((function(){Te()}),15e3);me(e)},r=(0,c.useState)(!1),o=r[0],i=r[1],l=(0,c.useRef)(o);l.current=o;var u=(0,c.useState)(!0),d=u[0],m=u[1],p=(0,c.useRef)(d);p.current=d;var f=(0,c.useState)(null),v=f[0],x=f[1],g=(0,c.useState)(null),j=g[0],b=g[1],N=(0,c.useState)(null),k=N[0],S=N[1],R=(0,c.useState)(null),L=R[0],A=R[1],H=(0,c.useState)(null),_=H[0],U=H[1],z=(0,c.useState)(null),V=z[0],G=z[1],Y=(0,c.useState)(null),B=Y[0],W=Y[1],q=(0,c.useState)(null),X=q[0],Q=q[1],$=(0,c.useState)(O().subtract(15,"minute").toDate()),Z=$[0],K=$[1],J=(0,c.useRef)(Z);J.current=Z;var ee=(0,c.useState)(new Date),te=ee[0],ne=ee[1],re=(0,c.useRef)(te);re.current=te;var ae=(0,c.useState)(new Date)[0],se=(0,c.useRef)(ae);se.current=ae;var oe=(0,c.useState)(null),ie=oe[0],ce=oe[1],le=(0,c.useRef)(ie);le.current=ie;var ue=(0,c.useState)(null),de=ue[0],me=ue[1],pe=(0,c.useRef)(de);pe.current=de;var fe=(0,c.useState)(900),he=fe[0],ve=fe[1],xe=(0,c.useRef)(he);xe.current=he;var ge=(0,c.useRef)(),je=(0,c.useRef)(),be=(0,c.useRef)(),we=(0,c.useRef)(),Ne=(0,c.useState)(null),ke=Ne[0],ye=Ne[1],Se=(0,c.useRef)(ke);Se.current=ke;var Ce=(0,c.useState)(!1),Re=Ce[0],Pe=Ce[1];function Ie(){return De.apply(this,arguments)}function De(){return(De=F(a().mark((function n(){var r,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Re){n.next=2;break}return n.abrupt("return");case 2:return Pe(!0),r="containerStats_"+e.containerId,n.next=6,E.L.getSocket();case 6:return(s=n.sent).on(r,(function(e){"success"===e.status&&e.data&&(x(e.data),i(!0),t(e.data))})),ye(s),n.abrupt("return",s);case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Te(){return Oe.apply(this,arguments)}function Oe(){return(Oe=F(a().mark((function n(){var r,s,o,c,l,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(xe.current?(r=O().subtract(xe.current,"second").toDate(),s=O().toDate()):(r=J.current,s=O().toDate()),K(r),ne(s),o={containerId:e.containerId,limit:100,sortKey:"createdAt",sortType:"DESC",startDate:r,endDate:s},!Se.current){n.next=10;break}Se.current.emit("stats",{command:"stats",body:o,callback:"containerStats_"+e.containerId}),n.next=17;break;case 10:return n.next=12,h.getStats(o);case 12:c=n.sent,l=c.data,(u=c.error)&&(Q(u),console.log(u)),l&&(x(l),i(!0),t(l));case 17:case"end":return n.stop()}}),n)})))).apply(this,arguments)}if((0,c.useEffect)(F(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.containerId){t.next=6;break}if(Re){t.next=4;break}return t.next=4,Ie();case 4:Te(),p.current&&setTimeout((function(){n()}),500);case 6:case"end":return t.stop()}}),t)}))),[]),(0,c.useEffect)((function(){return function(){if((null===pe||void 0===pe?void 0:pe.current)&&(clearInterval(pe.current),me(null)),Se.current){var t="containerStats_"+e.containerId;Se.current.removeListener(t)}}}),[]),X)return(0,s.jsx)("div",{children:"Failed to load stats"});if(!v)return(0,s.jsx)("div",{});var Le=function(){var e=F(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le.current&&clearTimeout(le.current),n=setTimeout(F(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ve(null),i(!0),ne(new Date(t)),setTimeout((function(){Te()}));case 4:case"end":return e.stop()}}),e)}))),1500),ce(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=F(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ve(t.value),setTimeout((function(){i(!0),Te()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=!p.current;m(e),e?n():Ae()},Ae=function(){pe.current&&(clearInterval(pe.current),me(null))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid col-12",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsxs)("label",{className:"ml-5 mt-2 mr-2",htmlFor:"startDate",children:["Start:"," "]}),(0,s.jsx)(D.f,{id:"startDate",name:"startDate",value:J.current,onSelect:function(e){return function(e){(null===le||void 0===le?void 0:le.current)&&clearTimeout(le.current);var t=setTimeout((function(){ve(null),i(!0),K(new Date(e)),setTimeout((function(){Te()}))}),1500);ce(t)}(e.value)},showIcon:!0,showTime:!0,showSeconds:!0,maxDate:re.current}),(0,s.jsx)("label",{className:"ml-5 mr-2 mt-2",htmlFor:"endDate",children:"End:"}),(0,s.jsx)(D.f,{id:"endDate",name:"endDate",value:re.current,onSelect:function(e){return Le(e.value)},showIcon:!0,showTime:!0,showSeconds:!0,minDate:J.current,maxDate:se.current}),(0,s.jsxs)("label",{className:"ml-5 mr-2 mt-2",htmlFor:"endDate",children:["Range:"," "]}),(0,s.jsx)(T.L,{className:"mt-0",name:"range",value:he,options:[{name:"Custom",value:null},{name:"1 Minute",value:60},{name:"5 Minutes",value:300},{name:"15 Minutes",value:900},{name:"30 Minutes",value:1800},{name:"60 Minutes",value:3600},{name:"90 Minutes",value:5400},{name:"2 Hours",value:7200},{name:"3 Hours",value:10800},{name:"6 Hours",value:21600},{name:"8 Hours",value:28800},{name:"12 Hours",value:43200}],onChange:Me,optionLabel:"name",placeholder:"Select a Range"}),!p.current&&(0,s.jsx)(M.z,{className:"ml-2 p-button p-button-secondary",tooltip:"Start Stats Refreshing",tooltipOptions:{position:"bottom"},icon:"fa fa-play",onClick:Ee}),p.current&&(0,s.jsx)(M.z,{className:"ml-2 p-button-raised p-button-secondary",tooltip:"Stop Stats Refreshing",tooltipOptions:{position:"bottom"},icon:"fa fa-pause",onClick:Ee})]})}),(0,s.jsxs)("div",{className:"grid",children:[(0,s.jsxs)("div",{className:"col-12 grid",children:[(0,s.jsx)("div",{className:"col-6 m-auto mt-0",children:(0,s.jsx)(I.s,{header:"CPU Stats",toggleable:!0,children:(0,s.jsx)(w,{ref:ge,className:"m-4",statsCPU:B,statsDates:V,startDate:Z,endDate:te})})}),(0,s.jsx)("div",{className:"col-6 m-auto mt-0",children:(0,s.jsx)(I.s,{header:"Memory Stats",toggleable:!0,children:(0,s.jsx)(y,{ref:je,className:"m-4",statsMemory:k,statsDates:V,startDate:Z,endDate:te})})})]}),(0,s.jsxs)("div",{className:"col-12 grid",children:[(0,s.jsx)("div",{className:"col-6 m-auto mt-0",children:(0,s.jsx)(I.s,{header:"Processes Stats",toggleable:!0,children:(0,s.jsx)(C,{ref:be,className:"m-4",statsProcesses:j,statsDates:V,startDate:Z,endDate:te})})}),(0,s.jsx)("div",{className:"col-6 m-auto mt-0",children:(0,s.jsx)(I.s,{header:"Network Stats",toggleable:!0,children:(0,s.jsx)(P,{ref:we,className:"m-4",statsNetworkIn:L,statsNetworkOut:_,statsDates:V,startDate:Z,endDate:te})})})]})]})]})}var _=n(10619),U=n(96486),z=n.n(U),V=n(36345),G=n(42552),Y=n(45795);function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){W(s,r,a,o,i,"next",e)}function i(e){W(s,r,a,o,i,"throw",e)}o(void 0)}))}}function X(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e){var t=(0,c.useState)(!0),n=t[0],r=t[1];(0,c.useRef)(n).current=n;var i=(0,c.useState)(null)[0],l=(0,j.v9)((function(e){return e.hosts.activeHost}));(0,c.useRef)(l).current=l;var u=(0,j.v9)((function(e){return e.containers})),d=(0,c.useState)(null)[0];(0,c.useRef)(d).current=d;var m=(0,c.useState)(null),p=m[0],f=m[1],h=(0,c.useRef)(p);h.current=p;var v=(0,c.useState)([]),x=v[0],g=v[1],b=(0,c.useRef)(x);b.current=x;var w=(0,c.useState)(null),N=w[0],k=w[1],y=(0,c.useRef)(N);y.current=N;var S=(0,c.useRef)(),C=(0,c.useState)(!1),R=C[0],P=C[1];function D(){return T.apply(this,arguments)}function T(){return(T=q(a().mark((function t(){var n,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!R){t.next=2;break}return t.abrupt("return");case 2:return P(!0),n="dockerLogs_"+e.containerId,t.next=6,E.L.getSocket();case 6:return(s=t.sent).on(n,(function(e){if("success"===e.status){if(e.data){var t=X(b.current);t.push(e.data),g(t)}}else r(!1)})),k(s),t.abrupt("return",s);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return L.apply(this,arguments)}function L(){return(L=q(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y.current&&y.current.emit("dockerContainerLogs",{command:"containerLogs",containerId:h.current.containerId,hostId:null===(n=h.current.host)||void 0===n?void 0:n.id,callback:"dockerLogs_"+e.containerId,hook:"containerLogs"}),r(!1);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,c.useEffect)(q(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.containerId){t.next=8;break}if(!(e.containerId in u)){t.next=8;break}if(n=u[e.containerId],f(n),R){t.next=7;break}return t.next=7,D();case 7:O();case 8:case"end":return t.stop()}}),t)}))),[]),(0,c.useEffect)((function(){return function(){var t;y.current&&(y.current.emit("dockerContainerLogsClose",{command:"containerLogsClose",containerId:h.current.containerId,hostId:null===(t=h.current.host)||void 0===t?void 0:t.id,callback:"dockerLogsClose_"+e.containerId,hook:"containerLogsClose"}),setTimeout((function(){var t="dockerLogs_"+e.containerId;y.current.removeListener(t)}),500))}}),[]),(0,c.useEffect)((function(){if(e.containerId&&e.containerId in u){var t=u[e.containerId];f(t)}}),[e.containerId]),(0,c.useEffect)((function(){A()}),[x]);var A=function(){var e=S.current;if(e){var t=e.scrollHeight-e.clientHeight;e.scrollTop=t>0?t:0}};return n?(0,s.jsx)(o.$,{}):0===!x.length?(0,s.jsx)("div",{children:"No Logs"}):i?(0,s.jsx)("div",{children:"Failed to load Logs"}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(I.s,{header:"Container Logs",toggleable:!0,children:(0,s.jsxs)("div",{className:"col-12 ml-2 mr-2",children:[(0,s.jsxs)("div",{className:"col-12 text-right pr-3",children:[(0,s.jsx)(M.z,{label:"Terminal Logs",className:"p-button-secondary p-3 mr-2",onClick:function(){return function(){var e;y.current.emit("tailLogs",{command:"tailLogs",containerId:h.current.containerId,hostId:null===(e=h.current.host)||void 0===e?void 0:e.id,callback:"dockerResulsTerminalLogs_"+h.current.id,hook:"tailLogs"})}()},icon:"fa fa-tv"}),(0,s.jsx)(M.z,{label:"Clear Logs",className:"p-button-primary",onClick:function(){g([])},icon:"fa fa-close",children:(0,s.jsx)(Y.C,{value:b.current.length,size:"large",severity:"success"})})]}),(0,s.jsx)(G.g,{ref:S,autoCorrect:"off",spellCheck:"false",autoComplete:"false",autoCapitalize:"false",style:{backgroundColor:"black",padding:"4px"},value:b.current.join(""),onChange:function(){},className:"col-12 p-5",rows:10,cols:30})]})})})}var $=n(7862),Z=n(69868),K=n(92814),J=n(51436),ee=n(41664);function te(e){var t,n=(0,i.useRouter)(),r=(0,c.useState)(null),a=r[0],o=r[1],l=(0,c.useState)("list")[0];if((0,c.useEffect)((function(){o(e.container)}),[e.container]),!a)return(0,s.jsx)("div",{});if(!a)return(0,s.jsx)("div",{className:"col-12 text-center",children:"Container is missing."});if((null===a||void 0===a||null===(t=a.volumes)||void 0===t?void 0:t.length)<1)return(0,s.jsx)("div",{className:"col-12 text-center",children:"No volumes or mounts for this container. Using tmpfs."});var u=""+a.volumes.length;u+=a.volumes.length>1?" Volumes":" Volume";var d=Number(a.fileSizeRoot),m=!0,p=!1,f=void 0;try{for(var h,v=a.volumes[Symbol.iterator]();!(m=(h=v.next()).done);m=!0){var x=h.value;d+=Number(x.fileSize)}}catch(j){p=!0,f=j}finally{try{m||null==v.return||v.return()}finally{if(p)throw f}}var g=N.t.bytes(d);return(0,s.jsx)(s.Fragment,{children:a.volumes.length>0&&(0,s.jsxs)(I.s,{header:u,collapsed:0,toggleable:!0,children:[(0,s.jsx)("div",{className:"col-12 m-0 p-0",children:(0,s.jsx)("div",{className:"card p-0 m-0",children:(0,s.jsx)($.V,{value:a.volumes,layout:l,itemTemplate:function(e,t){if(e)return"list"===t?function(e){var t=e.fileSize>0?N.t.bytes(e.fileSize):"0 Bytes";return(0,s.jsxs)("div",{className:"col-12 pt-2 pl-3 flex datatable-hover",children:[(0,s.jsxs)("div",{className:"col-10 pl-4 mr-auto grid",children:[(0,s.jsx)("div",{className:"col-0 pt-2",children:(0,s.jsx)(ee.default,{title:"View Drive",href:"/volumes/[id]",as:"/volumes/".concat(e.id),passHref:!0,children:(0,s.jsxs)("a",{title:"View",children:[(0,s.jsx)(K.G,{icon:J.Yws,pull:"left",className:"fa-2x lightblue-color mt-2",swapOpacity:!0}),(0,s.jsx)("h6",{className:"p-0 m-0",children:(0,s.jsx)("strong",{children:e.RW?"RW":"RO"})})]})})}),(0,s.jsxs)("div",{className:"col-10",children:[(0,s.jsx)("h5",{className:"lightblue-color mb-0",children:(0,s.jsx)(ee.default,{href:"/volumes/[id]",as:"/volumes/".concat(e.id),passHref:!0,children:(0,s.jsx)("a",{title:"View",className:"lightblue-color",children:e.name})})}),(0,s.jsx)("h6",{className:"p-0 m-0",children:(0,s.jsx)("strong",{children:t})}),(0,s.jsx)("div",{className:"m-0 p-0",children:(0,s.jsx)("small",{children:e.mountpoint})})]})]}),(0,s.jsx)("div",{className:"col-2 ml-auto pr-4 text-right pt-3",children:(0,s.jsx)(M.z,{icon:"fa fa-eye",className:"p-button-secondary mr-1 mt-3 volume-view-button",onClick:function(){return n.push("/volumes/"+e.id)},children:(0,s.jsx)(Z.H,{})})})]})}(e):void 0},paginator:!1,rows:100})})}),(0,s.jsx)("div",{className:"col-12 m-0 p-0 text-right pr-4 pt-2",children:(0,s.jsxs)("h5",{children:["Container Size: ",g]})})]})})}function ne(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){ne(s,r,a,o,i,"next",e)}function i(e){ne(s,r,a,o,i,"throw",e)}o(void 0)}))}}function ae(){return ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}function se(e){var t,n,r,o,i=ae({},e),l=(0,c.useState)(null),u=l[0],d=l[1];(0,c.useRef)(u).current=u;var m=(0,c.useState)("list")[0],p=(0,c.useState)(null),f=p[0],h=p[1],v=(0,c.useRef)(f);v.current=f;var x=(0,c.useState)(!1),g=x[0],j=x[1];function b(){return(b=re(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=2;break}return e.abrupt("return");case 2:return j(!0),e.next=5,E.L.getSocket();case 5:return t=e.sent,h(t),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if((0,c.useEffect)((function(){i.container.id&&(d(i.container),setTimeout((function(){g||function(){b.apply(this,arguments)}()}),100))}),[i.container]),!u)return(0,s.jsx)("div",{className:"col-12 text-center",children:"Container is missing."});if((null===u||void 0===u||null===(t=u.mounts)||void 0===t?void 0:t.length)<1)return(0,s.jsx)("div",{className:"col-12 text-center",children:"No volumes or mounts for this container. Using tmpfs."});var w=function(e){e=e.replace("/host_mnt",""),v.current&&v.current.emit("openFinderPath",{command:"openFinderPath",body:{},filePath:e,callback:"null"})};if(!(null===u||void 0===u?void 0:u.mounts))return(0,s.jsx)("div",{});if((null===(n=u.mounts)||void 0===n?void 0:n.length)<1)return(0,s.jsx)("div",{});var N=""+(null===(r=u.mounts)||void 0===r?void 0:r.length);return N+=(null===(o=u.mounts)||void 0===o?void 0:o.length)>1?" Mounts":" Mount",(0,s.jsx)(s.Fragment,{children:u.mounts.length>0&&(0,s.jsx)(I.s,{header:N,collapsed:!1,toggleable:!0,children:(0,s.jsx)("div",{className:"col-12 m-0 p-0",children:(0,s.jsx)("div",{className:"card p-0 m-0",children:(0,s.jsx)($.V,{value:u.mounts,layout:m,itemTemplate:function(e,t){var n;if(e)return"list"===t?(n=e,(0,s.jsxs)("div",{className:"col-12 pt-2 pl-3 flex datatable-hover",children:[(0,s.jsxs)("div",{className:"col-10 pl-4 mr-auto grid",children:[(0,s.jsxs)("div",{className:"col-0 pt-2",children:["bind"===n.Type&&(0,s.jsx)(ee.default,{title:"View Drive",href:"/volumes/[id]",as:"/volumes/".concat(n.id),passHref:!0,children:(0,s.jsxs)("a",{onClick:function(e){w(n.Source),e.preventDefault()},title:"View",className:"lightblue-color",children:[(0,s.jsx)(K.G,{icon:J.Pk,pull:"left",className:"fa-2x lightblue-color mt-2",swapOpacity:!0}),(0,s.jsx)("h6",{className:"p-0 m-0",children:(0,s.jsx)("strong",{children:n.RW?"RW":"RO"})})]})}),"volume"===n.Type&&(0,s.jsx)(ee.default,{title:"View Drive",href:"/volumes/[id]",as:"/volumes/".concat(1),passHref:!0,children:(0,s.jsxs)("a",{title:"View",children:[(0,s.jsx)(K.G,{icon:J.Yws,pull:"left",className:"fa-2x lightblue-color mt-2",swapOpacity:!0}),(0,s.jsx)("h6",{className:"p-0 m-0",children:(0,s.jsx)("strong",{children:n.RW?"RW":"RO"})})]})})]}),(0,s.jsxs)("div",{className:"col-10",children:["volume"===n.Type&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h5",{className:"lightblue-color mb-1",children:(0,s.jsx)(ee.default,{href:"/volumes/[id]",as:"/volumes/".concat(n.id),passHref:!0,children:(0,s.jsx)("a",{title:"View",className:"lightblue-color",children:n.Destination})})}),(0,s.jsx)("h6",{className:"p-0 m-0",children:(0,s.jsxs)("strong",{children:["Volume: ",n.Name]})})]}),"bind"===n.Type&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"lightblue-color mb-1",children:(0,s.jsx)(ee.default,{href:"/",children:(0,s.jsx)("a",{onClick:function(e){w(n.Source),e.preventDefault()},title:"View",className:"lightblue-color",children:n.Destination})})}),(0,s.jsx)("h6",{className:"p-0 m-0",children:(0,s.jsx)("strong",{children:"Bind / Link"})})]}),(0,s.jsx)("div",{className:"m-0 p-0",children:(0,s.jsx)("small",{children:n.Source})})]})]}),(0,s.jsx)("div",{className:"col-2 ml-auto pr-4 text-right pt-3"})]})):void 0},paginator:!1,rows:100})})})})})}function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}function ie(e){var t=oe({},e),n=(0,c.useState)(null),r=n[0],a=n[1],o=(0,c.useState)("list")[0],i=(0,c.useState)([]),l=i[0],u=i[1];(0,c.useEffect)((function(){a(t.container)}),[t.container]),(0,c.useEffect)((function(){d()}),[r]);var d=function(){var e,t,n=[];(null===r||void 0===r||null===(e=r.details)||void 0===e||null===(t=e.HostConfig)||void 0===t?void 0:t.PortBindings)&&(r.details.HostConfig.PortBindings,Object.keys(r.details.HostConfig.PortBindings).forEach((function(e){var t=e.split("/"),a=r.details.HostConfig.PortBindings[e],s={port:t[0],protocol:t[1],hostIp:a[0].HostIp?a[0].HostIp:"0.0.0.0",hostPort:a[0].HostPort?a[0].HostPort:null,portType:a[0].HostPort?"public":"private"};2===t.length&&n.push(s)})),u(n))};if(!r)return(0,s.jsx)("div",{});if(l.length<1)return(0,s.jsx)("div",{className:"col-12 text-center p-3",children:"No ports assigned to this container"});var m=""+r.ports.length;return m+=r.ports.length>1?" Ports in use":" Port in use",(0,s.jsx)(s.Fragment,{children:l.length>0&&(0,s.jsx)(I.s,{header:m,collapsed:"false",toggleable:!0,children:(0,s.jsx)("div",{className:"col-12 m-0 p-0",children:(0,s.jsx)("div",{className:"card p-0 m-0",children:(0,s.jsx)($.V,{value:l,layout:o,itemTemplate:function(e,t){if(e)return"list"===t?function(e){var t=e.portType;return(0,s.jsxs)("div",{className:"col-12 pt-2 pl-3 flex datatable-hover",children:[(0,s.jsxs)("div",{className:"col-10 pl-4 mr-auto grid",children:[(0,s.jsxs)("div",{className:"col-0 pt-2",children:["public"===t&&(0,s.jsx)(ee.default,{title:"View",target:"_blank",href:"http://localhost:[id]",as:"http://localhost:".concat(e.port),children:(0,s.jsx)("a",{title:"View",target:"_blank",children:(0,s.jsx)(K.G,{icon:J.kXW,pull:"left",className:"fa-2x text-green-500 mt-2",swapOpacity:!0})})}),"private"===t&&(0,s.jsx)(ee.default,{title:"View",target:"_blank",href:"http://localhost:[id]",as:"http://localhost:".concat(e.port),children:(0,s.jsx)("a",{title:"View",target:"_blank",children:(0,s.jsx)(K.G,{icon:J.kXW,pull:"left",className:"fa-2x text-orange-500 mt-2",swapOpacity:!0})})})]}),(0,s.jsxs)("div",{className:"col-10",children:[(0,s.jsxs)("h5",{className:"lightblue-color mb-0",children:["public"===t&&(0,s.jsx)(ee.default,{title:"View",target:"_blank",href:"http://localhost:[id]",as:"http://localhost:".concat(e.hostPort),children:(0,s.jsxs)("a",{title:"View",target:"_blank",className:"text-green-500",children:[e.hostIp,":",e.port," to localhost:",e.hostPort]})}),"private"===t&&(0,s.jsx)(ee.default,{title:"View",target:"_blank",href:"http://localhost:[id]",as:"http://localhost:".concat(e.hostPort),children:(0,s.jsxs)("a",{title:"View",target:"_blank",className:"text-orange-500",children:[":",e.hostPort," Exposed Port"]})})]}),(0,s.jsx)("h6",{className:"p-0 m-0",children:(0,s.jsx)("strong",{className:"private"===t?"text-orange-500":"text-green-500",children:e.portType})})]})]}),(0,s.jsx)("div",{className:"col-2 ml-auto pr-4 text-right pt-3",children:(0,s.jsx)(M.z,{icon:"fa fa-eye",className:"p-button-secondary mr-1 mt-3 volume-view-button",onClick:function(){window.open("http://localhost:"+e.hostPort,"_blank")},children:(0,s.jsx)(Z.H,{})})})]})}(e):void 0},paginator:!1,rows:100})})})})})}var ce=n(21838),le=n(17974),ue=n(6339),de=n(23594),me=n(91176),pe=n(54033),fe=n(9731),he=n(30178),ve=n(72337),xe=n(89646),ge=n(47225),je=n(40424);function be(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function we(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){be(s,r,a,o,i,"next",e)}function i(e){be(s,r,a,o,i,"throw",e)}o(void 0)}))}}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ne(e,t,n[t])}))}return e}function ye(e){var t,n,r,o,i,l,u,d,m,p,f,h,v=function(){var e;H.current&&k.current.running&&H.current.emit("dockerContainerMonitor",{command:"containerMonitor",containerId:k.current.containerId,hostId:null===(e=k.current.host)||void 0===e?void 0:e.id,cid:k.current.id,containerName:k.current.name,callback:"containerStatsSummary_"+k.current.id,hook:"containerMonitor"})},x=function(){Ne(!0),v()},g=function(){Ne(!1),Pt()},j=(0,c.useState)(null),b=j[0],w=j[1],k=(0,c.useRef)(b);k.current=b;var y=(0,c.useState)(null),S=y[0],C=y[1];(0,c.useRef)(S).current=S;var R=(0,c.useRef)(),P=(0,c.useRef)(),I=(0,c.useRef)(),D=(0,c.useRef)(),O=(0,c.useState)(null),A=O[0],F=O[1],H=(0,c.useRef)(A);H.current=A;var _=(0,c.useState)(!1),U=_[0],z=_[1],V=(0,c.useRef)(U);V.current=U;var G=(0,c.useState)(null),Y=G[0],B=G[1],W=(0,c.useRef)(Y);W.current=Y;var q=(0,c.useState)("Grid"),X=q[0],Q=q[1],$=(0,c.useState)(2),ee=$[0],te=$[1],ne=(0,c.useRef)(ee);ne.current=ee;var re=(0,c.useState)(0),ae=re[0],se=re[1],oe=(0,c.useRef)(ae);oe.current=ae;var ie=(0,c.useState)(!1),be=ie[0],Ne=ie[1];(0,c.useRef)(be).current=be;var ye=(0,c.useState)(!1),Se=ye[0],Ce=ye[1],Re=(0,c.useRef)(Se);Re.current=Se;var Pe=(0,c.useState)(1100),Ie=Pe[0],De=Pe[1];(0,c.useRef)(Ie).current=Ie;var Te=(0,c.useState)(.038),Oe=Te[0],Le=Te[1];(0,c.useRef)(Oe).current=Oe;var Me=(0,c.useState)({diskInput:"purple",diskOutput:"blue",cpu:"cyan",memory:"green",networkTx:"orange",networkRx:"red",processes:"purple"})[0];(0,c.useRef)(Me).current=Me;var Ee={diskRead:0,diskWrite:0,diskTotal:0,diskTmpFSizes:0,diskVolumeSize:0,networkRx:0,networkTx:0,processes:0,memoryLimit:0,memoryUsage:0,cpuUsage:0,startDate:L()().format("YYYY-MM-DD HH:mm:ss"),endDate:L()().format("YYYY-MM-DD HH:mm:ss"),intervalCount:0},Ae=(0,c.useState)({statsSummary:Ee,chartData:{dates:[],cpu:[],memoryPercent:[],processes:[],diskRead:[],diskWrite:[],networkTx:[],networkRx:[],diskUsed:[],diskImage:[],diskLabels:[],diskUsage:[]},sample:{}}),Fe=Ae[0],He=Ae[1],_e=(0,c.useRef)(Fe);_e.current=Fe;var Ue=(0,c.useState)(!1),ze=Ue[0],Ve=Ue[1],Ge=(0,c.useState)(!1),Ye=Ge[0],Be=Ge[1],We=(0,c.useRef)(Ye);We.current=Ye;var qe=(0,c.useState)(!1),Xe=qe[0],Qe=qe[1],$e=(0,c.useRef)(Xe);$e.current=Xe;var Ze=(0,c.useState)(!1),Ke=Ze[0],Je=Ze[1],et=(0,c.useRef)(Ke);et.current=Ke;var tt=(0,c.useState)(!1),nt=tt[0],rt=tt[1],at=(0,c.useRef)(nt);at.current=nt;var st=(0,c.useState)(!1),ot=st[0],it=st[1],ct=(0,c.useRef)(ot);ct.current=ot;var lt=(0,c.useState)(!1),ut=lt[0],dt=lt[1],mt=(0,c.useRef)(ut);mt.current=ut;var pt=(0,c.useState)(!1),ft=pt[0],ht=pt[1];(0,c.useRef)(ft).current=ft;var vt=(0,c.useState)([0,1]),xt=vt[0],gt=vt[1],jt=(0,c.useState)([0,1]),bt=jt[0],wt=jt[1],Nt=(0,c.useState)({starteDate:new Date,endDate:new Date}),kt=Nt[0],yt=Nt[1],St=(0,c.useRef)(kt);function Ct(){return Rt.apply(this,arguments)}function Rt(){return Rt=we(a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!V.current){t.next=2;break}return t.abrupt("return");case 2:return z(!0),n="containerStatsSummary_"+e.container.id,t.next=6,E.L.getSocket();case 6:return(r=t.sent).on(n,function(){var e=we(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==t.status){e.next=10;break}if(!t.data){e.next=10;break}if(Re.current){e.next=10;break}if(!k.current){e.next=10;break}if(ne.current!==oe.current){e.next=9;break}return oe.current=0,e.next=8,Tt(t.data);case 8:return e.abrupt("return",e.sent);case 9:oe.current++;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.next=10,F(r);case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)}))),Rt.apply(this,arguments)}function Pt(){return It.apply(this,arguments)}function It(){return(It=we(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===H||void 0===H?void 0:H.current)){e.next=4;break}return H.current.emit("dockerContainerMonitorClose",{command:"containerLogsClose",containerId:k.current.containerId,hostId:null===(t=k.current.host)||void 0===t?void 0:t.id,callback:"dockerMonitorClose_"+k.current.id,hook:"containerMonitorClose"}),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(){return(Dt=we(a().mark((function e(){var t,n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_e.current,(null===k||void 0===k||null===(t=k.current)||void 0===t?void 0:t.statsSummary)&&(r.statsSummary=null===k||void 0===k||null===(n=k.current)||void 0===n?void 0:n.statsSummary),e.next=5,Lt(r);case 5:return s=e.sent,e.next=8,He(s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(e){return Ot.apply(this,arguments)}function Ot(){return(Ot=we(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=St.current).startDate=new Date(t.startDate),n.endDate=new Date(t.endDate),e.next=5,Lt(t);case 5:return r=e.sent,e.next=8,He(r);case 8:return e.next=10,yt(n);case 10:wt([0,t.chartData.dates.length]),gt([0,t.chartData.dates.length]),t.sampleIndex>1&&Ve(!0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e){return Mt.apply(this,arguments)}function Mt(){return(Mt=we(a().mark((function e(t){var n,r,s,o,i,c,l,u,d,m,p,f,h,v,x,g,j,b,w,N,y,S,C,R;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.current){e.next=3;break}return e.abrupt("return");case 3:for(d=t,m=[],p=[],f=[],h=[],(null===(n=k.current)||void 0===n||null===(r=n.image)||void 0===r?void 0:r.details)&&(m.push(k.current.image.name),p.push(k.current.image.details.Size),f.push("image"),h.push(k.current.image)),v=(null===(s=k.current.usageData)||void 0===s?void 0:s.SizeRw)?null===(o=k.current.usageData)||void 0===o?void 0:o.SizeRw:0,x=0,g=!0,j=!1,b=void 0,e.prev=12,w=k.current.volumes[Symbol.iterator]();!(g=(N=w.next()).done);g=!0)y=N.value,v+=(null===(S=y.usageData)||void 0===S?void 0:S.Size)?Number(y.usageData.Size):0,x+=v,m.push(y.name),p.push(v),f.push("volume"),h.push(y);e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),j=!0,b=e.t0;case 20:e.prev=20,e.prev=21,g||null==w.return||w.return();case 23:if(e.prev=23,!j){e.next=26;break}throw b;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return C=(null===(i=k.current)||void 0===i||null===(c=i.usageData)||void 0===c?void 0:c.SizeRw)?k.current.usageData.SizeRw:0,R=(null===(l=k.current.image)||void 0===l||null===(u=l.details)||void 0===u?void 0:u.Size)?k.current.image.details.Size:0,m.push("tmpfs"),p.push(C),f.push("tmpfs"),h.push({}),d.statsSummary.diskVolumeSize=x,d.statsSummary.diskTmpFSizes=C,d.statsSummary.diskTotal=x+R+C,d.diskLabels=m,d.diskUsage=p,d.diskTypes=f,d.diskOther=h,e.abrupt("return",d);case 42:case"end":return e.stop()}}),e,null,[[12,16,20,28],[21,,23,27]])})))).apply(this,arguments)}St.current=kt,(0,c.useEffect)((function(){var t;(null===(t=e.container)||void 0===t?void 0:t.id)&&(S||C(e.container.id),w(e.container),setTimeout((function(){}))),S&&(H.current||setTimeout(we(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=4;break}return e.next=4,Ct();case 4:(null===k||void 0===k||null===(t=k.current)||void 0===t?void 0:t.running)&&be&&v();case 5:case"end":return e.stop()}}),e)}))),500))}),[e]),(0,c.useEffect)((function(){k.current&&function(){Dt.apply(this,arguments)}()}),[b]),(0,c.useEffect)((function(){return we(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((null===W||void 0===W?void 0:W.current)&&(clearInterval(W.current),B(null)),!H.current){t.next=5;break}return t.next=4,Pt();case 4:setTimeout((function(){var t="containerStatsSummary_"+e.container.id;H.current.removeListener(t)}),500);case 5:case"end":return t.stop()}}),t)})))}),[]);var Et=function(e){switch(e){case"cpu":Be(!We.current);break;case"memory":Qe(!$e.current);break;case"disk":Je(!et.current);break;case"network":rt(!at.current);break;case"processes":it(!ct.current);break;case"diskspace":dt(!mt.current)}},At=function(){var e=we(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R.current.updateChart(),(null===P||void 0===P?void 0:P.current)&&P.current.updateChart(),(null===I||void 0===I?void 0:I.current)&&I.current.updateChart(),(null===D||void 0===D?void 0:D.current)&&D.current.updateChart(),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ft=function(){var e=we(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q(t.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ht=function(){var e=we(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ke({},St.current)).startDate=new Date(_e.current.chartData.dates[t[0]]),n.endDate=new Date(_e.current.chartData.dates[t[1]-1]),e.next=5,yt(n);case 5:return e.next=7,At();case 7:return e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(!b)return(0,s.jsx)("div",{});var _t="Grid"===X?"col-6":"col-12";return(0,s.jsx)(s.Fragment,{children:b&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"surface-ground mt-0",children:(0,s.jsx)("div",{className:"",children:(0,s.jsxs)("div",{className:"col-12 surface-card col-0 m-0",style:{borderRadius:"10px"},children:[(0,s.jsxs)("div",{className:"grid col-0 m-0",children:[(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("div",{onClick:function(){return Et("cpu")},style:{cursor:"pointer"},className:(We.current?"containerSummaryDivHighlight":"")+" card height-100 shadow-4 ml-2 mt-3 px-2 py-2 text-center p-ripple cyan",children:[(0,s.jsx)(Z.H,{}),(0,s.jsx)(K.G,{icon:J.Owo,className:"text-6xl text-cyan-600 mb-2",swapOpacity:!0}),(0,s.jsxs)("div",{className:"text-900 font-bold text-3xl mb-1 line-height-2 text-center",children:[null===Fe||void 0===Fe||null===(t=Fe.statsSummary)||void 0===t?void 0:t.cpuUsage," %"]}),(0,s.jsx)("p",{className:"text-700 m-0",children:"CPU"})]})}),(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("div",{onClick:function(){return Et("memory")},style:{cursor:"pointer"},className:($e.current?"containerSummaryDivHighlight":"")+" card height-100 shadow-4 ml-2 mt-3 px-2 py-2 text-center p-ripple blue",children:[(0,s.jsx)(Z.H,{}),(0,s.jsx)(K.G,{icon:J.zvy,className:"text-6xl text-blue-600 mb-2",swapOpacity:!0}),(0,s.jsx)("div",{className:"text-900 font-bold text-lg mb-1 line-height-2 text-center",children:N.t.bytes(null===Fe||void 0===Fe||null===(n=Fe.statsSummary)||void 0===n?void 0:n.memoryUsage)}),(0,s.jsxs)("p",{className:"text-700 m-0",children:["Memory of ",(null===Fe||void 0===Fe||null===(r=Fe.statsSummary)||void 0===r?void 0:r.memoryLimit)?N.t.bytes(null===Fe||void 0===Fe||null===(o=Fe.statsSummary)||void 0===o?void 0:o.memoryLimit):"0Mb"]})]})}),(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("div",{onClick:function(){return Et("processes")},style:{cursor:"pointer"},className:(ct.current?"containerSummaryDivHighlight":"")+" card height-100 shadow-4 ml-2 mt-3 px-2 py-2 text-center p-ripple orange",children:[(0,s.jsx)(Z.H,{}),(0,s.jsx)(K.G,{icon:J.Zrf,className:"text-6xl text-orange-600 mb-2",swapOpacity:!0}),(0,s.jsx)("div",{className:"text-900 font-bold text-2xl mb-1 line-height-2 text-center",children:null===Fe||void 0===Fe||null===(i=Fe.statsSummary)||void 0===i?void 0:i.processes}),(0,s.jsx)("p",{className:"text-700 m-0",children:"Processes"})]})}),(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("div",{onClick:function(){return Et("disk")},style:{cursor:"pointer"},className:(et.current?"containerSummaryDivHighlight":"")+" card height-100 shadow-4 ml-2 mt-3 px-2 py-2 text-center p-ripple green",children:[(0,s.jsx)(Z.H,{}),(0,s.jsx)(K.G,{icon:J.Yws,className:"text-6xl text-green-600 mb-2",swapOpacity:!0}),(0,s.jsxs)("div",{className:"text-900 font-bold text-lg mb-1 line-height-2 text-center",children:[N.t.bytes((null===Fe||void 0===Fe||null===(l=Fe.statsSummary)||void 0===l?void 0:l.diskRead)||0)," read",(0,s.jsx)("br",{}),N.t.bytes((null===Fe||void 0===Fe||null===(u=Fe.statsSummary)||void 0===u?void 0:u.diskWrite)||0)," write"]}),(0,s.jsx)("p",{className:"text-700 m-0",children:"Disk"})]})}),(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("div",{onClick:function(){return Et("network")},style:{cursor:"pointer"},className:(at.current?"containerSummaryDivHighlight":"")+" card height-100 shadow-4 ml-2 mt-3 px-2 py-2 text-center p-ripple yellow",children:[(0,s.jsx)(Z.H,{}),(0,s.jsx)(K.G,{icon:J.kXW,className:"text-6xl text-yellow-600 mb-2",swapOpacity:!0}),(0,s.jsxs)("div",{className:"text-900 font-bold text-lg mb-1 line-height-2 text-center",children:[N.t.bytes(null===Fe||void 0===Fe||null===(d=Fe.statsSummary)||void 0===d?void 0:d.networkRx)," RX",(0,s.jsx)("br",{}),N.t.bytes(null===Fe||void 0===Fe||null===(m=Fe.statsSummary)||void 0===m?void 0:m.networkTx)," TX"]}),(0,s.jsx)("p",{className:"text-700 m-0",children:"Network"})]})}),(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("div",{onClick:function(){return Et("diskspace")},style:{cursor:"pointer"},className:(mt.current?"containerSummaryDivHighlight":"")+" card height-100 shadow-4 ml-2 mt-3 mr-2 px-2 py-2 text-center p-ripple purple",children:[(0,s.jsx)(Z.H,{}),(0,s.jsx)(K.G,{icon:J.Yws,className:"text-6xl text-purple-600 mb-2",swapOpacity:!0}),(0,s.jsxs)("div",{className:"text-900 font-bold text-lg mb-1 line-height-2 text-center",children:[N.t.bytes((null===Fe||void 0===Fe||null===(p=Fe.statsSummary)||void 0===p?void 0:p.diskVolumeSize)+(null===Fe||void 0===Fe||null===(f=Fe.statsSummary)||void 0===f?void 0:f.diskTmpFSizes)),(0,s.jsx)("br",{}),N.t.bytes(null===Fe||void 0===Fe||null===(h=Fe.statsSummary)||void 0===h?void 0:h.diskTotal)]}),(0,s.jsx)("p",{className:"text-700 m-0",children:"Disk Space Used"})]})})]}),!e.showProfiler&&(0,s.jsx)("div",{className:"col-12 mt-1 mb-1"}),e.showProfiler&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"col-12 mt-0 mb-3"}),(0,s.jsx)("div",{className:"surface-color col-12 text-lg text-center pb-3 pr-3",children:b&&(0,s.jsxs)(s.Fragment,{children:[!ze&&(0,s.jsxs)("div",{className:"col-12 text-center text-lg mb-4",children:["As of ",L()(null===kt||void 0===kt?void 0:kt.endDate).format("MM/DD/YYYY hh:mm:ssA")]}),(0,s.jsx)("div",{className:"p-menubar p-component col-12 ml-1 justify-content-center grid",children:(0,s.jsx)("div",{className:"col-12 pl-3 pr-3",children:(0,s.jsxs)("div",{className:"col-12 slider-box pt-1 pb-2",children:[(0,s.jsx)("div",{className:"col-6 text-center ml-auto mr-auto",children:(0,s.jsxs)("div",{className:"col-12 ml-auto mr-auto grid justify-content-center p-0 mt-2 mb-0",children:[(0,s.jsx)("label",{className:"mb-3 mt-0",children:"Profiler"}),(0,s.jsxs)("div",{className:"p-inputgroup ml-auto mr-auto grid justify-content-center text-center",children:[(0,s.jsx)("div",{className:"p-inputgroup-addon",children:"Off"}),(0,s.jsx)("div",{className:"p-inputgroup-addon",children:(0,s.jsx)(ce.Q,{tooltip:"Toggles Profiler on or Off. Once started, a job will begin on the backend and send data to the charts. Click the boxes above to toggle charts on or off",className:"ml-auto mr-auto mt-2 mr-4",checked:be,onChange:function(e){return function(e){b.running?e?(x(),We.current||(Be(!0),Qe(!0),it(!1),Je(!1),rt(!1))):g():(0,je.V)({message:"The container must be running to profile.",header:"Container Not Running",icon:"pi pi-exclamation-triangle",className:"confirm-dialogs",acceptLabel:"Ok",rejectLabel:"",rejectClassName:"confirm-button-hidden",acceptClassName:"p-button-danger"})}(e.value)}})}),!be&&(0,s.jsx)("div",{className:"p-inputgroup-addon",children:"On"}),be&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"p-inputgroup-addon",children:(0,s.jsx)(M.z,{tooltip:"Pause or Resume frontend updates. This simply toggles updates on or off to the frontend. The Profiler will remain running until you turn it off or leave the page. ",onClick:function(){Ce(!Se)},className:"p-button-text p-button-plain p-2 m-0",children:(0,s.jsx)(K.G,{icon:Se?J.zc:J.XQY,className:Se?" text-sm text-blue-600 ":"text-sm text-green-600"})})}),(0,s.jsx)("div",{className:"p-inputgroup-addon",children:(0,s.jsx)(T.L,{name:"tickRate",id:"tickRate",tooltip:"This is the update interval to your charts. Data typically comes in every 1 second and with longer pollings you may want to reduce the update rate to the frontend.",options:[1,2,3,5,10,15,30,60,90,120,180],value:ee,placeholder:"Select an update rate in ticks",onChange:function(e){te(e.value),se(0)},className:"input-fixes"},"tickRate")}),(0,s.jsx)("div",{className:"p-inputgroup-addon",children:(0,s.jsx)(ue.G,{style:{width:"20px",height:"20px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"1.1s"})})]})]}),ze&&(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsx)("div",{className:"col-12 text-center pb-0 mb-0",children:(0,s.jsxs)("div",{className:"text-bold text-small ml-2",children:[null===Fe||void 0===Fe?void 0:Fe.sampleIndex," samples"]})})]})]})}),ze&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"col-12 mb-0 mt-0 pb-3 pr-0 mr-0 text-right",children:(0,s.jsx)(M.z,{onClick:function(){ht(!ft)},className:"p-button-text p-button-plain p-2 m-0",children:(0,s.jsx)(K.G,{icon:J.$Ni,className:"text-lg text-blue-600"})})}),(0,s.jsx)("div",{className:"col-12 m-0 p-0 text-center",children:(0,s.jsx)(le.i,{disabled:!(!be||Re.current),value:xt,max:bt[1],range:bt,onSlideEnd:function(e){return Ht(e.value)},onChange:function(e){return gt(e.value)}})}),(0,s.jsxs)("div",{className:"col-12 grid p-0 m-0 mb-2 mt-4",children:[(0,s.jsx)("div",{className:"col-6 p-0 ml-0 text-left text-sm",children:L()(null===kt||void 0===kt?void 0:kt.startDate).format("MM/DD/YYYY hh:mm:ssA")}),(0,s.jsx)("div",{className:"col-6 p-0 mr-0 text-right text-sm",children:L()(null===kt||void 0===kt?void 0:kt.endDate).format("MM/DD/YYYY hh:mm:ssA")})]})]}),(0,s.jsx)("div",{className:"",children:ze&&ft&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"col-12 grid",children:(0,s.jsx)("div",{className:"col-6 text-left ml-0 mr-auto p-0"})}),(0,s.jsxs)("div",{className:"col-12 grid justify-content-center",children:[(0,s.jsx)("div",{className:"col-3 text-center m-auto",children:(0,s.jsxs)("div",{className:"p-inputgroup col-12",children:[(0,s.jsx)("div",{className:"p-inputgroup-addon",children:"Animation s:"}),(0,s.jsx)(me.R,{min:0,max:1e7,placeholder:"Animation",step:1,useGrouping:!1,showButtons:!0,value:Ie,className:"ml-auto mr-auto form-control f-height-inputs",onChange:function(e){De(e.value),At()}})]})}),(0,s.jsx)("div",{className:"col-3 text-center m-auto ",children:(0,s.jsxs)("div",{className:"p-inputgroup col-12",children:[(0,s.jsx)("div",{className:"p-inputgroup-addon",children:"Tension:"}),(0,s.jsx)(me.R,{min:0,max:100,placeholder:"Line Tension",step:.001,mode:"decimal",useGrouping:!1,showButtons:!0,value:Oe,className:"ml-auto mr-auto form-control f-height-inputs",onChange:function(e){Le(e.value),At()}})]})}),(0,s.jsx)("div",{className:"col-6",children:(0,s.jsxs)("div",{className:"col-12 grid",children:[(0,s.jsx)("div",{className:"col-6",children:(0,s.jsxs)("div",{className:"p-inputgroup mt-3",children:[(0,s.jsx)("div",{className:"p-inputgroup-addon",children:"Reset:"}),(0,s.jsx)(M.z,{label:"Reset",onClick:function(){return function(){var e=_e.current;e.chartData={dates:[],cpu:[],memoryPercent:[],processes:[],diskRead:[],diskWrite:[],networkTx:[],networkRx:[],diskUsed:[],diskImage:[],diskLabels:[],diskUsage:[]},He(e),At()}()}})]})}),(0,s.jsx)("div",{className:"col-6 text-right ml-auto mr-0 p-0",children:(0,s.jsx)(de.U,{className:"mt-4",value:X,options:["Grid","List"],onChange:function(e){return Ft(e)}})})]})})]})]})})]})})}),(0,s.jsxs)("div",{className:"col-12 m-0 p-0 grid",children:[Ye&&(0,s.jsx)("div",{className:_t,children:(0,s.jsx)(pe.v,{ref:R,className:"m-4",statsCPU:Fe.chartData.cpu,statsDates:Fe.chartData.dates,startDate:kt.startDate,endDate:kt.endDate,animationTime:Ie,lineTension:Oe,chartColor:Me.cpu})}),Xe&&(0,s.jsx)("div",{className:_t,children:(0,s.jsx)(fe.i,{ref:P,className:"m-4",statsMemory:Fe.chartData.memoryPercent,statsDates:Fe.chartData.dates,startDate:kt.startDate,endDate:kt.endDate,animationTime:Ie,lineTension:Oe,chartColor:Me.memory})}),Ke&&(0,s.jsx)("div",{className:_t,children:(0,s.jsx)(he.m,{className:"m-4",statsDiskInput:Fe.chartData.diskWrite,statsDiskOutput:Fe.chartData.diskRead,statsDates:Fe.chartData.dates,startDate:kt.startDate,endDate:kt.endDate,animationTime:Ie,lineTension:Oe,chartColorInput:Me.diskInput,chartColorOutput:Me.diskOutput})}),nt&&(0,s.jsx)("div",{className:_t,children:(0,s.jsx)(xe.O,{ref:D,className:"m-4",statsNetworkTx:Fe.chartData.networkTx,statsNetworkRx:Fe.chartData.networkRx,statsDates:Fe.chartData.dates,startDate:kt.startDate,endDate:kt.endDate,animationTime:Ie,lineTension:Oe,chartColorTx:Me.networkTx,chartColorRx:Me.networkRx})}),ot&&(0,s.jsx)("div",{className:_t,children:(0,s.jsx)(ve.z,{className:"m-4",ref:I,statsProcesses:Fe.chartData.processes,statsDates:Fe.chartData.dates,startDate:kt.startDate,endDate:kt.endDate,animationTime:Ie,lineTension:Oe,chartColor:Me.processes})}),ut&&(0,s.jsx)("div",{className:_t,children:(0,s.jsx)(ge.t,{className:"m-4",statsDiskLabels:Fe.diskLabels,statsDiskUsage:Fe.diskUsage,statsDiskOther:Fe.diskOther,statsDiskType:Fe.diskTypes,startDate:kt.startDate,endDate:kt.endDate,animationTime:Ie,lineTension:Oe})})]})]})})]})]})})})})})}var Se=n(87536),Ce=n(95496),Re=n(74231),Pe=n(25600),Ie=n(46479);function De(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function Te(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){De(s,r,a,o,i,"next",e)}function i(e){De(s,r,a,o,i,"throw",e)}o(void 0)}))}}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(){return Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Oe(e,t,n[t])}))}return e}function Ee(e){var t=function(e){var t;(null===j||void 0===j?void 0:j.current)&&j.current.emit("docker",{command:"execContainer",containerId:h.current.containerId,execCommand:e,hostId:null===(t=h.current.host)||void 0===t?void 0:t.id,callback:"dockerResulsExec_"+d.current,hook:"execContainer"})},n=Le({},e),r=(0,c.useRef)(null),i=(0,c.useState)(null),l=i[0],u=i[1],d=(0,c.useRef)(l);d.current=l;var m=(0,c.useState)(null),p=m[0],f=m[1],h=(0,c.useRef)(p);h.current=p;var v=(0,c.useState)(null),x=v[0],g=v[1],j=(0,c.useRef)(x);j.current=x;var b=(0,c.useState)(!1),w=b[0],N=b[1],k=(0,c.useState)(null)[0];(0,c.useRef)(k).current=k;var y=(0,c.useState)(!0),S=y[0],C=y[1];(0,c.useRef)(S).current=S;var R=(0,c.useState)(!1),P=R[0],I=R[1],D=(0,c.useState)(null)[0];(0,c.useRef)(D).current=D;var T=Re.Ry({command:Re.Z_().required()}).required(),O=(0,Se.cI)({resolver:(0,Ce.X)(T)}),L=O.register,A=O.handleSubmit,F=O.formState.errors;function H(){return _.apply(this,arguments)}function _(){return(_=Te(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:return N(!0),t="dockerResulsExec_"+d.current,e.next=6,E.L.getSocket();case 6:return(n=e.sent).on(t,(function(e){setTimeout((function(){I(!1)}),500),"success"===e.status&&e.data})),g(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)(Te(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(),(null===(t=n.container)||void 0===t?void 0:t.id)&&(u(n.container.id),f(n.container),w||setTimeout((function(){H()}),500)),C(!1);case 4:case"end":return e.stop()}}),e)}))),[n.container]),(0,c.useEffect)((function(){return function(){if(j.current){var e="dockerResulsExec_"+d.current;j.current.removeListener(e)}}}),[]);var U=function(){r.current&&r.current.clear()};return S?(0,s.jsx)(o.$,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"m-0s p-0",children:(0,s.jsx)("div",{className:"p-0 pt-0 mt-0",children:(0,s.jsx)("form",{onSubmit:A((function(e){I(!0),t(e.command)})),children:(0,s.jsxs)("div",{className:"p-fluid p-formgrid p-grid mt-0 pt-0 ml-auto mr-auto jc-center",children:[(0,s.jsx)("div",{className:"form-group",children:(0,s.jsxs)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:[(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon input-text-dark-label",children:(0,s.jsx)("i",{className:"fa fa-terminal p-3"})}),(0,s.jsx)(Pe.o,Me({id:"command",name:"command",type:"text",disabled:P,placeholder:"Execute command in container",required:!0},L("command"),{className:"input-text-dark ".concat(F.command?"p-invalid":"")})),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,s.jsx)(M.z,{disabled:P,className:"p-button p-button-primary p-2 height-100",type:"submit",label:"Exec"})})]}),(0,s.jsx)("div",{className:"col-12 text-center",children:"Command output is not returned. Only notice of the command execution."})]})}),(0,s.jsx)(Ie.V,{ref:r})]})})})})})}var Ae=n(46374);function Fe(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function He(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){Fe(s,r,a,o,i,"next",e)}function i(e){Fe(s,r,a,o,i,"throw",e)}o(void 0)}))}}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_e(e,t,n[t])}))}return e}function ze(e){var t=function(e){var t;(null===g||void 0===g?void 0:g.current)&&g.current.emit("docker",{command:"renameContainer",containerId:f.current.containerId,hostId:null===(t=f.current.host)||void 0===t?void 0:t.id,name:e,callback:"dockerResulRenameContainer_"+f.current.id,hook:"renameContainer"})},n=(0,c.useRef)(null),r=(0,c.useState)(null),i=r[0],l=r[1],u=(0,c.useRef)(i);u.current=i;var d=(0,c.useState)(null),m=d[0],p=d[1],f=(0,c.useRef)(m);f.current=m;var h=(0,c.useState)(null),v=h[0],x=h[1],g=(0,c.useRef)(v);g.current=v;var j=(0,c.useState)(!1),b=j[0],w=j[1],N=(0,c.useState)(null)[0];(0,c.useRef)(N).current=N;var k=(0,c.useState)(!0),y=k[0],S=k[1];(0,c.useRef)(y).current=y;var C=(0,c.useState)(!1),R=C[0],P=C[1],I=(0,c.useState)(null)[0];(0,c.useRef)(I).current=I;var D=Re.Ry({name:Re.Z_().required()}).required(),T=(0,Se.cI)({resolver:(0,Ce.X)(D)}),O=T.register,L=T.handleSubmit,A=T.formState.errors;function F(){return H.apply(this,arguments)}function H(){return(H=He(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=2;break}return e.abrupt("return");case 2:return w(!0),t="dockerResulRenameContainer_"+u.current,e.next=6,E.L.getSocket();case 6:return(n=e.sent).on(t,(function(e){setTimeout((function(){P(!1)}),500),"success"===e.status&&e.data})),x(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)(He(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_(),(null===(n=e.container)||void 0===n?void 0:n.id)&&(l(e.container.id),p(e.container),b||setTimeout((function(){F()}),500)),S(!1);case 4:case"end":return t.stop()}}),t)}))),[e.container]),(0,c.useEffect)((function(){return function(){if(g.current){var e="dockerResulRenameContainer_"+u.current;g.current.removeListener(e)}}}),[]);var _=function(){n.current&&n.current.clear()};return y?(0,s.jsx)(o.$,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"m-0s p-0",children:(0,s.jsx)("div",{className:"p-0 pt-0 mt-0",children:(0,s.jsx)("form",{onSubmit:L((function(e){P(!0),t(e.name)})),children:(0,s.jsxs)("div",{className:"p-fluid p-formgrid p-grid mt-0 pt-0 ml-auto mr-auto jc-center",children:[(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon",children:"Container Name:"}),(0,s.jsx)(Pe.o,Ue({id:"name",name:"name",type:"text",disabled:R,placeholder:"Rename Container",required:!0},O("name",{value:f.current.name}),{className:" ".concat(A.name?"p-invalid":"p-1")})),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,s.jsx)(M.z,{disabled:R,className:"p-button p-button-primary p-2 height-100",type:"submit",label:"Rename"})})]})})}),(0,s.jsx)(Ie.V,{ref:n})]})})})})})}var Ve=n(13413);function Ge(e){var t,n=(0,c.useState)(null),r=n[0],a=n[1],o=(0,c.useState)("list")[0];if((0,c.useEffect)((function(){a(e.container)}),[e.container]),!r)return(0,s.jsx)("div",{});var i=""+r.networks.length;return i+=(r.networks.length," Networks"),(null===r||void 0===r||null===(t=r.networks)||void 0===t?void 0:t.length)<1?(0,s.jsx)("div",{className:"col-12 text-center",children:"Container does not belong to any networks."}):(0,s.jsx)(s.Fragment,{children:r.networks.length>0&&(0,s.jsx)(I.s,{header:i,collapsed:!1,toggleable:!0,children:(0,s.jsx)("div",{className:"col-12 m-0 p-0",children:(0,s.jsx)("div",{className:"card p-0 m-0",children:(0,s.jsx)($.V,{value:r.networks,layout:o,itemTemplate:function(e,t){var n;if(e)return"list"===t?(n=e,(0,s.jsx)("div",{className:"col-12 pt-2 pl-3 flex datatable-hover",children:(0,s.jsx)("div",{className:"col-12 pl-0 mr-auto grid",children:(0,s.jsx)(Ve.Z,{network:n,activeContainer:r.id})})})):void 0},paginator:!1,rows:100})})})})})}var Ye=n(74420),Be=n(63861),We=n(30022),qe=n(84283);function Xe(e){var t=(0,c.useRef)(null),n=(0,c.useState)(),r=n[0],a=n[1],o=(0,c.useState)("No message provied."),i=o[0],l=o[1];return(0,c.useEffect)((function(){e.showError&&(a(e.showError),l(e.errorMessage))}),[e.showError,e.errorMessage]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)(Ye.F,{ref:t}),(0,s.jsx)(Be.V,{header:"Error Message",visible:r,style:{width:"70vw"},onHide:function(){a(!1),e.triggerParentUpdate(),a(!1)},children:(0,s.jsx)(We.Z,{className:"m-0 p-4",language:"html",style:qe.RY,showLineNumbers:!1,wrapLines:!0,wrapLongLines:!0,children:i})})]})})}function Qe(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function $e(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){Qe(s,r,a,o,i,"next",e)}function i(e){Qe(s,r,a,o,i,"throw",e)}o(void 0)}))}}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ze(e,t,n[t])}))}return e}function Je(e){var t=function(e){var t;(null===j||void 0===j?void 0:j.current)&&j.current.emit("docker",{command:"updateContainer",containerId:h.current.containerId,hostId:null===(t=h.current.host)||void 0===t?void 0:t.id,data:e,callback:"dockerResultUpdateContainer_"+h.current.id,hook:"updateContainer",errorHandler:"dockerResultUpdateContainer_"+h.current.id})},n=(0,c.useRef)(null),r=(0,c.useRef)(null),i=(0,c.useState)(null),l=i[0],u=i[1],d=(0,c.useRef)(l);d.current=l;var m=(0,c.useState)(null),p=m[0],f=m[1],h=(0,c.useRef)(p);h.current=p;var v=(0,c.useState)(null),x=v[0],g=v[1],j=(0,c.useRef)(x);j.current=x;var b=(0,c.useState)(!1),w=b[0],k=b[1],y=(0,c.useState)(null),S=y[0],C=y[1];(0,c.useRef)(S).current=S;var R=(0,c.useState)(null),P=R[0],I=R[1];(0,c.useRef)(P).current=P;var D=(0,c.useState)(!0),T=D[0],O=D[1];(0,c.useRef)(T).current=T;var L=(0,c.useState)(!1),A=L[0],F=L[1],H=(0,c.useState)(null)[0];(0,c.useRef)(H).current=H;var U=(0,c.useState)("Megabytes"),z=U[0],V=U[1],G=(0,c.useRef)(z);G.current=z;var Y=(0,c.useState)(1e-6),B=Y[0],W=Y[1],q=(0,c.useRef)(B);q.current=B;var X=(0,c.useState)(18e8),Q=X[0],$=X[1],Z=(0,c.useRef)(Q);Z.current=Q;var ee=(0,c.useState)(18e8),te=ee[0],ne=ee[1],re=(0,c.useRef)(te);re.current=te;var ae=(0,c.useState)(18e8),se=ae[0],oe=ae[1],ie=(0,c.useRef)(se);ie.current=se;var ce=(0,c.useState)(0),ue=ce[0],de=ce[1],pe=(0,c.useRef)(ue);pe.current=ue;var fe=(0,c.useState)(1e4),he=fe[0],ve=fe[1],xe=(0,c.useRef)(he);xe.current=he;var ge=(0,c.useState)(0),je=ge[0],be=ge[1],we=(0,c.useRef)(je);we.current=je;var Ne=(0,c.useState)(0)[0],ke=(0,c.useRef)(Ne);ke.current=Ne;var ye=(0,c.useState)(1e4),De=ye[0],Te=ye[1],Oe=(0,c.useRef)(De);Oe.current=De;var Le=(0,c.useState)(0),Me=Le[0],Ee=Le[1];(0,c.useRef)(Me).current=Me;var Ae=(0,c.useState)(1e6),Fe=Ae[0],He=Ae[1],_e=(0,c.useRef)(Fe);_e.current=Fe;var Ue=(0,c.useState)(1e6),ze=Ue[0],Ve=Ue[1],Ge=(0,c.useRef)(ze);Ge.current=ze;var Be=(0,c.useState)(1e4),We=Be[0],qe=Be[1],Qe=(0,c.useRef)(We);Qe.current=We;var Ze=(0,c.useState)(0),Je=Ze[0],et=Ze[1],tt=(0,c.useRef)(Je);tt.current=Je;var nt=(0,c.useState)(18e9)[0],rt=(0,c.useState)(18e9)[0],at=(0,c.useState)(!1),st=at[0],ot=at[1],it=(0,c.useRef)(st);it.current=st;var ct=(0,c.useState)([]),lt=ct[0],ut=ct[1],dt=Re.Ry({name:Re.Z_().required()}).required(),mt=(0,Se.cI)({resolver:(0,Ce.X)(dt)}),pt=mt.register,ft=mt.handleSubmit,ht=mt.formState.errors;function vt(){return xt.apply(this,arguments)}function xt(){return(xt=$e(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:return k(!0),t="dockerResultUpdateContainer_"+d.current,e.next=6,E.L.getSocket();case 6:return(n=e.sent).on(t,(function(e){setTimeout((function(){F(!1)}),500),console.debug("Results",e),"success"===e.status?e.data&&r.current.show({severity:"success",summary:"Success",detail:"Container Settings Applied",life:4e3}):(C(e.error),I(!0))})),g(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)($e(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:gt(),(null===(n=e.container)||void 0===n?void 0:n.id)&&(u(e.container.id),f(e.container),w||setTimeout((function(){vt()}),500)),setTimeout((function(){jt(),bt()}),200),O(!1);case 5:case"end":return t.stop()}}),t)}))),[e.container,z]),(0,c.useEffect)((function(){return function(){if(j.current){var e="dockerResultUpdateContainer_"+d.current;j.current.removeListener(e)}}}),[]);var gt=function(){n.current&&n.current.clear()},jt=function(){var e,t,n,r,a,s,o,i,c,l,u,d,m,p,f,v,x,g,j,b,w,N,k,y,S,C,R,P,I,D,T,O,L,M,E,A,F,H,_;$((null===(e=h.current)||void 0===e||null===(t=e.details)||void 0===t||null===(n=t.HostConfig)||void 0===n?void 0:n.Memory)*B),oe((null===(r=h.current)||void 0===r||null===(a=r.details)||void 0===a||null===(s=a.HostConfig)||void 0===s?void 0:s.MemoryReservation)*B),ne((null===(o=h.current)||void 0===o||null===(i=o.details)||void 0===i||null===(c=i.HostConfig)||void 0===c?void 0:c.MemorySwap)*B),de((null===(l=h.current)||void 0===l||null===(u=l.details)||void 0===u||null===(d=u.HostConfig)||void 0===d?void 0:d.MemorySwappiness)||0),ve(null===(m=h.current)||void 0===m||null===(p=m.details)||void 0===p||null===(f=p.HostConfig)||void 0===f?void 0:f.CpuShares),Te(null===(v=h.current)||void 0===v||null===(x=v.details)||void 0===x||null===(g=x.HostConfig)||void 0===g?void 0:g.CpuQuota),Ee(null===(j=h.current)||void 0===j||null===(b=j.details)||void 0===b||null===(w=b.HostConfig)||void 0===w?void 0:w.CpuPeriod),Ee(null===(N=h.current)||void 0===N||null===(k=N.details)||void 0===k||null===(y=k.HostConfig)||void 0===y?void 0:y.CpuPercent),be(null===(S=h.current)||void 0===S||null===(C=S.details)||void 0===C||null===(R=C.HostConfig)||void 0===R?void 0:R.CpuCount),He(null===(P=h.current)||void 0===P||null===(I=P.details)||void 0===I||null===(D=I.HostConfig)||void 0===D?void 0:D.CpuRealtimePeriod),Ve(null===(T=h.current)||void 0===T||null===(O=T.details)||void 0===O||null===(L=O.HostConfig)||void 0===L?void 0:L.CpuRealtimeRuntime),qe(null===(M=h.current)||void 0===M||null===(E=M.details)||void 0===E||null===(A=E.HostConfig)||void 0===A?void 0:A.BlkioWeight),et(null===(F=h.current)||void 0===F||null===(H=F.details)||void 0===H||null===(_=H.HostConfig)||void 0===_?void 0:_.PidsLimit)},bt=function(){var e=[],t="Bytes"===G.current?"p-button-outlined p-button-raised p-button p-button-primary p-0":"";e.push({label:"Bytes",className:t,command:function(){wt("Bytes")}}),t="Kilobytes"===G.current?"p-button-outlined p-button-raised p-button p-button-primary p-0":"",e.push({label:"Kilobytes",className:t,command:function(){wt("Kilobytes")}}),t="Megabytes"===G.current?"p-button-outlined p-button-raised p-button p-button-primary p-0":"",e.push({label:"Megabytes",className:t,command:function(){wt("Megabytes")}}),t="Gigabytes"===G.current?"p-button-outlined p-button-raised p-button p-button-primary p-0":"",e.push({label:"Gigabytes",className:t,command:function(){wt("Gigabytes")}}),ut(e)},wt=function(e){switch(V(e),e){case"Bytes":W(1);break;case"Kilobytes":W(.001);break;case"Megabytes":W(1e-6);break;case"Gigabytes":W(9.765625e-10)}};return T?(0,s.jsx)(o.$,{}):p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Ye.F,{ref:r}),(0,s.jsx)(Xe,{errorMessage:S,showError:P,triggerParentUpdate:function(){console.log("Parent Updated"),I(!1)}}),(0,s.jsx)("div",{className:"m-0s p-0",children:(0,s.jsxs)("div",{className:"p-0 pt-0 mt-0",children:[(0,s.jsx)("div",{className:"col-12 text-right p-0 pr-2 mb-3",children:(0,s.jsxs)(M.z,{onClick:function(){ot(!it.current)},children:[(0,s.jsx)(K.G,{className:"mr-2 text-xl",icon:J.Fuz}),"Help"]})}),(0,s.jsx)("form",{onSubmit:ft((function(){F(!0);var e={BlkioWeight:Qe.current,CpuShares:xe.current,CpuPeriod:ke.current,CpuQuota:Oe.current,CpuRealtimePeriod:_e.current,CpuRealtimeRuntime:Ge.current,CpuCount:we.current,Memory:Z.current/q.current,MemorySwap:re.current/q.current,MemoryReservation:ie.current/q.current,MemorySwappiness:pe.current,PidsLimit:tt.current};t(e)})),children:(0,s.jsxs)("div",{className:"p-fluid p-formgrid p-grid mt-0 pt-0 ml-auto mr-auto jc-center",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("h6",{children:"Container Name"}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Container Name:"}),(0,s.jsx)(Pe.o,Ke({id:"name",name:"name",type:"text",disabled:A,placeholder:"Rename Container",required:!0},pt("name",{value:h.current.name}),{className:" ".concat(ht.name?"p-invalid":"p-1")})),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(M.z,{disabled:A,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Rename"})})]})}),st&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"Changes the container name."})]}),(0,s.jsxs)("div",{className:"form-group col-12 p-0 mt-5",children:[(0,s.jsx)("h6",{className:"ml-2",children:"Memory Limits"}),(0,s.jsx)("div",{className:"col-12 p-0 m-0 mt-3",children:(0,s.jsx)(_.n,{start:(0,s.jsx)("div",{className:"mr-3",children:"Memory Size"}),model:lt,label:"foo",buttonClassName:"p-button-info",className:"col-12 mb-2 ml-0 mr-0 justify-content-center menubar-menu"})}),(0,s.jsxs)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:[(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",tooltip:"Memory limit in bytes. Default 0",children:"Memory:"}),(0,s.jsx)(me.R,{min:0,inputId:"MemoryLimit",max:nt,placeholder:"Memory Limit",step:1,useGrouping:!1,showButtons:!1,value:Q,tooltip:"Memory limit in bytes. Default 0",onChange:function(e){$(e.value*B)},disabled:A},"memoryLimit"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:G.current}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(le.i,{value:Q/B,max:nt,tooltip:"Memory limit in bytes. Default 0",onChange:function(e){$(e.value*B)},disabled:A})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:N.t.bytes(Q/B)}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[N.t.bytes(nt)," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(Z.current/B/nt*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(M.z,{disabled:A,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]}),st&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"Allows you to specify a soft limit smaller than --memory which is activated when Docker detects contention or low memory on the host machine. If you use --memory-reservation, it must be set lower than --memory for it to take precedence. Because it is a soft limit, it does not guarantee that the container doesn\u2019t exceed the limit."})]}),(0,s.jsxs)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:[(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Memory Reservation:"}),(0,s.jsx)(me.R,{min:Z.current,inputId:"memoryReservationLimit",max:nt,placeholder:"Memory Reservation",step:1,useGrouping:!1,showButtons:!1,value:ie.current,tooltip:"Memory soft limit in bytes.",onChange:function(e){oe(e.value*B)},disabled:A},"memoryReservationLimit"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:G.current}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(le.i,{value:ie.current/B,max:nt,onChange:function(e){oe(e.value*B)},disabled:A})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:N.t.bytes(ie.current/B)}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[N.t.bytes(nt)," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(ie.current/B/nt*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(M.z,{disabled:A,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]}),st&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"Allows you to specify a soft limit smaller than --memory which is activated when Docker detects contention or low memory on the host machine. If you use --memory-reservation, it must be set lower than --memory for it to take precedence. Because it is a soft limit, it does not guarantee that the container doesn\u2019t exceed the limit."})]}),(0,s.jsxs)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:[(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Memory Swap:"}),(0,s.jsx)(me.R,{min:0,inputId:"MemorySwapLimit",max:nt,placeholder:"Memory Swap Limit",step:1,useGrouping:!1,showButtons:!1,value:te,tooltip:"Total memory limit (memory + swap). Set as -1 to enable unlimited swap.",onChange:function(e){return ne(e.value*B)},disabled:A},"memorySwapLimit"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:G.current}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(le.i,{tooltip:"Memory Swap Limit cannot be less than Memory Limit",value:te/B,max:nt,min:0,onChange:function(e){ne(e.value*B)},disabled:A})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:N.t.bytes(re.current/B)}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[N.t.bytes(nt)," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(re.current/B/nt*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(M.z,{disabled:A,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]}),st&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"The amount of memory this container is allowed to swap to disk. See --memory-swap details."})]}),(0,s.jsxs)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:[(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Memory Swappiness:"}),(0,s.jsx)(me.R,{min:0,inputId:"memorySwappinessLimit",max:100,placeholder:"Memory Swappiness",step:1,useGrouping:!1,showButtons:!1,value:ue,tooltip:"Tune a container's memory swappiness behavior. Accepts an integer between 0 and 100",onChange:function(e){return de(e.value)},disabled:A},"memorySwappinessLimit"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"Integer"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(le.i,{value:ue,max:100,onChange:function(e){de(e.value)},disabled:A})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:pe.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[100," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(pe.current/100*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(M.z,{disabled:A,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]}),st&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"By default, the host kernel can swap out a percentage of anonymous pages used by a container. You can set --memory-swappiness to a value between 0 and 100, to tune this percentage. See --memory-swappiness details."})]})]}),(0,s.jsxs)("div",{className:"formGroup mt-3",children:[(0,s.jsx)("h6",{className:"ml-2",children:"CPU Limits"}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"CPU Count:"}),(0,s.jsx)(me.R,{min:0,inputId:"CPU Count",max:16,placeholder:"CPU Count",step:1,useGrouping:!1,showButtons:!1,value:we.current,tooltip:"The number of usable CPUs (Windows only). On Windows Server containers, the processor resource controls are mutually exclusive. The order of precedence is CPUCount first, then CPUShares, and CPUPercent last.",onChange:function(e){return be(e.value)},disabled:A},"cpuCount"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"CPUs"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(le.i,{value:we.current,max:16,onChange:function(e){be(e.value)},disabled:A})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:we.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[16," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(we.current/16*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(M.z,{disabled:A,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]})}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"CPU Shares:"}),(0,s.jsx)(me.R,{min:0,inputId:"CPU Shares",max:1e4,placeholder:"CPU Shares",step:1,useGrouping:!1,showButtons:!1,value:xe.current,tooltip:"An integer value representing this container's relative CPU weight versus other containers. 0-1000",onChange:function(e){return ve(e.value)},disabled:A},"cpuShares"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"bytes"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(le.i,{value:xe.current,max:1e4,onChange:function(e){ve(e.value)},disabled:A})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:xe.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[1e4," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(xe.current/1e4*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(M.z,{disabled:A,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]})}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"CPU Quota:"}),(0,s.jsx)(me.R,{min:0,inputId:"CPUQuota",max:rt,placeholder:"CPU Quota",step:1,useGrouping:!1,showButtons:!1,value:Oe.current,tooltip:"Microseconds of CPU time that the container can get in a CPU period.",onChange:function(e){(null===e||void 0===e?void 0:e.value)&&Te(e.value)},disabled:A},"cpuQuota"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"bytes"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(le.i,{value:Oe.current,min:0,max:rt,onChange:function(e){(null===e||void 0===e?void 0:e.value)&&Te(e.value)},disabled:A})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:Oe.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[rt," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(Oe.current/rt*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(M.z,{disabled:A,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]})}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"CPU Realtime Period:"}),(0,s.jsx)(me.R,{min:0,inputId:"CPURealTime",max:1e6,placeholder:"CPU Realtime Period",step:1,useGrouping:!1,showButtons:!1,value:_e.current,tooltip:"The length of a CPU real-time period in microseconds. Set to 0 to allocate no time allocated to real-time tasks.",onChange:function(e){return He(e.value)},disabled:A},"cpuRealtimePeriod"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"Integer"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(le.i,{value:_e.current,max:1e6,onChange:function(e){He(e.value)},disabled:A})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:_e.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[1e6," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(_e.current/1e6*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(M.z,{disabled:A,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]})}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"CPU Realtime Runtime:"}),(0,s.jsx)(me.R,{min:0,inputId:"CPURealtimeRuntime",max:1e6,placeholder:"CPU Realtime Runtime",step:1,useGrouping:!1,showButtons:!1,value:Ge.current,tooltip:"The length of a CPU real-time runtime in microseconds. Set to 0 to allocate no time allocated to real-time tasks.",onChange:function(e){return Ve(e.value)},disabled:A},"cpuRealtimeRuntime"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"Integer"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(le.i,{value:Ge.current,max:1e6,onChange:function(e){Ve(e.value)},disabled:A})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:Ge.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[1e6," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(Ge.current/1e6*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(M.z,{disabled:A,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]})})]}),(0,s.jsxs)("div",{className:"formGroup mt-3",children:[(0,s.jsx)("h6",{className:"ml-2",children:"Block IO"}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Block IO Weight:"}),(0,s.jsx)(me.R,{min:0,inputId:"BlockIOWeight",max:1e3,placeholder:"Block IO Weight",step:1,useGrouping:!1,showButtons:!1,value:We,tooltip:"Block IO weight (relative weight).",onChange:function(e){return qe(e.value)},disabled:A},"blkIoWeight"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"Integer"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(le.i,{value:We,max:1e3,onChange:function(e){qe(e.value)},disabled:A})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:Qe.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[1e3," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(Qe.current/1e3*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(M.z,{disabled:A,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]})})]}),(0,s.jsxs)("div",{className:"formGroup mt-3",children:[(0,s.jsx)("h6",{className:"ml-2",children:"Processes"}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Pid Limit:"}),(0,s.jsx)(me.R,{min:-1,inputId:"PidLimit",max:500,placeholder:"PID Limit",step:1,useGrouping:!1,showButtons:!1,value:Je,disabled:A,tooltip:"Tune a container's PIDs limit. Set 0 or -1 for unlimited, or null to not change.",onChange:function(e){return et(e.value)}},"pidLimit"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"Integer"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(le.i,{value:Je,max:500,min:-1,onChange:function(e){et(e.value)}})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:tt.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[500," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(tt.current/500*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(M.z,{disabled:A,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]})})]}),(0,s.jsx)(Ie.V,{ref:n})]})})]})})]}):(0,s.jsx)("div",{children:"No Container"})}var et=n(5945);function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nt(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function rt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){nt(s,r,a,o,i,"next",e)}function i(e){nt(s,r,a,o,i,"throw",e)}o(void 0)}))}}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){at(e,t,n[t])}))}return e}function ot(e){return function(e){if(Array.isArray(e))return tt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e){var t,n,r=function(){if(null===x||void 0===x?void 0:x.current){var e,t={command:"inspect",containerId:x.current.containerId,hostId:null===(e=x.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+x.current.id,hook:"inspectContainer"};Y.current.emit("docker",t)}},i=function(e,t){var n;(null===Y||void 0===Y?void 0:Y.current)&&Y.current.emit("docker",{command:"connectContainerNetwork",containerId:x.current.containerId,hostId:null===(n=x.current.host)||void 0===n?void 0:n.id,networkId:t,data:e,errorHandler:"dockerResulNetworkConnectContainer_"+x.current.id,callback:"dockerResulNetworkConnectContainer_"+x.current.id,hook:"renameContainer"})},l=(0,c.useRef)(null),u=(0,c.useState)(null),d=u[0],m=u[1],p=(0,c.useRef)(d);p.current=d;var f=(0,c.useState)(null),h=f[0],v=f[1],x=(0,c.useRef)(h);x.current=h;var g=(0,c.useState)(null)[0];(0,c.useRef)(g).current=g;var b=(0,c.useState)(null),w=b[0],N=b[1];(0,c.useRef)(w).current=w;var k=(0,c.useState)({}),y=k[0],S=k[1],C=(0,c.useRef)(y);C.current=y;var R=(0,c.useState)([])[0];(0,c.useRef)(R).current=R;var P=(0,j.v9)((function(e){return e.networks})),I=(0,j.v9)((function(e){return e.hosts.activeHost}));(0,c.useRef)(I).current=I;var D=(0,c.useState)(null),O=D[0],L=D[1],A=(0,c.useRef)(O);A.current=O;var F=(0,c.useState)(null),H=F[0],_=F[1],U=(0,c.useRef)(H);U.current=H;var z=(0,c.useState)(null),V=z[0],G=z[1],Y=(0,c.useRef)(V);Y.current=V;var B=(0,c.useState)(!1),W=B[0],q=B[1],X=(0,c.useState)(null)[0];(0,c.useRef)(X).current=X;var Q=(0,c.useState)(!0),$=Q[0],Z=Q[1];(0,c.useRef)($).current=$;var ee=(0,c.useState)(!1),te=ee[0],ne=ee[1],re=(0,c.useState)(!1),ae=re[0],se=re[1],oe=(0,c.useState)(null)[0];(0,c.useRef)(oe).current=oe;var ie=(0,c.useState)(!1),ce=ie[0],le=ie[1],ue=(0,c.useRef)(ce);ue.current=ce;var de=(0,c.useState)({ipAddress:null,networkId:null,endpointID:null,gateway:null}),me=de[0],pe=de[1],fe=(0,c.useRef)(me);fe.current=me;var he=(0,c.useState)(!1),ve=he[0],xe=he[1],ge=(0,c.useState)(1),be=ge[0],we=ge[1],Ne=(0,c.useState)(1),ke=Ne[0],ye=Ne[1];function De(){return Te.apply(this,arguments)}function Te(){return(Te=rt(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W){e.next=2;break}return e.abrupt("return");case 2:return q(!0),t="dockerResulNetworkConnectContainer_"+p.current,e.next=6,E.L.getSocket();case 6:return(n=e.sent).on(t,(function(e){setTimeout((function(){ne(!1)}),500),"fail"===e.status&&((0,je.V)({className:"confirm-dialogs",message:e.error,header:"Docker Error",icon:"pi pi-exclamation-check",acceptLabel:"Ok",rejectLabel:"",rejectClassName:"confirm-button-hidden",acceptClassName:"p-button-danger",accept:function(){}}),Z(!1)),r()})),G(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)(rt(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Le(),(null===(n=e.container)||void 0===n?void 0:n.id)&&(m(e.container.id),v(e.container),W||setTimeout((function(){De()}),500)),Z(!1);case 4:case"end":return t.stop()}}),t)}))),[e.container]),(0,c.useEffect)((function(){var e,t=st({},P);if(I&&P&&h){t=P[x.current.host.id].networks;var n=Object.keys(t).map((function(e){return t[e]}));n.sort((function(e,t){return e.name||(e.name="Unknown"),e.name.localeCompare(t.name)}));var r=null===(e=x.current)||void 0===e?void 0:e.networks.map((function(e){return e.id})),a=n.filter((function(e){if(!r.includes(e.id)){var t=st({},e);return t.name=e.name+" ["+e.networkId.substring(0,12)+"]",t}}));0===a.length&&(a=n),L(a),setTimeout((function(){H||(_(a[0]),$&&Z(!1),Me())}))}}),[P,h]),(0,c.useEffect)(rt(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Me();case 1:case"end":return e.stop()}}),e)}))),[H]),(0,c.useEffect)((function(){return function(){if(Y.current){var e="dockerResulNetworkConnectContainer_"+p.current;Y.current.removeListener(e)}}}),[]);var Oe,Le=function(){l.current&&l.current.clear()},Me=function(){var e,t,n,r,a,s,o,i,c=st({},me);if((null===(e=U.current)||void 0===e||null===(t=e.details)||void 0===t||null===(n=t.IPAM)||void 0===n?void 0:n.Config)&&(null===(r=U.current)||void 0===r||null===(a=r.details)||void 0===a||null===(s=a.IPAM)||void 0===s?void 0:s.Config.length)>0?c.gateway=U.current.details.IPAM.Config[0].Gateway:c.gateway="",(null===(o=U.current)||void 0===o||null===(i=o.containers)||void 0===i?void 0:i.length)>0){var l=U.current.containers.map((function(e){return{name:e.name,networkId:U.current.networkId,id:e.id,containerId:e.containerId}}));N(l)}pe(c)};Oe=ue.current?Re.Ry({ipAddress:Re.Z_(),networkId:Re.Z_(),endpointID:Re.Z_(),gateway:Re.Z_(),macAddress:Re.Z_()}).optional():Re.Ry({}).optional();var Ee=(0,Se.cI)({resolver:(0,Ce.X)(Oe)}),Ae=Ee.register,Fe=Ee.handleSubmit,He=Ee.setValue,_e=Ee.formState.errors;return $?(0,s.jsx)(o.$,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"m-0 p-0 col-12",children:(0,s.jsx)("div",{className:"p-0 pt-0 mt-0",children:(0,s.jsxs)("form",{onSubmit:Fe((function(e){ne(!0);var t={Container:x.current.containerId,EndpointConfig:{IPAMConfig:{}}};if(ue.current){var n,r;if(t.EndpointConfig.IPAMConfig.Links=[],t.EndpointConfig.IPAMConfig.Aliases=[],t.EndpointConfig.IPAMConfig.NetworkID=e.networkId,t.EndpointConfig.IPAMConfig.EndpointID=e.endpointID,t.EndpointConfig.IPAMConfig.Gateway=e.gateway,t.EndpointConfig.IPAMConfig.IPv4Address=e.ipAddress,t.EndpointConfig.IPAMConfig.IPAddress=e.ipAddress,t.EndpointConfig.IPAMConfig.MacAddress=e.macAddress,(null===(n=e.Aliases)||void 0===n?void 0:n.length)>0){var a=[];e.Aliases.forEach((function(e,t){t+1>be||e&&""!==e&&a.push(e)})),t.EndpointConfig.IPAMConfig.Aliases=a}if((null===(r=e.Links)||void 0===r?void 0:r.length)>0){var s=[];e.Links.forEach((function(e,n){n+1>ke||e&&""!==e.value&&s.push(t.EndpointConfig.IPAMConfig.Aliases[n]+":"+e.value)})),t.EndpointConfig.IPAMConfig.Links=s}}i(t,U.current.networkId)})),children:[(0,s.jsx)("div",{className:"p-fluid p-formgrid p-grid mt-0 pt-0 ml-auto mr-auto jc-center",children:(0,s.jsx)("div",{className:"form-group",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon",children:"Join Network:"}),(0,s.jsx)(T.L,st({name:"network",id:"network",options:O,disabled:te,optionValue:"id",optionLabel:"name",filter:!0,showClear:!0,filterBy:"name",value:null===U||void 0===U||null===(t=U.current)||void 0===t?void 0:t.id,placeholder:"Select a Network to Connect"},Ae("network"),{onChange:function(e){!function(e){if(A.current){var t=A.current.filter((function(t){return t.id===e}));_(t[0]),setTimeout((function(){Me()}))}}(e.value),He("network",e.value)},className:"pt-2 pb-2 form-control f-height-inputs ".concat(_e.network?"p-invalid":"")}),"network1"),(0,s.jsx)("div",{className:"invalid-feedback",children:null===(n=_e.network)||void 0===n?void 0:n.message}),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,s.jsx)(M.z,{className:"p-button p-button-secondary mt-0",icon:"fa fa-faw fa-eye",onClick:function(e){e.preventDefault(),se(!ae)}})}),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,s.jsx)(M.z,{disabled:te,className:"p-button p-button-primary p-2 height-100",type:"button",icon:ue.current?"fa fa-minus":"fa fa-edit ",label:"Advanced",onClick:function(){return le(!ue.current)}})}),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,s.jsx)(M.z,{disabled:te,className:"p-button p-button-primary p-2 height-100",type:"submit",label:"Join"})})]})})}),ue.current&&(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("h6",{children:"Optional Settings"}),(0,s.jsx)("div",{className:"col-12 text-right p-0 pr-2 mb-3",children:(0,s.jsxs)(M.z,{onClick:function(e){e.preventDefault(),xe(!ve)},children:[(0,s.jsx)(K.G,{className:"mr-2 text-xl",icon:J.Fuz}),"Help"]})}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"IPv4 Address:"}),(0,s.jsx)(Pe.o,st({id:"ip4Gateway",name:"ipAddress",type:"text",disabled:te,placeholder:"IPv4 Address"},Ae("ipAddress",{value:null}),{className:" ".concat(_e.ipAddress?"p-invalid":"p-1")}))]})}),ve&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"IPv4 Address"}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"IPv4 Gateway:"}),(0,s.jsx)(Pe.o,st({id:"gateway",name:"gateway",type:"text",disabled:te,placeholder:"IPv4 Gateway",value:fe.current.gateway},Ae("gateway",{value:fe.current.gateway}),{onChange:function(e){var t=st({},fe.current);t.gateway=e.value,pe(t)},className:" ".concat(_e.gateway?"p-invalid":"p-1")}))]})}),ve&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"Gateway address for this network."}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"MAC Address:"}),(0,s.jsx)(Pe.o,st({id:"macAddress",name:"macAddress",type:"text",disabled:te,placeholder:"Mac Address"},Ae("macAddress",{value:null}),{className:" ".concat(_e.macAddress?"p-invalid":"p-1")}))]})}),ve&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"MAC address for the endpoint on this network."}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Network ID:"}),(0,s.jsx)(Pe.o,st({id:"networkId",name:"networkId",type:"text",disabled:te,placeholder:"Network ID"},Ae("networkId",{value:null}),{className:" ".concat(_e.networkId?"p-invalid":"p-1")}))]})}),ve&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"Unique ID of the network."}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Endpoint ID:"}),(0,s.jsx)(Pe.o,st({id:"endpointID",name:"endpointID",type:"text",disabled:te,placeholder:"Endpoint ID"},Ae("endpointID",{value:null}),{className:" ".concat(_e.endpointID?"p-invalid":"p-1")}))]})}),ve&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"Unique ID for the service endpoint in a Sandbox."})]})})}),ce&&(0,s.jsx)("div",{children:(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"grid col-12 jusitify-center",children:[(0,s.jsx)("div",{className:"col-10 ml-0 m-auto grid",children:ot(Array(ke)).map((function(e,t){var n;return(0,s.jsx)("div",{className:"col-12 p-shadow-3 grid",children:(0,s.jsx)("div",{className:"col-12 field",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Link:"}),(0,s.jsx)(T.L,st({options:w,optionLabel:"name",optionValue:"name"},Ae("Links."+t+".value"),{value:null===(n=C.current[t])||void 0===n?void 0:n.value,onChange:function(e){var n=st({},C.current);n||(n={}),n[t]={value:e.value},S(n),He("Links."+t+".value",e.value)},className:"form-control f-height-inputs pt-2 pb-2"}),"mount2234s_ct_types"+t)]})},"linksVar234s_ct_value34"+t)},"linkss432Vars_ct_value_x"+t)}))}),(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("span",{className:"p-input-group-addon",children:[(0,s.jsx)(M.z,{className:"p-button p-button-secondary mt-2",icon:"fa fa-faw fa-plus",onClick:function(e){e.preventDefault(),ye(ke+1)}}),ke>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsx)(M.z,{className:"p-button p-button-secondary mt-2",icon:"fa fa-faw fa-minus",onClick:function(e){ye(ke-1),e.preventDefault()}})]})]})})]})})}),ce&&(0,s.jsx)("div",{children:(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"grid col-12 jusitify-center",children:[(0,s.jsx)("div",{className:"col-10 ml-0 m-auto grid",children:ot(Array(be)).map((function(e,t){return(0,s.jsx)("div",{className:"col-12 p-shadow-3 grid",children:(0,s.jsx)("div",{className:"col-12 field",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Alias:"}),(0,s.jsx)(Pe.o,st({},Ae("Aliases."+t,{value:null,shouldUnregister:!0}),{className:"form-control f-height-inputs"}),"labels_ct1"+t)]})},"labelsVars_ct_value34"+t)},"labelsVars_ct_value_x"+t)}))}),(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("span",{className:"p-input-group-addon",children:[(0,s.jsx)(M.z,{className:"p-button p-button-secondary mt-2",icon:"fa fa-faw fa-plus",onClick:function(e){e.preventDefault(),we(be+1)}}),be>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsx)(M.z,{className:"p-button p-button-secondary mt-2",icon:"fa fa-faw fa-minus",onClick:function(e){we(be-1),e.preventDefault()}})]})]})})]})})}),(0,s.jsx)(Ie.V,{ref:l})]})})})})}function ct(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function lt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){ct(s,r,a,o,i,"next",e)}function i(e){ct(s,r,a,o,i,"throw",e)}o(void 0)}))}}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ut(e,t,n[t])}))}return e}function mt(e){var t,n,r=function(e,t){var n;(null===L||void 0===L?void 0:L.current)&&L.current.emit("docker",{command:"disconnectContainerNetwork",containerId:x.current.containerId,hostId:null===(n=x.current.host)||void 0===n?void 0:n.id,networkId:t,data:e,errorHandler:"dockerResulNetworkDisconnectContainer_"+x.current.id,callback:"dockerResulNetworkDisconnectContainer_"+x.current.id,hook:"disconnectContainerNetwork"})},i=function(){if(null===x||void 0===x?void 0:x.current){var e,t={command:"inspect",containerId:x.current.containerId,hostId:null===(e=x.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+x.current.id,hook:"inspectContainer"};L.current.emit("docker",t)}},l=(0,c.useRef)(null),u=(0,c.useState)(null),d=u[0],m=u[1],p=(0,c.useRef)(d);p.current=d;var f=(0,c.useState)(null),h=f[0],v=f[1],x=(0,c.useRef)(h);x.current=h;var g=(0,j.v9)((function(e){return e.networks})),b=(0,j.v9)((function(e){return e.hosts.activeHost}));(0,c.useRef)(b).current=b;var w=(0,c.useState)(null),N=w[0],k=w[1],y=(0,c.useRef)(N);y.current=N;var S=(0,c.useState)(null),C=S[0],R=S[1],P=(0,c.useRef)(C);P.current=C;var I=(0,c.useState)(null),D=I[0],O=I[1],L=(0,c.useRef)(D);L.current=D;var A=(0,c.useState)(!1),F=A[0],H=A[1],_=(0,c.useState)(null)[0];(0,c.useRef)(_).current=_;var U=(0,c.useState)(!0),z=U[0],V=U[1];(0,c.useRef)(z).current=z;var G=(0,c.useState)(!1),Y=G[0],B=G[1],W=(0,c.useState)(!1),q=W[0],X=W[1],Q=(0,c.useState)(null)[0];(0,c.useRef)(Q).current=Q;var $=Re.Ry({}).required(),Z=(0,Se.cI)({resolver:(0,Ce.X)($)}),K=Z.register,J=Z.handleSubmit,ee=Z.setValue,te=Z.formState.errors;function ne(){return re.apply(this,arguments)}function re(){return(re=lt(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=2;break}return e.abrupt("return");case 2:return H(!0),t="dockerResulNetworkDisconnectContainer_"+p.current,e.next=6,E.L.getSocket();case 6:return(n=e.sent).on(t,(function(e){setTimeout((function(){B(!1)}),500),"fail"===e.status&&((0,je.V)({className:"confirm-dialogs",message:e.error,header:"Docker Error",icon:"pi pi-exclamation-check",acceptLabel:"Ok",rejectLabel:"",rejectClassName:"confirm-button-hidden",acceptClassName:"p-button-danger",accept:function(){}}),V(!1)),i()})),O(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)(lt(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ae(),(null===(n=e.container)||void 0===n?void 0:n.id)&&(m(e.container.id),v(e.container),F||setTimeout((function(){ne()}),500)),V(!1);case 4:case"end":return t.stop()}}),t)}))),[e.container]),(0,c.useEffect)((function(){var e,t=dt({},g);if(b&&g&&h){t=g[x.current.host.id].networks;var n=Object.keys(t).map((function(e){return t[e]}));n.sort((function(e,t){return e.name||(e.name="Unknown"),e.name.localeCompare(t.name)}));var r=null===(e=x.current)||void 0===e?void 0:e.networks.map((function(e){return e.id})),a=n.filter((function(e){if(r.includes(e.id)){var t=dt({},e);return t.name=e.name+" ["+e.networkId.substring(0,12)+"]",t}}));k(a),setTimeout((function(){C||(R(a[0]),z&&V(!1))}))}}),[g,h]),(0,c.useEffect)((function(){return function(){if(L.current){var e="dockerResulNetworkDisconnectContainer_"+p.current;L.current.removeListener(e)}}}),[]);var ae=function(){l.current&&l.current.clear()};return z?(0,s.jsx)(o.$,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"m-0 p-0 col-12",children:(0,s.jsx)("div",{className:"p-0 pt-0 mt-0",children:(0,s.jsxs)("form",{onSubmit:J((function(){B(!0);var e={Container:x.current.containerId,Force:!0};r(e,P.current.networkId)})),children:[(0,s.jsx)("div",{className:"p-fluid p-formgrid p-grid mt-0 pt-0 ml-auto mr-auto jc-center",children:(0,s.jsx)("div",{className:"form-group",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon",children:"Leave Network:"}),(0,s.jsx)(T.L,dt({name:"network",id:"network",options:N,disabled:Y,optionValue:"id",optionLabel:"name",filter:!0,showClear:!0,filterBy:"name",value:null===P||void 0===P||null===(t=P.current)||void 0===t?void 0:t.id,placeholder:"Select a Network to Leave"},K("network"),{onChange:function(e){!function(e){if(y.current){var t=y.current.filter((function(t){return t.id===e}));R(t[0])}}(e.value),ee("network",e.value)},className:"pt-2 pb-2 form-control f-height-inputs ".concat(te.network?"p-invalid":"")}),"network1"),(0,s.jsx)("div",{className:"invalid-feedback",children:null===(n=te.network)||void 0===n?void 0:n.message}),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,s.jsx)(M.z,{className:"p-button p-button-secondary mt-0",icon:"fa fa-faw fa-eye",onClick:function(e){e.preventDefault(),X(!q)}})}),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,s.jsx)(M.z,{disabled:Y,className:"p-button p-button-primary p-2 height-100",type:"submit",label:"Disconnect"})})]})})}),(0,s.jsx)(Ie.V,{ref:l})]})})})})}var pt=n(42896),ft=n(58650);function ht(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function vt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){ht(s,r,a,o,i,"next",e)}function i(e){ht(s,r,a,o,i,"throw",e)}o(void 0)}))}}function xt(e){var t=function(){var e;(null===j||void 0===j?void 0:j.current)&&j.current.emit("docker",{command:"containerProcesses",containerId:h.current.containerId,saveProcesses:!0,cid:h.current.id,hostId:null===(e=h.current.host)||void 0===e?void 0:e.id,callback:"dockerResultProcessesContainer_"+h.current.id,hook:"containerProcesses",errorHandler:"dockerResultProcessesContainer_"+h.current.id})},n=function(e){var t=e.data;K(L()(e.date).format("YYYY-MM-DD HH:mm:ss"));var n=t.Processes.map((function(e){var n={};return t.Titles.forEach((function(t,r){n[t]=e[r]})),n}));(null===n||void 0===n?void 0:n.length)>0?U(n):U(null),A(!1)},r=function(){Y.current&&clearInterval(Y.current),q(!1)},o=function(){r();var e=setInterval((function(){t()}),2e3);q(!0),G(e)},i=(0,c.useState)(null),l=i[0],u=i[1],d=(0,c.useRef)(l);d.current=l;var m=(0,c.useState)(null),p=m[0],f=m[1],h=(0,c.useRef)(p);h.current=p;var v=(0,c.useState)(null),x=v[0],g=v[1],j=(0,c.useRef)(x);j.current=x;var b=(0,c.useState)(!1),w=b[0],N=b[1],k=(0,c.useState)(null),y=k[0],S=k[1];(0,c.useRef)(y).current=y;var C=(0,c.useState)(null)[0];(0,c.useRef)(C).current=C;var R=(0,c.useState)(null),P=R[0],D=R[1];(0,c.useRef)(P).current=P;var T=(0,c.useState)(!0),O=T[0],A=T[1];(0,c.useRef)(O).current=O;var F=(0,c.useState)("list")[0],H=(0,c.useState)(null),_=H[0],U=H[1];(0,c.useRef)(_).current=_;var z=(0,c.useState)(null),V=z[0],G=z[1],Y=(0,c.useRef)(V);Y.current=V;var B=(0,c.useState)(!1),W=B[0],q=B[1],X=(0,c.useRef)(W);X.current=W;var Q=(0,c.useState)(null),$=Q[0],K=Q[1];function J(){return ee.apply(this,arguments)}function ee(){return(ee=vt(a().mark((function e(){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:return N(!0),r="dockerResultProcessesContainer_"+d.current,e.next=6,E.L.getSocket();case 6:return(s=e.sent).on(r,(function(e){"success"===e.status?e.data&&n(e.data):S(e.error)})),e.next=10,g(s);case 10:return setTimeout((function(){t()}),200),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if((0,c.useEffect)(vt(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===(r=e.container)||void 0===r?void 0:r.id)){t.next=10;break}if(e.container.id===l){t.next=10;break}return t.next=5,u(e.container.id);case 5:return t.next=7,f(e.container);case 7:if(!e.container.processes){t.next=10;break}return t.next=10,n(e.container.processes);case 10:if(w){t.next=13;break}return t.next=13,J();case 13:case"end":return t.stop()}}),t)}))),[e.container.processes]),(0,c.useEffect)((function(){return function(){if(j.current){var e="dockerResultProcessesContainer_"+d.current;j.current.removeListener(e),r()}}}),[]),!p)return(0,s.jsx)("div",{className:"col-12 text-center",children:"No Container"});if(!p)return(0,s.jsx)("div",{className:"col-12 text-center"});if(!p.running)return(0,s.jsx)("div",{className:"col-12 text-center",children:"Container is not running."});if(!_)return(0,s.jsx)("div",{className:"col-12 text-center",children:"No Processes"});var te=""+_.length;return te+=_.length>1?" Processes":" Process",(0,s.jsx)(s.Fragment,{children:_.length>0&&(0,s.jsx)(I.s,{header:te,className:"col-12",collapsed:!1,toggleable:!1,children:(0,s.jsxs)("div",{className:"col-12 m-0 p-0",children:[(0,s.jsxs)("div",{className:"col-12 grid",children:[(0,s.jsx)("div",{className:"col-9",children:$}),(0,s.jsx)("div",{className:"col-3 grid text-right",children:(0,s.jsxs)("div",{className:"p-inputgroup",style:{justifyContent:"right"},children:[W&&(0,s.jsx)("div",{className:"p-inputgroup-addon ml-4",children:(0,s.jsx)(ue.G,{style:{width:"20px",height:"20px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"1.1s"})}),(0,s.jsxs)(M.z,{tooltip:"Monitors processes every 2 seconds",onClick:function(){X.current?r():o()},className:"mr-2",children:[(0,s.jsx)(Z.H,{}),W&&(0,s.jsx)("span",{children:"Stop"}),!W&&(0,s.jsx)("span",{children:"Monitor"})]}),(0,s.jsx)(M.z,{tooltip:"Performs a snapshot of the current processes",onClick:function(){return t()},label:"Update"})]})})]}),(0,s.jsxs)(pt.w,{scrollable:_.length>10,scrollHeight:_.length>10?"400px":"200px",virtualScrollerOptions:{itemSize:_.length>10?20:_.length+5},selectionMode:"multiple",selection:P,onSelectionChange:function(e){return D(e.value)},dataKey:"PID",value:_,layout:F,paginator:!1,stripedRows:!0,rowHover:!0,rows:1e4,sortField:"%CPU",sortOrder:-1,responsiveLayout:"scroll",children:[(0,s.jsx)(ft.s,{sortable:!0,field:"PID",header:"PID",align:"right"}),(0,s.jsx)(ft.s,{sortable:!0,field:"%CPU",header:"CPU",align:"center"}),(0,s.jsx)(ft.s,{sortable:!0,field:"%MEM",header:"MEM"}),(0,s.jsx)(ft.s,{sortable:!0,field:"COMMAND",header:"COMMAND",align:"left",filter:!0,filterPlaceholder:"Search by Process Name"}),(0,s.jsx)(ft.s,{sortable:!0,field:"TIME",header:"TIME",align:"center"}),(0,s.jsx)(ft.s,{sortable:!0,field:"TTY",header:"TTY",align:"center"}),(0,s.jsx)(ft.s,{sortable:!0,field:"USER",header:"USER",align:"center"})]})]})})})}function gt(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function jt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){gt(s,r,a,o,i,"next",e)}function i(e){gt(s,r,a,o,i,"throw",e)}o(void 0)}))}}function bt(e){var t=function(){var e;(null===g||void 0===g?void 0:g.current)&&g.current.emit("docker",{command:"containerFiles",containerId:f.current.containerId,saveFiles:!0,cid:f.current.id,hostId:null===(e=f.current.host)||void 0===e?void 0:e.id,callback:"dockerResultFilesContainer_"+f.current.id,hook:"containerFiles",errorHandler:"dockerResultFilesContainer_"+f.current.id})},n=function(e){O(!0);var t=e.data;V(L()(e.date).format("YYYY-MM-DD HH:mm:ss")),console.log("File Data",e),(null===t||void 0===t?void 0:t.length)>0?_(t):_(null),O(!1)},r=(0,c.useState)(null),i=r[0],l=r[1],u=(0,c.useRef)(i);u.current=i;var d=(0,c.useState)(null),m=d[0],p=d[1],f=(0,c.useRef)(m);f.current=m;var h=(0,c.useState)(null),v=h[0],x=h[1],g=(0,c.useRef)(v);g.current=v;var j=(0,c.useState)(!1),b=j[0],w=j[1],N=(0,c.useState)(null),k=N[0],y=N[1];(0,c.useRef)(k).current=k;var S=(0,c.useState)(null)[0];(0,c.useRef)(S).current=S;var C=(0,c.useState)(null),R=C[0],P=C[1];(0,c.useRef)(R).current=R;var D=(0,c.useState)(!0),T=D[0],O=D[1];(0,c.useRef)(T).current=T;var A=(0,c.useState)("list")[0],F=(0,c.useState)(null),H=F[0],_=F[1];(0,c.useRef)(H).current=H;var U=(0,c.useState)(null),z=U[0],V=U[1];function G(){return Y.apply(this,arguments)}function Y(){return(Y=jt(a().mark((function e(){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=2;break}return e.abrupt("return");case 2:return w(!0),r="dockerResultFilesContainer_"+u.current,e.next=6,E.L.getSocket();case 6:return(s=e.sent).on(r,(function(e){console.debug("Results",e),"success"===e.status?e.data&&n(e.data):(y(e.error),O(!1))})),e.next=10,x(s);case 10:return setTimeout((function(){t()}),200),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if((0,c.useEffect)(jt(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===(r=e.container)||void 0===r?void 0:r.id)){t.next=10;break}if(e.container.id===i){t.next=10;break}return t.next=5,l(e.container.id);case 5:return t.next=7,p(e.container);case 7:if(!e.container.files){t.next=10;break}return t.next=10,n(e.container.changedFiles);case 10:if(b){t.next=13;break}return t.next=13,G();case 13:case"end":return t.stop()}}),t)}))),[e.container.changedFiles]),(0,c.useEffect)((function(){return function(){if(g.current){var e="dockerResultFilesContainer_"+u.current;g.current.removeListener(e)}}}),[]),!m)return(0,s.jsx)("div",{});if(T)return(0,s.jsxs)("div",{className:"filesIsLoading col-12 text-center",children:[(0,s.jsx)("div",{className:"mb-5 col-12 text-center",children:"Files Loading"})," ",(0,s.jsx)(o.$,{className:"mt-3"})]});if(!H)return(0,s.jsx)("div",{children:"No Files"});var B=""+H.length;return B+=H.length>1?" Changed Files":" Changed File",(0,s.jsx)(s.Fragment,{children:H.length>0&&(0,s.jsx)(I.s,{header:B,className:"col-12",collapsed:!1,toggleable:!1,children:(0,s.jsxs)("div",{className:"col-12 m-0 p-0",children:[(0,s.jsxs)("div",{className:"col-12 grid",children:[(0,s.jsx)("div",{className:"col-9",children:z}),(0,s.jsx)("div",{className:"col-3 grid text-right",children:(0,s.jsx)("div",{className:"p-inputgroup",style:{justifyContent:"right"},children:(0,s.jsx)(M.z,{tooltip:"Performs a snapshot of the current files",onClick:function(){return t()},label:"Update"})})})]}),(0,s.jsxs)(pt.w,{scrollable:H.length>10,scrollHeight:H.length>10?"400px":"200px",virtualScrollerOptions:{itemSize:H.length>10?20:H.length+5},selectionMode:"multiple",selection:R,onSelectionChange:function(e){return P(e.value)},dataKey:"Path",value:H,layout:A,paginator:!1,stripedRows:!0,rowHover:!0,rows:25,sortField:"Path",sortOrder:1,responsiveLayout:"scroll",children:[(0,s.jsx)(ft.s,{sortable:!0,field:"Path",header:"Path",align:"left"}),(0,s.jsx)(ft.s,{sortable:!0,field:"Kind",header:"Kind",align:"right"})]})]})})})}var wt=n(7805);function Nt(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function kt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){Nt(s,r,a,o,i,"next",e)}function i(e){Nt(s,r,a,o,i,"throw",e)}o(void 0)}))}}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){yt(e,t,n[t])}))}return e}function Ct(){var e,t,n,r=function(){var e;Pe.current.emit("openTerminal",{command:"openTerminal",containerId:W.current.containerId,hostId:null===(e=W.current.host)||void 0===e?void 0:e.id,callback:"dockerResulsTerminal_"+W.current.id,hook:"openTerminal"})},l=function(){var e;be.current.emit("docker",{command:"containerExec",containerId:W.current.containerId,hostId:null===(e=W.current.host)||void 0===e?void 0:e.id,callback:"dockerResulsExec_"+W.current.id,hook:"containerExec"})},u=function(){var e;be.current.emit("docker",{command:"stop",containerId:W.current.containerId,hostId:null===(e=W.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+W.current.id,hook:"stopContainer"})},d=function(){var e;be.current.emit("docker",{command:"start",containerId:W.current.containerId,hostId:null===(e=W.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+W.current.id,hook:"startContainer"})},m=function(){var e;be.current.emit("docker",{command:"pause",containerId:W.current.containerId,hostId:null===(e=W.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+W.current.id,hook:"pauseContainer"})},p=function(){var e;be.current.emit("docker",{command:"unpause",containerId:W.current.containerId,hostId:null===(e=W.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+W.current.id,hook:"resumeContainer"})},f=function(){if(Be("showDetails",!0),null===W||void 0===W?void 0:W.current){var e,t={command:"inspect",containerId:W.current.containerId,hostId:null===(e=W.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+W.current.id,hook:"inspectContainer"};be.current.emit("docker",t)}},h=function(){var e;be.current.emit("docker",{command:"kill",containerId:W.current.containerId,hostId:null===(e=W.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+W.current.id,hook:"killContainer"})},v=function(){var e;be.current.emit("docker",{command:"remove",containerId:W.current.containerId,hostId:null===(e=W.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+W.current.id,hook:"removeContainer"})},x=function(){Be("showLogs",!(null===T||void 0===T?void 0:T.showLogs))},g=function(){var e;Pe.current.emit("tailLogs",{command:"tailLogs",containerId:W.current.containerId,hostId:null===(e=W.current.host)||void 0===e?void 0:e.id,callback:"dockerResulsTerminalLogs_"+W.current.id,hook:"tailLogs"})},b=(0,i.useRouter)(),w=(0,j.v9)((function(e){return e.containers})),N=(0,j.v9)((function(e){return e.site})),k=(0,j.I0)(),y=(0,c.useState)(!0),S=y[0],C=y[1],R=(0,c.useRef)(S);R.current=S;var P={showSummary:!0,showStats:!1,showPorts:!0,showProcesses:!0,showVolumes:!1,showMounts:!1,showNetworks:!1,showNetworkConnect:!1,showFiles:!1,showProfiler:!0,showEditName:!1,showEditResources:!1},D=(0,c.useState)(P),T=D[0],O=D[1],L=(0,c.useRef)(T);L.current=T;var M=(0,c.useState)(null),A=M[0],F=M[1],U=(0,c.useRef)(A);U.current=A;var G=(0,c.useState)(null),Y=G[0],B=G[1],W=(0,c.useRef)(Y);W.current=Y;var q=(0,c.useRef)(null),X=(0,c.useRef)(null),$=(0,c.useRef)(null),K=(0,c.useRef)(null),J=(0,c.useRef)(null),ne=(0,c.useRef)(null),re=(0,c.useRef)(null),ae=(0,c.useRef)(null),oe=(0,c.useRef)(null),ce=(0,c.useRef)(null),le=(0,c.useRef)(null),ue=(0,c.useRef)(null),de=(0,c.useRef)(null),me=(0,c.useRef)(null),pe=(0,c.useState)(null),fe=pe[0],he=pe[1],ve=(0,c.useState)(null),xe=ve[0],ge=ve[1],be=(0,c.useRef)(xe);be.current=xe;var we=(0,c.useState)(!1),Ne=we[0],ke=we[1],Se=(0,c.useState)(null),Ce=Se[0],Re=Se[1],Pe=(0,c.useRef)(Ce);Pe.current=Ce;var Ie=(0,c.useState)(!1),De=Ie[0],Te=Ie[1],Oe=function(e){var t=(0,c.useRef)();return(0,c.useEffect)((function(){t.current=e})),t.current}(Y);function Le(){return Me.apply(this,arguments)}function Me(){return(Me=kt(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ne){e.next=2;break}return e.abrupt("return");case 2:return ke(!0),t="dockerResuls_"+U.current,e.next=6,E.L.getSocket();case 6:return(n=e.sent).on(t,(function(e){if("success"===e.status&&e.data)if("removeContainer"===e.hook)B(null),k((0,et.el)({data:0}));else e.data.id&&(B(e.data),k((0,et.el)({data:e.data.id})),Ve(e.data))})),ge(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(){return He.apply(this,arguments)}function He(){return(He=kt(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!De){e.next=2;break}return e.abrupt("return");case 2:return Te(!0),t="dockerLauncher_"+U.current,console.log("---\x3e container launcher socket loading "+t),e.next=7,E.L.getLauncherSocket();case 7:return(n=e.sent).on(t,(function(e){"success"===e.status&&e.data&&(e.hook,e.data&&console.log("results.data",e.data))})),Re(n),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(){return(_e=kt(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.query.id&&w&&Object.keys(w).forEach((function(e){var t=w[e];if(!z().isEqual(Oe,t.containers[b.query.id])&&b.query.id in t.containers){var n=t.containers[b.query.id];B(n),k((0,et.el)({data:n.id})),R.current&&C(!0),Ve(n),R.current&&C(!1)}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){Ue(),b.query.id&&(F(b.query.id),Ne||setTimeout(kt(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:case"end":return e.stop()}}),e)}))),500),De||setTimeout(kt(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe();case 2:case"end":return e.stop()}}),e)}))),500))}),[]),(0,c.useEffect)((function(){!function(){_e.apply(this,arguments)}()}),[w,b.query.id]),(0,c.useEffect)((function(){return function(){if(be.current){k((0,et.el)({data:0}));var e="dockerResuls_"+U.current;be.current.removeListener(e)}if(Pe.current){var t="dockerLauncher_"+U.current;Pe.current.removeListener(t)}}}),[]);var Ue=function(){var e=kt(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===N||void 0===N||null===(t=N.userSettings)||void 0===t?void 0:t.containerViews)){e.next=10;break}if(!(n=N.userSettings.containerViews.filter((function(e){if(!0===e.default)return e})))){e.next=9;break}return r=St({},n[0].settings),e.next=7,O(r);case 7:e.next=10;break;case 9:O(P);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ve(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=kt(a().mark((function e(t){var n,s,o,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=[],i="",o=(null===t||void 0===t?void 0:t.current)?t.current:t,t){e.next=7;break}return e.abrupt("return");case 7:s.push({label:"Edit",icon:"fa fa-fw fa-edit",items:[{label:"Rename",icon:"fa fa-fw fa-file-signature",tooltip:"Rename Container.",className:i,command:function(){Ke()}},{label:"Resources",tooltip:"Edit Resources",icon:"fa fa-fw fa-memory",command:function(){st()}}]}),s.push({label:"Networks",className:i,icon:"fa fa-fw fa-network-wired",command:function(){nt(),at()}}),s.push({label:"Files",icon:"fa fa-fw fa-file-contract",className:i,items:[{label:"Changed Files",tooltip:"View Changed Files. Warning - This may take a long time for containers with large numbers of changes",icon:"fa fa-fw fa-file-contract",className:i,command:function(){Qe()}},{label:"Volumes & Mounts",icon:"fa fa-fw fa-file-contract",className:i,command:function(){$e()}}]}),s.push({label:"Logs",icon:"fa fa-fw fa-file-alt",items:[{label:"Terminal Logs",icon:"fa fa-fw fa-file",tooltip:"Open stdout and stderr logs in a terminal window.",command:function(){g()}},{label:"Web Logs",tooltip:"View logs in the browser via stream.",icon:"fa fa-fw fa-file",className:i,command:function(){x()}},{label:"Activity Logs",tooltip:"View logs received by Dockermon.",icon:"fa fa-fw fa-file",className:i,command:function(){ct()}}]}),s.push({label:"Stats",icon:"fa fa-fw fa-chart-line",className:i,items:[{label:"Database Stats",tooltip:"View stats collected by the backend cronjobs",icon:"fa fa-fw fa-chart-line",className:i,command:function(){Xe()}},{label:"Profiler",tooltip:"Turn on Live Profiling and capture 1 second snapshots of the container's performance metrics",icon:"fa fa-fw fa-chart-bar",className:i,command:function(){tt()}}]}),o.running&&s.push({label:"Exec",icon:"fa fa-fw fa-terminal",className:i,command:function(){ot()}}),s.push({label:"Processes",icon:"fa fa-fw fa-list",className:i,command:function(){qe()}}),s.push({label:"Inspect",icon:"fa fa-fw fa-eye",className:i,command:function(){f(),Ze()}}),o.running&&s.push({label:"Terminal",icon:"fa fa-fw fa-tv",className:"p-button-raised p-button p-button-info p-0",command:function(){r()}}),(null===L||void 0===L||null===(n=L.current)||void 0===n?void 0:n.showSummary)||s.push({label:"Summary",icon:"fa fa-fw fa-eye",className:i,command:function(){We()}}),c={label:"Control",icon:"fa fa-fw fa-power-off",items:[]},o.running?(o.paused?c.items.push({label:"Resume",icon:"fa fa-fw fa-play",key:"foo",className:"p-button-raised p-button p-button-warning p-0",command:function(e){lt("resumeContainer","Resume Container?",e)}}):c.items.push({label:"Pause",icon:"fa fa-fw fa-pause",command:function(e){lt("pauseContainer","Pause Container?",e)}}),c.items.push({label:"Stop",icon:"fa fa-fw fa-stop",command:function(e){lt("stopContainer","Stop Container?",e)}}),c.items.push({label:"Restart",icon:"fa fa-fw fa-redo",command:function(e){lt("restartContainer","Restart Container?",e)}}),c.items.push({label:"Kill",icon:"fa fa-fw fa-skull",command:function(e){lt("killContainer","Kill Container?",e)}})):(c.items.push({label:"Start",icon:"fa fa-solid fa-play",command:function(e){lt("startContainer","Start Container?",e)}}),c.items.push({label:"Remove",icon:"fa fa-fw fa-power-off",command:function(e){lt("removeContainer","Remove Container?",e)}})),s.push(c),he(s);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Be=function(){var e=kt(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=St({},L.current))[t]=n,e.next=4,O(r);case 4:return setTimeout((function(){Ve(W.current)}),300),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),We=function(){rt(q),Be("showSummary",!0),setTimeout((function(){Ve(W.current)}))},qe=function(){rt(ne),Be("showProcesses",!0),setTimeout((function(){Ve(W.current)}))},Xe=function(){rt(ce),Be("showStats",!0),setTimeout((function(){Ve(W.current)}))},Qe=function(){rt(re),Be("showFiles",!0),setTimeout((function(){Ve(W.current)}))},$e=function(){rt($),Be("showVolumes",!0),setTimeout((function(){Ve(W.current)}))},Ze=function(){rt(me),Be("showDetails",!0),setTimeout((function(){Ve(W.current)}))},Ke=function(){rt(le),Be("showEditName",!0),setTimeout((function(){Ve(W.current)}))},tt=function(){Be("showProfiler",!0),setTimeout((function(){Ve("containerRef".current)}))},nt=function(){rt(X),Be("showNetworks",!0),setTimeout((function(){Be("showNetworkConnect",!0)}),400),setTimeout((function(){Ve(W.current)}))},rt=function(e){if(e.current){var t=document.getElementById(e.current.id).getBoundingClientRect().top+window.pageYOffset-45;window.scrollTo({top:t,behavior:"smooth"})}},at=function(){var e=kt(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rt(X),e.next=3,Be("showNetworks",!0);case 3:setTimeout((function(){Be("showNetworkConnect",!0)}),300),setTimeout((function(){Ve(W.current)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=function(){rt(ue),Be("showEditResources",!0),setTimeout((function(){Ve(W.current)}))},ot=function(){rt(de),Be("showExec",!0),setTimeout((function(){Ve(W.current)}))},ct=function(){rt(oe),Be("showActivityLogs",!0),setTimeout((function(){Ve(W.current)}))},lt=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,je.V)({className:"confirm-dialogs",message:t,target:(null===(n=a.originalEvent)||void 0===n?void 0:n.currentTarget)?a.originalEvent.currentTarget:null,header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){switch(e){default:break;case"pauseContainer":m();break;case"openTerminal":r();break;case"execContainer":l();break;case"resumeContainer":p();break;case"startContainer":d();break;case"stopContainer":u();break;case"restartContainer":ut();break;case"killContainer":h();break;case"removeContainer":v()}}})},ut=function(){var e;be.current.emit("docker",{command:"restart",containerId:W.current.containerId,hostId:null===(e=W.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+W.current.id,hook:"restartContainer"})},dt=function(e){var t=e.collapsed?"pi pi-chevron-down":"pi pi-chevron-up",n="".concat(e.className," justify-content-start"),r="".concat(e.titleClassName," pl-1");return(0,s.jsx)("div",{className:n,children:(0,s.jsxs)("div",{className:"col-12 grid",children:[(0,s.jsx)("div",{className:"col-10",children:(0,s.jsx)("span",{className:r,children:e.props.header})}),(0,s.jsxs)("div",{className:"col-2 text-right",children:[(0,s.jsxs)("button",{className:e.togglerClassName+" mr-4",onClick:e.onTogglerClick,tooltip:"Collapse this panel",children:[(0,s.jsx)("span",{className:t}),(0,s.jsx)(Z.H,{})]}),(0,s.jsxs)("button",{className:e.togglerClassName,onClick:function(){pt(e.props.closeAction)},tooltip:"Close this panel",children:[(0,s.jsx)("span",{className:"pi pi-times"}),(0,s.jsx)(Z.H,{})]})]})]})})},pt=function(e){switch(e){case"processes":Be("showProcesses",!1);break;case"files":Be("showFiles",!1);break;case"exec":Be("showExec",!1);break;case"name":case"rename":Be("showEditName",!1);break;case"details":Be("showDetails",!1);break;case"logs":Be("showLogs",!1);break;case"activityLogs":Be("showActivityLogs",!1);break;case"resources":Be("showEditResources",!1);break;case"networkConnect":Be("showNetworkConnect",!1);break;case"networks":Be("showNetworks",!1);break;case"profiler":Be("showProfiler",!1);break;case"stats":Be("showStats",!1);break;case"summary":Be("showSummary",!1);break;case"volumes":Be("showVolumes",!1);break;case"mounts":Be("showMounts",!1);break;case"ports":Be("showPorts",!1)}};if(S)return(0,s.jsx)(o.$,{});if(!b.query.id)return(0,s.jsx)("div",{children:"Loading..."});if(!Y)return(0,s.jsx)("div",{className:"text-center mt-5",children:"Container could not be found."});var ft=(null===Y||void 0===Y||null===(e=Y.details)||void 0===e?void 0:e.Config)?Y.details.Config.Image:"",ht=(null===(t=Y.image)||void 0===t?void 0:t.id)?null===(n=Y.image)||void 0===n?void 0:n.id:"index";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"col-12 p-0 ml-1 mr-1 grid",children:[(0,s.jsx)("div",{className:"col-12 mt-4 text-900 font-bold text-4xl line-height-1 mb-1 text-center",children:(0,s.jsxs)("div",{className:"col-12 text-center grid",children:[(0,s.jsxs)("div",{className:"ml-auto mr-auto col-0 text-left grid mb-0 pb-0",children:[(0,s.jsx)(Ae.Q,{className:"p-2 mr-2 mb-1 mr-3",status:Y.state}),(0,s.jsxs)("div",{className:"mt-0 p-0",children:[Y.project," / ",Y.name]})]}),(0,s.jsx)("div",{className:"col-12 mb-0",children:(0,s.jsx)("p",{className:"text-600 line-height-3 text-lg m-0 mb-0 text-center",children:(0,s.jsx)(ee.default,{href:"/images/[id]",as:"/images/".concat(ht),passHref:!0,children:(0,s.jsx)("a",{className:"lightblue-color",children:ft})})})}),(0,s.jsx)("div",{className:"col-12 mb-0",children:(0,s.jsxs)("p",{className:"text-600 line-height-3 text-lg m-0 mb-0 text-center",children:["Status: ",Y.status]})})]})}),(0,s.jsx)("div",{className:"col-12 p-0 m-0 mb-2 menubar-background",children:(0,s.jsx)(_.n,{className:"col-12 mb-2 ml-0 mr-0 justify-content-center menubar-menu",model:fe})}),(0,s.jsx)("div",{ref:le,id:"showEditNamePanel",className:"col-12 p-0 m-0",children:(null===T||void 0===T?void 0:T.showEditName)&&(0,s.jsx)(I.s,{className:"sitePanel",header:"Rename Container",hideHeader:!0,headerTemplate:dt,toggleable:!0,closeAction:"rename",children:(0,s.jsx)(ze,{container:Y,containerId:Y.id})})}),(0,s.jsx)("div",{ref:ue,id:"showEditResourcesPanel",className:"col-12 p-0 m-0",children:(null===T||void 0===T?void 0:T.showEditResources)&&(0,s.jsx)(I.s,{className:"sitePanel",header:"Update Container",hideHeader:!0,headerTemplate:dt,toggleable:!0,closeAction:"resources",children:(0,s.jsx)(Je,{container:Y,containerId:Y.id})})}),(0,s.jsx)("div",{ref:de,id:"showExecPanel",className:"col-12 p-0 m-0",children:(null===T||void 0===T?void 0:T.showExec)&&(0,s.jsx)(I.s,{className:"sitePanel",header:"Run a Command",hideHeader:!0,headerTemplate:dt,toggleable:!0,closeAction:"exec",children:(0,s.jsx)(Ee,{container:Y,containerId:Y.id})})}),(0,s.jsx)("div",{ref:oe,id:"showActivityLogsPanel",className:"col-12 p-0 m-0",children:(null===T||void 0===T?void 0:T.showActivityLogs)&&(0,s.jsx)(I.s,{className:"sitePanel",header:"Activity Logs",hideHeader:!0,headerTemplate:dt,toggleable:!0,closeAction:"activityLogs",children:(0,s.jsx)(wt.default,{contentId:Y.id,contentTypeLogs:"containers"})})}),(0,s.jsx)("div",{ref:ae,id:"showLogsPanel",className:"col-12 p-0 m-0",children:(null===T||void 0===T?void 0:T.showLogs)&&(0,s.jsx)(I.s,{className:"sitePanel",header:"Container Logs",hideHeader:!0,headerTemplate:dt,toggleable:!0,closeAction:"logs",children:(0,s.jsx)(Q,{contentId:Y.id})})}),(0,s.jsx)("div",{id:"showSummaryPanel",className:"col-12 p-0 m-0",children:(null===T||void 0===T?void 0:T.showSummary)&&(0,s.jsx)(I.s,{className:"sitePanel",ref:q,header:"Summary Vitals",headerTemplate:dt,toggleable:!0,closeAction:"summary",children:(0,s.jsx)(ye,{showProfiler:null===T||void 0===T?void 0:T.showProfiler,container:Y})})}),(0,s.jsx)("div",{ref:me,id:"showDetailsPanel",className:"col-12 p-0 m-0",children:(null===T||void 0===T?void 0:T.showDetails)&&(0,s.jsx)(I.s,{className:"sitePanel",header:"Container Details",hideHeader:!0,headerTemplate:dt,toggleable:!0,closeAction:"details",children:(0,s.jsx)(V.Z,{data:Y,hideCode:!0,header:"Container Details"})})}),(0,s.jsx)("div",{ref:ce,id:"showStatsPanel",className:"col-12 p-0 m-0",children:(null===T||void 0===T?void 0:T.showStats)&&(0,s.jsx)(I.s,{className:"sitePanel",header:"Container Stats",hideHeader:!0,headerTemplate:dt,toggleable:!0,closeAction:"stats",children:(0,s.jsx)(H,{containerId:Y.id})})}),(0,s.jsx)("div",{ref:X,id:"showNetworksPanel",className:"col-12 p-0 m-0",children:(null===T||void 0===T?void 0:T.showNetworks)&&(0,s.jsxs)(s.Fragment,{children:[(null===T||void 0===T?void 0:T.showNetworkConnect)&&(0,s.jsx)(I.s,{className:"sitePanel",header:"Container Network Management",headerTemplate:dt,toggleable:!0,closeAction:"networkConnect",children:(0,s.jsxs)("div",{className:"col-12 grid",children:[(0,s.jsx)("div",{className:"col-5",children:(0,s.jsx)(it,{container:Y,containerId:Y.id})}),(0,s.jsx)("div",{className:"col-2"}),(0,s.jsx)("div",{className:"col-5",children:(0,s.jsx)(mt,{container:Y,containerId:Y.id})})]})}),(0,s.jsx)("div",{className:"col-12 p-0 m-0",id:"showNetworksDiagram",children:(0,s.jsx)(I.s,{className:"sitePanel",header:"Container Networks",hideHeader:!0,headerTemplate:dt,toggleable:!0,closeAction:"networks",children:(0,s.jsx)(Ge,{container:Y})})})]})}),(0,s.jsx)("div",{ref:ne,id:"showProcessesPanel",className:"col-12 p-0 m-0",children:(null===T||void 0===T?void 0:T.showProcesses)&&(0,s.jsx)(I.s,{className:"sitePanel",header:"Running Processes",hideHeader:!0,headerTemplate:dt,toggleable:!0,closeAction:"processes",children:(0,s.jsx)("div",{className:"col-12 grid p-0 m-0",children:(0,s.jsx)(xt,{container:Y})})})}),(0,s.jsx)("div",{ref:re,id:"showFilesPanel",className:"col-12 p-0 m-0",children:(null===T||void 0===T?void 0:T.showFiles)&&(0,s.jsx)(I.s,{className:"sitePanel",header:"Changed Files",hideHeader:!0,headerTemplate:dt,toggleable:!0,closeAction:"files",children:(0,s.jsx)("div",{className:"col-12 grid p-0 m-0",children:(0,s.jsx)(bt,{container:Y})})})}),(0,s.jsx)("div",{ref:J,id:"showPortsPanel",className:"col-12 p-0 m-0",children:(null===T||void 0===T?void 0:T.showPorts)&&(0,s.jsx)(I.s,{className:"sitePanel",header:"Network Ports",hideHeader:!0,headerTemplate:dt,toggleable:!0,closeAction:"ports",children:(0,s.jsx)(ie,{container:Y,headerTemplate:dt,toggleable:!0,closeAction:"ports"})})}),(0,s.jsx)("div",{ref:$,id:"showVolumesPanel",className:"col-12 p-0 m-0",children:(null===T||void 0===T?void 0:T.showVolumes)&&(0,s.jsx)(I.s,{className:"sitePanel",header:"Volumes",hideHeader:!0,headerTemplate:dt,toggleable:!0,closeAction:"volumes",children:(0,s.jsx)(te,{container:Y,headerTemplate:dt,toggleable:!0,closeAction:"volumes"})})}),(0,s.jsx)("div",{ref:K,id:"showMountsPanel",className:"col-12 p-0 m-0",children:(null===T||void 0===T?void 0:T.showMounts)&&(0,s.jsx)(I.s,{className:"sitePanel",header:"Mounts",hideHeader:!0,headerTemplate:dt,toggleable:!0,closeAction:"mounts",children:(0,s.jsx)(se,{container:Y,headerTemplate:dt,toggleable:!0,closeAction:"mounts"})})})]}),(0,s.jsx)("div",{className:"bottom-spacer col-12 m-0 p-0",style:{height:"800px"}})]})}}},function(e){e.O(0,[5257,3662,7570,2727,3978,9723,9303,4854,7771,7805,9774,2888,179],(function(){return t=47564,e(e.s=t);var t}));var t=e.O();_N_E=t}]);