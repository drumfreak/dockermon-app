(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5452],{47564:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/containers/[id]",function(){return n(6509)}])},13413:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(34051),a=n.n(r),s=n(85893),o=n(67294),i=n(11163),c=n(96486),l=n.n(c),u=n(66823),d=n(99403),m=n(92814),p=n(51436),f=n(25617);function h(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){h(s,r,a,o,i,"next",e)}function i(e){h(s,r,a,o,i,"throw",e)}o(void 0)}))}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}function j(e){var t=(0,f.v9)((function(e){return e.networks})),n=(0,f.v9)((function(e){return e.containers})),r=(0,o.useRef)(n);r.current=n;var c=(0,i.useRouter)(),h=(0,o.useState)(),x=h[0],j=h[1],b=(0,o.useRef)(x);b.current=x;var N=(0,o.useState)(),w=N[0],y=N[1],k=(0,o.useRef)(w);k.current=w;var S=(0,o.useState)([]),C=S[0],R=S[1],I=(0,o.useState)([]),P=I[0],D=I[1];(0,o.useRef)(P).current=P;var L=function(e){var t=(0,o.useRef)();return(0,o.useEffect)((function(){t.current=e})),t.current}(w);function T(){return E.apply(this,arguments)}function E(){return(E=v(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(k.current);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=v(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.current&&t&&Object.keys(t).forEach((function(e){Object.keys(t[e].networks).forEach((function(){var n=t[e].networks[b.current];n&&(y(n),setTimeout((function(){O(k.current)})))}))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return A.apply(this,arguments)}function A(){return(A=v(a().mark((function t(n){var s,o,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return t.abrupt("return");case 3:if(o=n,n){t.next=6;break}return t.abrupt("return");case 6:i=[],(null===(s=n.containers)||void 0===s?void 0:s.length)>0&&n.containers.map((function(t){Object.keys(r.current).map((function(n){Object.keys(r.current[n].containers).filter((function(a){if(r.current[n].containers[a].containerId===t.containerId){var s=g({},r.current[n].containers[a]);Object.keys(o.details.Containers).map((function(e){if(e.includes(s.containerId)){var t=o.details.Containers[e];s.networkDetails=t}})),e.activeContainer===s.id?s.activeContainer=!0:s.activeContainer=!1,i.push({label:"node",type:"container",className:"network-root-container",expanded:!0,data:s,icon:"fa fa-fw fa-eye"})}}))}))})),D([{label:"network",type:"network",className:"network-root-node",expanded:!0,data:o,children:i,icon:"fa fa-fw fa-eye"}]);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,o.useEffect)((function(){j(e.network.id),setTimeout((function(){!function(){M.apply(this,arguments)}(),T()}))}),[e.network]),(0,o.useEffect)((function(){if(c.query.id&&t&&!l().isEqual(L,t[c.query.id])&&c.query.id in t){var e=t[c.query.id];y(e),setTimeout((function(){T()}),100)}}),[t]);return w?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"col-12 p-0 m-0",children:P.length>0&&(0,s.jsx)("div",{className:"col-12 p-0 m-0 network-orgchart",children:(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h5",{children:w.name}),(0,s.jsx)(u.O,{value:P,nodeTemplate:function(e){var t,n,r,a;if((null===(t=e.data)||void 0===t||null===(n=t.details)||void 0===n||null===(r=n.NetworkSettings)||void 0===r?void 0:r.IPAddress)&&(a=e.data.details.NetworkSettings.IPAddress),e.data.networkDetails&&e.data.networkDetails.IPv4Address&&(a=e.data.networkDetails.IPv4Address.split("/")[0]),e.type){var o,i,l,u,f="network-org-node ";return e.data.activeContainer&&(f+=" network-org-node-active"),(0,s.jsxs)("div",{className:f,children:["container"===e.type&&(0,s.jsx)("div",{className:"mt-0 pt-0",children:(0,s.jsx)(d.z,{className:"p-button-text p-button-plain col-12 mt-0 pt-0 mb-0 pb-0",onClick:function(){return c.push("/containers/"+e.data.id)},children:(0,s.jsxs)("div",{className:"col-12 grid pt-0 mt-0",children:[(0,s.jsx)("div",{className:"node-header mt-0 pt-0 pb-0 mb-0 col-12",children:(0,s.jsxs)("div",{className:"col-12",children:[(0,s.jsx)("div",{className:"col-12 text-center justify-content-center",children:(0,s.jsx)(m.G,{icon:p.MW5,className:"fa-xl text-green-500 mt-2 ml-auto mr-auto",swapOpacity:!0})}),(0,s.jsx)("div",{className:"col-12 text-center m-0 p-0",children:(0,s.jsx)("b",{children:e.data.name})})]})}),(0,s.jsx)("div",{className:"node-content col-12 p-0 m-0",children:a&&(0,s.jsx)(s.Fragment,{children:a})})]})})}),"network"===e.type&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"mt-0 pt-0",children:(0,s.jsx)(d.z,{className:"p-button-text p-button-plain col-12 mt-0 pt-0 mb-0 pb-0",onClick:function(){return c.push("/networks/"+e.data.id)},children:(0,s.jsxs)("div",{className:"col-12 grid pt-0 mt-0",children:[(0,s.jsx)("div",{className:"node-header mt-0 pt-0 pb-0 mb-0 col-12",children:(0,s.jsxs)("div",{className:"col-12",children:[(0,s.jsx)("div",{className:"col-12 text-center justify-content-center",children:(0,s.jsx)(m.G,{icon:p.kXW,className:"fa-3x text-green-500 mt-2 ml-auto mr-auto",swapOpacity:!0})}),(0,s.jsx)("div",{className:"col-12 text-center m-0 p-0",children:(0,s.jsx)("b",{children:e.data.name})})]})}),(0,s.jsx)("div",{className:"node-content col-12 p-0 m-0",children:(null===(u=null===(o=e.data)||void 0===o||null===(i=o.details)||void 0===i||null===(l=i.IPAM)||void 0===l?void 0:l.Config[0])||void 0===u?void 0:u.Gateway)&&(0,s.jsx)(s.Fragment,{children:e.data.details.IPAM.Config[0].Gateway})})]})})})})]})}if("department"===e.type)return e.label},selection:C,selectionMode:"multiple",onSelectionChange:function(e){return R(e.data)},className:"company"})]})})})}):(0,s.jsx)("div",{className:"text-center mt-5",children:"Network could not be found."})}},6509:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ft}});var r=n(34051),a=n.n(r),s=n(85893),o=n(42670),i=n(11163),c=n(67294),l=n(30045),u=n(11078),d=n(81085),m=n(74781),p=n(66989),f=n(43964),h=n(68751),v=n(91202),x=n(27484),g=n.n(x),j=n(99403),b=n(28565);function N(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){N(s,r,a,o,i,"next",e)}function i(e){N(s,r,a,o,i,"throw",e)}o(void 0)}))}}function y(e){var t=function(e){var t=[],n=[],r=[],a=[],s=[],o=[],i=[];e.map((function(e){var c=x(e.createdAt).format("YYYY-MM-DD HH:mm:ss");t.push(e.cpu),n.push(e.pids),r.push(e.memory),a.push(e.memoryPercent),s.push(e.networkIn),o.push(e.networkOut),i.push(c)})),i.push(x().format("YYYY-MM-DD HH:mm:ss")),K(t),O(n),H(r),Y(o),z(s),W(i),S.current&&((null===we||void 0===we?void 0:we.current)&&we.current.updateChart(),(null===ye||void 0===ye?void 0:ye.current)&&ye.current.updateChart(),(null===ke||void 0===ke?void 0:ke.current)&&ke.current.updateChart(),(null===Se||void 0===Se?void 0:Se.current)&&Se.current.updateChart()),k(!1),g(!1)},n=function(){xe.current&&clearInterval(xe.current);var e=setInterval((function(){Oe()}),15e3);ve(e)},r=(0,c.useState)(!0),i=r[0],g=r[1],N=(0,c.useState)(!1),y=N[0],k=N[1],S=(0,c.useRef)(y);S.current=y;var C=(0,c.useState)(!0),R=C[0],I=C[1],P=(0,c.useRef)(R);P.current=R;var D=(0,c.useState)(),L=D[0],T=D[1],E=(0,c.useState)(),M=E[0],O=E[1],A=(0,c.useState)(),_=A[0],H=A[1],F=(0,c.useState)(),V=F[0],z=F[1],U=(0,c.useState)(),G=U[0],Y=U[1],B=(0,c.useState)(),q=B[0],W=B[1],X=(0,c.useState)(),Z=X[0],K=X[1],$=(0,c.useState)(),Q=$[0],J=$[1],ee=(0,c.useState)(x().subtract(15,"minute").toDate()),te=ee[0],ne=ee[1],re=(0,c.useRef)(te);re.current=te;var ae=(0,c.useState)(new Date),se=ae[0],oe=ae[1],ie=(0,c.useRef)(se);ie.current=se;var ce=(0,c.useState)(new Date)[0],le=(0,c.useRef)(ce);le.current=ce;var ue=(0,c.useState)(),de=ue[0],me=ue[1],pe=(0,c.useRef)(de);pe.current=de;var fe=(0,c.useState)(),he=fe[0],ve=fe[1],xe=(0,c.useRef)(he);xe.current=he;var ge=(0,c.useState)(900),je=ge[0],be=ge[1],Ne=(0,c.useRef)(je);Ne.current=je;var we=(0,c.useRef)(),ye=(0,c.useRef)(),ke=(0,c.useRef)(),Se=(0,c.useRef)(),Ce=(0,c.useState)(),Re=Ce[0],Ie=Ce[1],Pe=(0,c.useRef)(Re);Pe.current=Re;var De=(0,c.useState)(!1),Le=De[0],Te=De[1];function Ee(){return Me.apply(this,arguments)}function Me(){return(Me=w(a().mark((function n(){var r,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Le){n.next=2;break}return n.abrupt("return");case 2:return Te(!0),r="containerStats_"+e.containerId,n.next=6,b.L.getSocket();case 6:return(s=n.sent).on(r,(function(e){"success"===e.status&&e.data&&(T(e.data),k(!0),t(e.data))})),Ie(s),n.abrupt("return",s);case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Oe(){return Ae.apply(this,arguments)}function Ae(){return(Ae=w(a().mark((function n(){var r,s,o,i,c,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Ne.current?(r=x().subtract(Ne.current,"second").toDate(),s=x().toDate()):(r=re.current,s=x().toDate()),ne(r),oe(s),o={containerId:e.containerId,limit:100,sortKey:"createdAt",sortType:"DESC",startDate:r,endDate:s},!Pe.current){n.next=10;break}Pe.current.emit("stats",{command:"stats",body:o,callback:"containerStats_"+e.containerId}),n.next=17;break;case 10:return n.next=12,l.D.getStats(o);case 12:i=n.sent,c=i.data,(u=i.error)&&(J(u),console.log(u)),c&&(T(c),k(!0),t(c));case 17:case"end":return n.stop()}}),n)})))).apply(this,arguments)}if((0,c.useEffect)(w(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.containerId){t.next=6;break}if(Le){t.next=4;break}return t.next=4,Ee();case 4:Oe(),P.current&&setTimeout((function(){n()}),500);case 6:case"end":return t.stop()}}),t)}))),[]),(0,c.useEffect)((function(){return function(){if((null===xe||void 0===xe?void 0:xe.current)&&(clearInterval(xe.current),ve(null)),Pe.current){var t="containerStats_"+e.containerId;Pe.current.removeListener(t)}}}),[]),i)return(0,s.jsx)(o.$,{});if(Q)return(0,s.jsx)("div",{children:"Failed to load stats"});if(!L)return(0,s.jsx)("div",{});var _e=function(){var e=w(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe.current&&clearTimeout(pe.current),n=setTimeout(w(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:be(null),k(!0),oe(new Date(t)),setTimeout((function(){Oe()}));case 4:case"end":return e.stop()}}),e)}))),1500),me(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=w(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:be(t.value),setTimeout((function(){k(!0),Oe()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=!P.current;I(e),e?n():Ve()},Ve=function(){xe.current&&(clearInterval(xe.current),ve(null))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid col-12",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsxs)("label",{className:"ml-5 mt-2 mr-2",htmlFor:"startDate",children:["Start:"," "]}),(0,s.jsx)(h.f,{id:"startDate",name:"startDate",value:re.current,onSelect:function(e){return function(e){(null===pe||void 0===pe?void 0:pe.current)&&clearTimeout(pe.current);var t=setTimeout((function(){be(null),k(!0),ne(new Date(e)),setTimeout((function(){Oe()}))}),1500);me(t)}(e.value)},showIcon:!0,showTime:!0,showSeconds:!0,maxDate:ie.current}),(0,s.jsx)("label",{className:"ml-5 mr-2 mt-2",htmlFor:"endDate",children:"End:"}),(0,s.jsx)(h.f,{id:"endDate",name:"endDate",value:ie.current,onSelect:function(e){return _e(e.value)},showIcon:!0,showTime:!0,showSeconds:!0,minDate:re.current,maxDate:le.current}),(0,s.jsxs)("label",{className:"ml-5 mr-2 mt-2",htmlFor:"endDate",children:["Range:"," "]}),(0,s.jsx)(v.L,{className:"mt-0",name:"range",value:je,options:[{name:"Custom",value:null},{name:"1 Minute",value:60},{name:"5 Minutes",value:300},{name:"15 Minutes",value:900},{name:"30 Minutes",value:1800},{name:"60 Minutes",value:3600},{name:"90 Minutes",value:5400},{name:"2 Hours",value:7200},{name:"3 Hours",value:10800},{name:"6 Hours",value:21600},{name:"8 Hours",value:28800},{name:"12 Hours",value:43200}],onChange:He,optionLabel:"name",placeholder:"Select a Range"}),!P.current&&(0,s.jsx)(j.z,{className:"ml-2 p-button p-button-secondary",tooltip:"Start Stats Refreshing",tooltipOptions:{position:"bottom"},icon:"fa fa-play",onClick:Fe}),P.current&&(0,s.jsx)(j.z,{className:"ml-2 p-button-raised p-button-secondary",tooltip:"Stop Stats Refreshing",tooltipOptions:{position:"bottom"},icon:"fa fa-pause",onClick:Fe})]})}),(0,s.jsxs)("div",{className:"grid",children:[(0,s.jsxs)("div",{className:"col-12 grid",children:[(0,s.jsx)("div",{className:"col-6 m-auto mt-0",children:(0,s.jsx)(f.s,{header:"CPU Stats",toggleable:!0,children:(0,s.jsx)(u.B,{ref:we,className:"m-4",statsCPU:Z,statsDates:q,startDate:te,endDate:se})})}),(0,s.jsx)("div",{className:"col-6 m-auto mt-0",children:(0,s.jsx)(f.s,{header:"Memory Stats",toggleable:!0,children:(0,s.jsx)(d.r,{ref:ye,className:"m-4",statsMemory:_,statsDates:q,startDate:te,endDate:se})})})]}),(0,s.jsxs)("div",{className:"col-12 grid",children:[(0,s.jsx)("div",{className:"col-6 m-auto mt-0",children:(0,s.jsx)(f.s,{header:"Processes Stats",toggleable:!0,children:(0,s.jsx)(m.R,{ref:ke,className:"m-4",statsProcesses:M,statsDates:q,startDate:te,endDate:se})})}),(0,s.jsx)("div",{className:"col-6 m-auto mt-0",children:(0,s.jsx)(f.s,{header:"Network Stats",toggleable:!0,children:(0,s.jsx)(p.X,{ref:Se,className:"m-4",statsNetworkIn:V,statsNetworkOut:G,statsDates:q,startDate:te,endDate:se})})})]})]})]})}var k=n(10619),S=n(25617),C=n(96486),R=n.n(C),I=n(36345),P=n(42552),D=n(45795);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){T(s,r,a,o,i,"next",e)}function i(e){T(s,r,a,o,i,"throw",e)}o(void 0)}))}}function M(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e){var t=(0,c.useState)(!0),n=t[0],r=t[1];(0,c.useRef)(n).current=n;var i=(0,c.useState)()[0],l=(0,S.v9)((function(e){return e.hosts.activeHost}));(0,c.useRef)(l).current=l;var u=(0,S.v9)((function(e){return e.containers})),d=(0,c.useState)()[0];(0,c.useRef)(d).current=d;var m=(0,c.useState)(),p=m[0],h=m[1],v=(0,c.useRef)(p);v.current=p;var x=(0,c.useState)([]),g=x[0],N=x[1],w=(0,c.useRef)(g);w.current=g;var y=(0,c.useState)(),k=y[0],C=y[1],R=(0,c.useRef)(k);R.current=k;var I=(0,c.useRef)(),L=(0,c.useState)(!1),T=L[0],O=L[1];function A(){return _.apply(this,arguments)}function _(){return(_=E(a().mark((function t(){var n,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!T){t.next=2;break}return t.abrupt("return");case 2:return O(!0),n="dockerLogs_"+e.containerId,t.next=6,b.L.getSocket();case 6:return(s=t.sent).on(n,(function(e){if("success"===e.status){if(e.data){var t=M(w.current);t.push(e.data),N(t)}}else r(!1)})),C(s),t.abrupt("return",s);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(){return F.apply(this,arguments)}function F(){return(F=E(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:R.current&&R.current.emit("dockerContainerLogs",{command:"containerLogs",containerId:v.current.containerId,containerLongId:v.current.containerLongId,hostId:null===(n=v.current.host)||void 0===n?void 0:n.id,callback:"dockerLogs_"+e.containerId,hook:"containerLogs"}),r(!1);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,c.useEffect)(E(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.containerId){t.next=8;break}if(!(e.containerId in u)){t.next=8;break}if(n=u[e.containerId],h(n),T){t.next=7;break}return t.next=7,A();case 7:H();case 8:case"end":return t.stop()}}),t)}))),[]),(0,c.useEffect)((function(){return function(){var t;R.current&&(R.current.emit("dockerContainerLogsClose",{command:"containerLogsClose",containerId:v.current.containerId,containerLongId:v.current.containerLongId,hostId:null===(t=v.current.host)||void 0===t?void 0:t.id,callback:"dockerLogsClose_"+e.containerId,hook:"containerLogsClose"}),setTimeout((function(){var t="dockerLogs_"+e.containerId;R.current.removeListener(t)}),500))}}),[]),(0,c.useEffect)((function(){if(e.containerId&&e.containerId in u){var t=u[e.containerId];h(t)}}),[e.containerId]),(0,c.useEffect)((function(){V()}),[g]);var V=function(){var e=I.current;if(e){var t=e.scrollHeight-e.clientHeight;e.scrollTop=t>0?t:0}};return n?(0,s.jsx)(o.$,{}):0===!g.length?(0,s.jsx)("div",{children:"No Logs"}):i?(0,s.jsx)("div",{children:"Failed to load Logs"}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(f.s,{header:"Container Logs",toggleable:!0,children:(0,s.jsxs)("div",{className:"col-12 ml-2 mr-2",children:[(0,s.jsxs)("div",{className:"col-12 text-right pr-3",children:[(0,s.jsx)(j.z,{label:"Terminal Logs",className:"p-button-secondary p-3 mr-2",onClick:function(){return function(){var e;R.current.emit("tailLogs",{command:"tailLogs",containerId:v.current.containerId,containerLongId:v.current.containerLongId,hostId:null===(e=v.current.host)||void 0===e?void 0:e.id,callback:"dockerResulsTerminalLogs_"+v.current.id,hook:"tailLogs"})}()},icon:"fa fa-tv"}),(0,s.jsx)(j.z,{label:"Clear Logs",className:"p-button-primary",onClick:function(){N([])},icon:"fa fa-close",children:(0,s.jsx)(D.C,{value:w.current.length,size:"large",severity:"success"})})]}),(0,s.jsx)(P.g,{ref:I,autoCorrect:"off",spellCheck:"false",autoComplete:"false",autoCapitalize:"false",style:{backgroundColor:"black",padding:"4px"},value:w.current.join(""),onChange:function(){},className:"col-12 p-5",rows:10,cols:30})]})})})}var A=n(7862),_=n(69868),H=n(92814),F=n(51436),V=n(57191),z=n(41664);function U(e){var t,n=(0,i.useRouter)(),r=(0,c.useState)(),a=r[0],o=r[1],l=(0,c.useState)("list")[0];if((0,c.useEffect)((function(){o(e.container)}),[e.container]),!a)return(0,s.jsx)("div",{});if(!a)return(0,s.jsx)("div",{className:"col-12 text-center",children:"Container is missing."});if((null===a||void 0===a||null===(t=a.volumes)||void 0===t?void 0:t.length)<1)return(0,s.jsx)("div",{className:"col-12 text-center",children:"No volumes or mounts for this container. Using tmpfs."});var u=""+a.volumes.length;u+=a.volumes.length>1?" Volumes":" Volume";var d=Number(a.fileSizeRoot),m=!0,p=!1,h=void 0;try{for(var v,x=a.volumes[Symbol.iterator]();!(m=(v=x.next()).done);m=!0){var g=v.value;d+=Number(g.fileSize)}}catch(N){p=!0,h=N}finally{try{m||null==x.return||x.return()}finally{if(p)throw h}}var b=V.t.bytes(d);return(0,s.jsx)(s.Fragment,{children:a.volumes.length>0&&(0,s.jsxs)(f.s,{header:u,collapsed:0,toggleable:!0,children:[(0,s.jsx)("div",{className:"col-12 m-0 p-0",children:(0,s.jsx)("div",{className:"card p-0 m-0",children:(0,s.jsx)(A.V,{value:a.volumes,layout:l,itemTemplate:function(e,t){if(e)return"list"===t?function(e){var t=e.fileSize>0?V.t.bytes(e.fileSize):"0 Bytes";return(0,s.jsxs)("div",{className:"col-12 pt-2 pl-3 flex datatable-hover",children:[(0,s.jsxs)("div",{className:"col-10 pl-4 mr-auto grid",children:[(0,s.jsx)("div",{className:"col-0 pt-2",children:(0,s.jsx)(z.default,{title:"View Drive",href:"/volumes/[id]",as:"/volumes/".concat(e.id),passHref:!0,children:(0,s.jsxs)("a",{title:"View",children:[(0,s.jsx)(H.G,{icon:F.Yws,pull:"left",className:"fa-2x lightblue-color mt-2",swapOpacity:!0}),(0,s.jsx)("h6",{className:"p-0 m-0",children:(0,s.jsx)("strong",{children:e.RW?"RW":"RO"})})]})})}),(0,s.jsxs)("div",{className:"col-10",children:[(0,s.jsx)("h5",{className:"lightblue-color mb-0",children:(0,s.jsx)(z.default,{href:"/volumes/[id]",as:"/volumes/".concat(e.id),passHref:!0,children:(0,s.jsx)("a",{title:"View",className:"lightblue-color",children:e.name})})}),(0,s.jsx)("h6",{className:"p-0 m-0",children:(0,s.jsx)("strong",{children:t})}),(0,s.jsx)("div",{className:"m-0 p-0",children:(0,s.jsx)("small",{children:e.mountpoint})})]})]}),(0,s.jsx)("div",{className:"col-2 ml-auto pr-4 text-right pt-3",children:(0,s.jsx)(j.z,{icon:"fa fa-eye",className:"p-button-secondary mr-1 mt-3 volume-view-button",onClick:function(){return n.push("/volumes/"+e.id)},children:(0,s.jsx)(_.H,{})})})]})}(e):void 0},paginator:!1,rows:100})})}),(0,s.jsx)("div",{className:"col-12 m-0 p-0 text-right pr-4 pt-2",children:(0,s.jsxs)("h5",{children:["Container Size: ",b]})})]})})}function G(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){G(s,r,a,o,i,"next",e)}function i(e){G(s,r,a,o,i,"throw",e)}o(void 0)}))}}function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}function q(e){var t,n,r,o,i=B({},e),l=(0,c.useState)(),u=l[0],d=l[1];(0,c.useRef)(u).current=u;var m=(0,c.useState)("list")[0],p=(0,c.useState)(),h=p[0],v=p[1],x=(0,c.useRef)(h);x.current=h;var g=(0,c.useState)(!1),j=g[0],N=g[1];function w(){return(w=Y(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=2;break}return e.abrupt("return");case 2:return N(!0),e.next=5,b.L.getSocket();case 5:return t=e.sent,v(t),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if((0,c.useEffect)((function(){i.container.id&&(d(i.container),setTimeout((function(){j||function(){w.apply(this,arguments)}()}),100))}),[i.container]),!u)return(0,s.jsx)("div",{className:"col-12 text-center",children:"Container is missing."});if((null===u||void 0===u||null===(t=u.mounts)||void 0===t?void 0:t.length)<1)return(0,s.jsx)("div",{className:"col-12 text-center",children:"No volumes or mounts for this container. Using tmpfs."});var y=function(e){e=e.replace("/host_mnt",""),x.current&&x.current.emit("openFinderPath",{command:"openFinderPath",body:{},filePath:e,callback:"null"})};if(!(null===u||void 0===u?void 0:u.mounts))return(0,s.jsx)("div",{});if((null===(n=u.mounts)||void 0===n?void 0:n.length)<1)return(0,s.jsx)("div",{});var k=""+(null===(r=u.mounts)||void 0===r?void 0:r.length);return k+=(null===(o=u.mounts)||void 0===o?void 0:o.length)>1?" Mounts":" Mount",(0,s.jsx)(s.Fragment,{children:u.mounts.length>0&&(0,s.jsx)(f.s,{header:k,collapsed:!1,toggleable:!0,children:(0,s.jsx)("div",{className:"col-12 m-0 p-0",children:(0,s.jsx)("div",{className:"card p-0 m-0",children:(0,s.jsx)(A.V,{value:u.mounts,layout:m,itemTemplate:function(e,t){var n;if(e)return"list"===t?(n=e,(0,s.jsxs)("div",{className:"col-12 pt-2 pl-3 flex datatable-hover",children:[(0,s.jsxs)("div",{className:"col-10 pl-4 mr-auto grid",children:[(0,s.jsxs)("div",{className:"col-0 pt-2",children:["bind"===n.Type&&(0,s.jsx)(z.default,{title:"View Drive",href:"/volumes/[id]",as:"/volumes/".concat(n.id),passHref:!0,children:(0,s.jsxs)("a",{onClick:function(e){y(n.Source),e.preventDefault()},title:"View",className:"lightblue-color",children:[(0,s.jsx)(H.G,{icon:F.Pk,pull:"left",className:"fa-2x lightblue-color mt-2",swapOpacity:!0}),(0,s.jsx)("h6",{className:"p-0 m-0",children:(0,s.jsx)("strong",{children:n.RW?"RW":"RO"})})]})}),"volume"===n.Type&&(0,s.jsx)(z.default,{title:"View Drive",href:"/volumes/[id]",as:"/volumes/".concat(1),passHref:!0,children:(0,s.jsxs)("a",{title:"View",children:[(0,s.jsx)(H.G,{icon:F.Yws,pull:"left",className:"fa-2x lightblue-color mt-2",swapOpacity:!0}),(0,s.jsx)("h6",{className:"p-0 m-0",children:(0,s.jsx)("strong",{children:n.RW?"RW":"RO"})})]})})]}),(0,s.jsxs)("div",{className:"col-10",children:["volume"===n.Type&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h5",{className:"lightblue-color mb-1",children:(0,s.jsx)(z.default,{href:"/volumes/[id]",as:"/volumes/".concat(n.id),passHref:!0,children:(0,s.jsx)("a",{title:"View",className:"lightblue-color",children:n.Destination})})}),(0,s.jsx)("h6",{className:"p-0 m-0",children:(0,s.jsxs)("strong",{children:["Volume: ",n.Name]})})]}),"bind"===n.Type&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"lightblue-color mb-1",children:(0,s.jsx)(z.default,{href:"/",children:(0,s.jsx)("a",{onClick:function(e){y(n.Source),e.preventDefault()},title:"View",className:"lightblue-color",children:n.Destination})})}),(0,s.jsx)("h6",{className:"p-0 m-0",children:(0,s.jsx)("strong",{children:"Bind / Link"})})]}),(0,s.jsx)("div",{className:"m-0 p-0",children:(0,s.jsx)("small",{children:n.Source})})]})]}),(0,s.jsx)("div",{className:"col-2 ml-auto pr-4 text-right pt-3"})]})):void 0},paginator:!1,rows:100})})})})})}function W(e){var t=(0,c.useState)(),n=t[0],r=t[1],a=(0,c.useState)("list")[0],o=(0,c.useState)([]),i=o[0],l=o[1];(0,c.useEffect)((function(){r(e.container),setTimeout((function(){return u()}),100)}),[e.container]),(0,c.useEffect)((function(){u()}),[n]);var u=function(){var e,t,r=[];(null===n||void 0===n||null===(e=n.details)||void 0===e||null===(t=e.HostConfig)||void 0===t?void 0:t.PortBindings)&&(n.details.HostConfig.PortBindings,Object.keys(n.details.HostConfig.PortBindings).forEach((function(e){var t=e.split("/"),a=n.details.HostConfig.PortBindings[e],s={port:t[0],protocol:t[1],hostIp:a[0].HostIp?a[0].HostIp:"0.0.0.0",hostPort:a[0].HostPort?a[0].HostPort:null,portType:a[0].HostPort?"public":"private"};2===t.length&&r.push(s)})),l(r))};if(!n)return(0,s.jsx)("div",{});if(i.length<1)return(0,s.jsx)("div",{className:"col-12 text-center p-3",children:"No ports assigned to this container"});var d=""+i.length;return d+=i.length>1?" Ports in use":" Port in use",(0,s.jsx)(s.Fragment,{children:i.length>0&&(0,s.jsx)(f.s,{header:d,collapsed:!1,toggleable:!0,children:(0,s.jsx)("div",{className:"col-12 m-0 p-0",children:(0,s.jsx)("div",{className:"card p-0 m-0",children:(0,s.jsx)(A.V,{value:i,layout:a,itemTemplate:function(e,t){if(e)return"list"===t?function(e){var t=e.portType;return(0,s.jsxs)("div",{className:"col-12 pt-2 pl-3 flex datatable-hover",children:[(0,s.jsxs)("div",{className:"col-10 pl-4 mr-auto grid",children:[(0,s.jsxs)("div",{className:"col-0 pt-2",children:["public"===t&&(0,s.jsx)(z.default,{title:"View",target:"_blank",href:"http://localhost:[id]",as:"http://localhost:".concat(e.port),children:(0,s.jsx)("a",{title:"View",target:"_blank",children:(0,s.jsx)(H.G,{icon:F.kXW,pull:"left",className:"fa-2x text-green-500 mt-2",swapOpacity:!0})})}),"private"===t&&(0,s.jsx)(z.default,{title:"View",target:"_blank",href:"http://localhost:[id]",as:"http://localhost:".concat(e.port),children:(0,s.jsx)("a",{title:"View",target:"_blank",children:(0,s.jsx)(H.G,{icon:F.kXW,pull:"left",className:"fa-2x text-orange-500 mt-2",swapOpacity:!0})})})]}),(0,s.jsxs)("div",{className:"col-10",children:[(0,s.jsxs)("h5",{className:"lightblue-color mb-0",children:["public"===t&&(0,s.jsx)(z.default,{title:"View",target:"_blank",href:"http://localhost:[id]",as:"http://localhost:".concat(e.hostPort),children:(0,s.jsxs)("a",{title:"View",target:"_blank",className:"text-green-500",children:[e.hostIp,":",e.port," to localhost:",e.hostPort]})}),"private"===t&&(0,s.jsx)(z.default,{title:"View",target:"_blank",href:"http://localhost:[id]",as:"http://localhost:".concat(e.hostPort),children:(0,s.jsxs)("a",{title:"View",target:"_blank",className:"text-orange-500",children:[":",e.hostPort," Exposed Port"]})})]}),(0,s.jsx)("h6",{className:"p-0 m-0",children:(0,s.jsx)("strong",{className:"private"===t?"text-orange-500":"text-green-500",children:e.portType})})]})]}),(0,s.jsx)("div",{className:"col-2 ml-auto pr-4 text-right pt-3",children:(0,s.jsx)(j.z,{icon:"fa fa-eye",className:"p-button-secondary mr-1 mt-3 volume-view-button",onClick:function(){window.open("http://localhost:"+e.hostPort,"_blank")},children:(0,s.jsx)(_.H,{})})})]})}(e):void 0},paginator:!1,rows:100})})})})})}var X=n(21838),Z=n(17974),K=n(6339),$=n(23594),Q=n(91176),J=n(54033),ee=n(9731),te=n(30178),ne=n(72337),re=n(89646),ae=n(47225),se=n(40424);function oe(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){oe(s,r,a,o,i,"next",e)}function i(e){oe(s,r,a,o,i,"throw",e)}o(void 0)}))}}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ce(e,t,n[t])}))}return e}function ue(e){var t,n,r,o,i,l,u,d,m,p,f,h,x=function(){var e;z.current&&C.current.running&&z.current.emit("dockerContainerMonitor",{command:"containerMonitor",containerId:C.current.containerId,containerLongId:C.current.containerLongId,hostId:null===(e=C.current.host)||void 0===e?void 0:e.id,cid:C.current.id,containerName:C.current.name,callback:"containerStatsSummary_"+C.current.id,hook:"containerMonitor"})},N=function(){ye(!0),x()},w=function(){ye(!1),It()},y=(0,c.useState)(),k=y[0],S=y[1],C=(0,c.useRef)(k);C.current=k;var R=(0,c.useState)(),I=R[0],P=R[1];(0,c.useRef)(I).current=I;var D=(0,c.useRef)(),L=(0,c.useRef)(),T=(0,c.useRef)(),E=(0,c.useRef)(),M=(0,c.useState)(),O=M[0],A=M[1],z=(0,c.useRef)(O);z.current=O;var U=(0,c.useState)(!1),G=U[0],Y=U[1],B=(0,c.useRef)(G);B.current=G;var q=(0,c.useState)(),W=q[0],oe=q[1],ce=(0,c.useRef)(W);ce.current=W;var ue=(0,c.useState)("Grid"),de=ue[0],me=ue[1],pe=(0,c.useState)(2),fe=pe[0],he=pe[1],ve=(0,c.useRef)(fe);ve.current=fe;var xe=(0,c.useState)(0),ge=xe[0],je=xe[1],be=(0,c.useRef)(ge);be.current=ge;var Ne=(0,c.useState)(!1),we=Ne[0],ye=Ne[1];(0,c.useRef)(we).current=we;var ke=(0,c.useState)(!1),Se=ke[0],Ce=ke[1],Re=(0,c.useRef)(Se);Re.current=Se;var Ie=(0,c.useState)(1100),Pe=Ie[0],De=Ie[1];(0,c.useRef)(Pe).current=Pe;var Le=(0,c.useState)(.038),Te=Le[0],Ee=Le[1];(0,c.useRef)(Te).current=Te;var Me=(0,c.useState)({diskInput:"purple",diskOutput:"blue",cpu:"cyan",memory:"green",networkTx:"orange",networkRx:"red",processes:"purple"})[0];(0,c.useRef)(Me).current=Me;var Oe={diskRead:0,diskWrite:0,diskTotal:0,diskTmpFSizes:0,diskVolumeSize:0,networkRx:0,networkTx:0,processes:0,memoryLimit:0,memoryUsage:0,cpuUsage:0,startDate:g()().format("YYYY-MM-DD HH:mm:ss"),endDate:g()().format("YYYY-MM-DD HH:mm:ss"),intervalCount:0},Ae=(0,c.useState)({statsSummary:Oe,chartData:{dates:[],cpu:[],memoryPercent:[],processes:[],diskRead:[],diskWrite:[],networkTx:[],networkRx:[],diskUsed:[],diskImage:[],diskLabels:[],diskUsage:[]},sample:{}}),_e=Ae[0],He=Ae[1],Fe=(0,c.useRef)(_e);Fe.current=_e;var Ve=(0,c.useState)(!1),ze=Ve[0],Ue=Ve[1],Ge=(0,c.useState)(!1),Ye=Ge[0],Be=Ge[1],qe=(0,c.useRef)(Ye);qe.current=Ye;var We=(0,c.useState)(!1),Xe=We[0],Ze=We[1],Ke=(0,c.useRef)(Xe);Ke.current=Xe;var $e=(0,c.useState)(!1),Qe=$e[0],Je=$e[1],et=(0,c.useRef)(Qe);et.current=Qe;var tt=(0,c.useState)(!1),nt=tt[0],rt=tt[1],at=(0,c.useRef)(nt);at.current=nt;var st=(0,c.useState)(!1),ot=st[0],it=st[1],ct=(0,c.useRef)(ot);ct.current=ot;var lt=(0,c.useState)(!1),ut=lt[0],dt=lt[1],mt=(0,c.useRef)(ut);mt.current=ut;var pt=(0,c.useState)(!1),ft=pt[0],ht=pt[1];(0,c.useRef)(ft).current=ft;var vt=(0,c.useState)([0,1]),xt=vt[0],gt=vt[1],jt=(0,c.useState)([0,1]),bt=jt[0],Nt=jt[1],wt=(0,c.useState)({starteDate:new Date,endDate:new Date}),yt=wt[0],kt=wt[1],St=(0,c.useRef)(yt);function Ct(){return Rt.apply(this,arguments)}function Rt(){return Rt=ie(a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!B.current){t.next=2;break}return t.abrupt("return");case 2:return Y(!0),n="containerStatsSummary_"+e.container.id,t.next=6,b.L.getSocket();case 6:return(r=t.sent).on(n,function(){var e=ie(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==t.status){e.next=10;break}if(!t.data){e.next=10;break}if(Re.current){e.next=10;break}if(!C.current){e.next=10;break}if(ve.current!==be.current){e.next=9;break}return be.current=0,e.next=8,Lt(t.data);case 8:return e.abrupt("return",e.sent);case 9:be.current++;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.next=10,A(r);case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)}))),Rt.apply(this,arguments)}function It(){return Pt.apply(this,arguments)}function Pt(){return(Pt=ie(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===z||void 0===z?void 0:z.current)){e.next=4;break}return z.current.emit("dockerContainerMonitorClose",{command:"containerLogsClose",containerId:C.current.containerId,containerLongId:C.current.containerLongId,hostId:null===(t=C.current.host)||void 0===t?void 0:t.id,callback:"dockerMonitorClose_"+C.current.id,hook:"containerMonitorClose"}),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(){return(Dt=ie(a().mark((function e(){var t,n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fe.current,(null===C||void 0===C||null===(t=C.current)||void 0===t?void 0:t.statsSummary)&&(r.statsSummary=null===C||void 0===C||null===(n=C.current)||void 0===n?void 0:n.statsSummary),e.next=5,Et(r);case 5:return s=e.sent,e.next=8,He(s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e){return Tt.apply(this,arguments)}function Tt(){return(Tt=ie(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=St.current).startDate=new Date(t.startDate),n.endDate=new Date(t.endDate),e.next=5,Et(t);case 5:return r=e.sent,e.next=8,He(r);case 8:return e.next=10,kt(n);case 10:Nt([0,t.chartData.dates.length]),gt([0,t.chartData.dates.length]),t.sampleIndex>1&&Ue(!0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(e){return Mt.apply(this,arguments)}function Mt(){return(Mt=ie(a().mark((function e(t){var n,r,s,o,i,c,l,u,d,m,p,f,h,v,x,g,j,b,N,w,y,k,S,R;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.current){e.next=3;break}return e.abrupt("return");case 3:for(d=t,m=[],p=[],f=[],h=[],(null===(n=C.current)||void 0===n||null===(r=n.image)||void 0===r?void 0:r.details)&&(m.push(C.current.image.name),p.push(C.current.image.details.Size),f.push("image"),h.push(C.current.image)),v=(null===(s=C.current.usageData)||void 0===s?void 0:s.SizeRw)?null===(o=C.current.usageData)||void 0===o?void 0:o.SizeRw:0,x=0,g=!0,j=!1,b=void 0,e.prev=12,N=C.current.volumes[Symbol.iterator]();!(g=(w=N.next()).done);g=!0)y=w.value,v+=(null===(k=y.usageData)||void 0===k?void 0:k.Size)?Number(y.usageData.Size):0,x+=v,m.push(y.name),p.push(v),f.push("volume"),h.push(y);e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),j=!0,b=e.t0;case 20:e.prev=20,e.prev=21,g||null==N.return||N.return();case 23:if(e.prev=23,!j){e.next=26;break}throw b;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return S=(null===(i=C.current)||void 0===i||null===(c=i.usageData)||void 0===c?void 0:c.SizeRw)?C.current.usageData.SizeRw:0,R=(null===(l=C.current.image)||void 0===l||null===(u=l.details)||void 0===u?void 0:u.Size)?C.current.image.details.Size:0,m.push("tmpfs"),p.push(S),f.push("tmpfs"),h.push({}),d.statsSummary.diskVolumeSize=x,d.statsSummary.diskTmpFSizes=S,d.statsSummary.diskTotal=x+R+S,d.diskLabels=m,d.diskUsage=p,d.diskTypes=f,d.diskOther=h,e.abrupt("return",d);case 42:case"end":return e.stop()}}),e,null,[[12,16,20,28],[21,,23,27]])})))).apply(this,arguments)}St.current=yt,(0,c.useEffect)((function(){var t;(null===(t=e.container)||void 0===t?void 0:t.id)&&(I||P(e.container.id),S(e.container),setTimeout((function(){}))),I&&(z.current||setTimeout(ie(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G){e.next=4;break}return e.next=4,Ct();case 4:(null===C||void 0===C||null===(t=C.current)||void 0===t?void 0:t.running)&&we&&x();case 5:case"end":return e.stop()}}),e)}))),500))}),[e]),(0,c.useEffect)((function(){C.current&&function(){Dt.apply(this,arguments)}()}),[k]),(0,c.useEffect)((function(){return ie(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((null===ce||void 0===ce?void 0:ce.current)&&(clearInterval(ce.current),oe(null)),!z.current){t.next=5;break}return t.next=4,It();case 4:setTimeout((function(){var t="containerStatsSummary_"+e.container.id;z.current.removeListener(t)}),500);case 5:case"end":return t.stop()}}),t)})))}),[]);var Ot=function(e){switch(e){case"cpu":Be(!qe.current);break;case"memory":Ze(!Ke.current);break;case"disk":Je(!et.current);break;case"network":rt(!at.current);break;case"processes":it(!ct.current);break;case"diskspace":dt(!mt.current)}},At=function(){var e=ie(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.current.updateChart(),(null===L||void 0===L?void 0:L.current)&&L.current.updateChart(),(null===T||void 0===T?void 0:T.current)&&T.current.updateChart(),(null===E||void 0===E?void 0:E.current)&&E.current.updateChart(),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_t=function(){var e=ie(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:me(t.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ht=function(){var e=ie(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=le({},St.current)).startDate=new Date(Fe.current.chartData.dates[t[0]]),n.endDate=new Date(Fe.current.chartData.dates[t[1]-1]),e.next=5,kt(n);case 5:return e.next=7,At();case 7:return e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(!k)return(0,s.jsx)("div",{});var Ft="Grid"===de?"col-6":"col-12";return(0,s.jsx)(s.Fragment,{children:k&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"surface-ground mt-0",children:(0,s.jsx)("div",{className:"",children:(0,s.jsxs)("div",{className:"col-12 surface-card col-0 m-0",style:{borderRadius:"10px"},children:[(0,s.jsxs)("div",{className:"grid col-0 m-0",children:[(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("div",{onClick:function(){return Ot("cpu")},style:{cursor:"pointer"},className:(qe.current?"containerSummaryDivHighlight":"")+" card height-100 shadow-4 ml-2 mt-3 px-2 py-2 text-center p-ripple cyan",children:[(0,s.jsx)(_.H,{}),(0,s.jsx)(H.G,{icon:F.Owo,className:"text-6xl text-cyan-600 mb-2",swapOpacity:!0}),(0,s.jsxs)("div",{className:"text-900 font-bold text-3xl mb-1 line-height-2 text-center",children:[null===_e||void 0===_e||null===(t=_e.statsSummary)||void 0===t?void 0:t.cpuUsage," %"]}),(0,s.jsx)("p",{className:"text-700 m-0",children:"CPU"})]})}),(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("div",{onClick:function(){return Ot("memory")},style:{cursor:"pointer"},className:(Ke.current?"containerSummaryDivHighlight":"")+" card height-100 shadow-4 ml-2 mt-3 px-2 py-2 text-center p-ripple blue",children:[(0,s.jsx)(_.H,{}),(0,s.jsx)(H.G,{icon:F.zvy,className:"text-6xl text-blue-600 mb-2",swapOpacity:!0}),(0,s.jsx)("div",{className:"text-900 font-bold text-lg mb-1 line-height-2 text-center",children:V.t.bytes(null===_e||void 0===_e||null===(n=_e.statsSummary)||void 0===n?void 0:n.memoryUsage)}),(0,s.jsxs)("p",{className:"text-700 m-0",children:["Memory of ",(null===_e||void 0===_e||null===(r=_e.statsSummary)||void 0===r?void 0:r.memoryLimit)?V.t.bytes(null===_e||void 0===_e||null===(o=_e.statsSummary)||void 0===o?void 0:o.memoryLimit):"0Mb"]})]})}),(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("div",{onClick:function(){return Ot("processes")},style:{cursor:"pointer"},className:(ct.current?"containerSummaryDivHighlight":"")+" card height-100 shadow-4 ml-2 mt-3 px-2 py-2 text-center p-ripple orange",children:[(0,s.jsx)(_.H,{}),(0,s.jsx)(H.G,{icon:F.Zrf,className:"text-6xl text-orange-600 mb-2",swapOpacity:!0}),(0,s.jsx)("div",{className:"text-900 font-bold text-2xl mb-1 line-height-2 text-center",children:null===_e||void 0===_e||null===(i=_e.statsSummary)||void 0===i?void 0:i.processes}),(0,s.jsx)("p",{className:"text-700 m-0",children:"Processes"})]})}),(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("div",{onClick:function(){return Ot("disk")},style:{cursor:"pointer"},className:(et.current?"containerSummaryDivHighlight":"")+" card height-100 shadow-4 ml-2 mt-3 px-2 py-2 text-center p-ripple green",children:[(0,s.jsx)(_.H,{}),(0,s.jsx)(H.G,{icon:F.Yws,className:"text-6xl text-green-600 mb-2",swapOpacity:!0}),(0,s.jsxs)("div",{className:"text-900 font-bold text-lg mb-1 line-height-2 text-center",children:[V.t.bytes((null===_e||void 0===_e||null===(l=_e.statsSummary)||void 0===l?void 0:l.diskRead)||0)," read",(0,s.jsx)("br",{}),V.t.bytes((null===_e||void 0===_e||null===(u=_e.statsSummary)||void 0===u?void 0:u.diskWrite)||0)," write"]}),(0,s.jsx)("p",{className:"text-700 m-0",children:"Disk"})]})}),(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("div",{onClick:function(){return Ot("network")},style:{cursor:"pointer"},className:(at.current?"containerSummaryDivHighlight":"")+" card height-100 shadow-4 ml-2 mt-3 px-2 py-2 text-center p-ripple yellow",children:[(0,s.jsx)(_.H,{}),(0,s.jsx)(H.G,{icon:F.kXW,className:"text-6xl text-yellow-600 mb-2",swapOpacity:!0}),(0,s.jsxs)("div",{className:"text-900 font-bold text-lg mb-1 line-height-2 text-center",children:[V.t.bytes(null===_e||void 0===_e||null===(d=_e.statsSummary)||void 0===d?void 0:d.networkRx)," RX",(0,s.jsx)("br",{}),V.t.bytes(null===_e||void 0===_e||null===(m=_e.statsSummary)||void 0===m?void 0:m.networkTx)," TX"]}),(0,s.jsx)("p",{className:"text-700 m-0",children:"Network"})]})}),(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("div",{onClick:function(){return Ot("diskspace")},style:{cursor:"pointer"},className:(mt.current?"containerSummaryDivHighlight":"")+" card height-100 shadow-4 ml-2 mt-3 mr-2 px-2 py-2 text-center p-ripple purple",children:[(0,s.jsx)(_.H,{}),(0,s.jsx)(H.G,{icon:F.Yws,className:"text-6xl text-purple-600 mb-2",swapOpacity:!0}),(0,s.jsxs)("div",{className:"text-900 font-bold text-lg mb-1 line-height-2 text-center",children:[V.t.bytes((null===_e||void 0===_e||null===(p=_e.statsSummary)||void 0===p?void 0:p.diskVolumeSize)+(null===_e||void 0===_e||null===(f=_e.statsSummary)||void 0===f?void 0:f.diskTmpFSizes)),(0,s.jsx)("br",{}),V.t.bytes(null===_e||void 0===_e||null===(h=_e.statsSummary)||void 0===h?void 0:h.diskTotal)]}),(0,s.jsx)("p",{className:"text-700 m-0",children:"Disk Space Used"})]})})]}),!e.showProfiler&&(0,s.jsx)("div",{className:"col-12 mt-1 mb-1"}),e.showProfiler&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"col-12 mt-0 mb-3"}),(0,s.jsx)("div",{className:"surface-color col-12 text-lg text-center pb-3 pr-3",children:k&&(0,s.jsxs)(s.Fragment,{children:[!ze&&(0,s.jsxs)("div",{className:"col-12 text-center text-lg mb-4",children:["As of ",g()(null===yt||void 0===yt?void 0:yt.endDate).format("MM/DD/YYYY hh:mm:ssA")]}),(0,s.jsx)("div",{className:"p-menubar p-component col-12 ml-1 justify-content-center grid",children:(0,s.jsx)("div",{className:"col-12 pl-3 pr-3",children:(0,s.jsxs)("div",{className:"col-12 slider-box pt-1 pb-2",children:[(0,s.jsx)("div",{className:"col-6 text-center ml-auto mr-auto",children:(0,s.jsxs)("div",{className:"col-12 ml-auto mr-auto grid justify-content-center p-0 mt-2 mb-0",children:[(0,s.jsx)("label",{className:"mb-3 mt-0",children:"Profiler"}),(0,s.jsxs)("div",{className:"p-inputgroup ml-auto mr-auto grid justify-content-center text-center",children:[(0,s.jsx)("div",{className:"p-inputgroup-addon",children:"Off"}),(0,s.jsx)("div",{className:"p-inputgroup-addon",children:(0,s.jsx)(X.Q,{tooltip:"Toggles Profiler on or Off. Once started, a job will begin on the backend and send data to the charts. Click the boxes above to toggle charts on or off",className:"ml-auto mr-auto mt-2 mr-4",checked:we,onChange:function(e){return function(e){k.running?e?(N(),qe.current||(Be(!0),Ze(!0),it(!1),Je(!1),rt(!1))):w():(0,se.V)({message:"The container must be running to profile.",header:"Container Not Running",icon:"pi pi-exclamation-triangle",className:"confirm-dialogs",acceptLabel:"Ok",rejectLabel:"",rejectClassName:"confirm-button-hidden",acceptClassName:"p-button-danger"})}(e.value)}})}),!we&&(0,s.jsx)("div",{className:"p-inputgroup-addon",children:"On"}),we&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"p-inputgroup-addon",children:(0,s.jsx)(j.z,{tooltip:"Pause or Resume frontend updates. This simply toggles updates on or off to the frontend. The Profiler will remain running until you turn it off or leave the page. ",onClick:function(){Ce(!Se)},className:"p-button-text p-button-plain p-2 m-0",children:(0,s.jsx)(H.G,{icon:Se?F.zc:F.XQY,className:Se?" text-sm text-blue-600 ":"text-sm text-green-600"})})}),(0,s.jsx)("div",{className:"p-inputgroup-addon",children:(0,s.jsx)(v.L,{name:"tickRate",id:"tickRate",tooltip:"This is the update interval to your charts. Data typically comes in every 1 second and with longer pollings you may want to reduce the update rate to the frontend.",options:[1,2,3,5,10,15,30,60,90,120,180],value:fe,placeholder:"Select an update rate in ticks",onChange:function(e){he(e.value),je(0)},className:"input-fixes"},"tickRate")}),(0,s.jsx)("div",{className:"p-inputgroup-addon",children:(0,s.jsx)(K.G,{style:{width:"20px",height:"20px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"1.1s"})})]})]}),ze&&(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsx)("div",{className:"col-12 text-center pb-0 mb-0",children:(0,s.jsxs)("div",{className:"text-bold text-small ml-2",children:[null===_e||void 0===_e?void 0:_e.sampleIndex," samples"]})})]})]})}),ze&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"col-12 mb-0 mt-0 pb-3 pr-0 mr-0 text-right",children:(0,s.jsx)(j.z,{onClick:function(){ht(!ft)},className:"p-button-text p-button-plain p-2 m-0",children:(0,s.jsx)(H.G,{icon:F.$Ni,className:"text-lg text-blue-600"})})}),(0,s.jsx)("div",{className:"col-12 m-0 p-0 text-center",children:(0,s.jsx)(Z.i,{disabled:!(!we||Re.current),value:xt,max:bt[1],range:bt,onSlideEnd:function(e){return Ht(e.value)},onChange:function(e){return gt(e.value)}})}),(0,s.jsxs)("div",{className:"col-12 grid p-0 m-0 mb-2 mt-4",children:[(0,s.jsx)("div",{className:"col-6 p-0 ml-0 text-left text-sm",children:g()(null===yt||void 0===yt?void 0:yt.startDate).format("MM/DD/YYYY hh:mm:ssA")}),(0,s.jsx)("div",{className:"col-6 p-0 mr-0 text-right text-sm",children:g()(null===yt||void 0===yt?void 0:yt.endDate).format("MM/DD/YYYY hh:mm:ssA")})]})]}),(0,s.jsx)("div",{className:"",children:ze&&ft&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"col-12 grid",children:(0,s.jsx)("div",{className:"col-6 text-left ml-0 mr-auto p-0"})}),(0,s.jsxs)("div",{className:"col-12 grid justify-content-center",children:[(0,s.jsx)("div",{className:"col-3 text-center m-auto",children:(0,s.jsxs)("div",{className:"p-inputgroup col-12",children:[(0,s.jsx)("div",{className:"p-inputgroup-addon",children:"Animation s:"}),(0,s.jsx)(Q.R,{min:0,max:1e7,placeholder:"Animation",step:1,useGrouping:!1,showButtons:!0,value:Pe,className:"ml-auto mr-auto form-control f-height-inputs",onChange:function(e){De(e.value),At()}})]})}),(0,s.jsx)("div",{className:"col-3 text-center m-auto ",children:(0,s.jsxs)("div",{className:"p-inputgroup col-12",children:[(0,s.jsx)("div",{className:"p-inputgroup-addon",children:"Tension:"}),(0,s.jsx)(Q.R,{min:0,max:100,placeholder:"Line Tension",step:.001,mode:"decimal",useGrouping:!1,showButtons:!0,value:Te,className:"ml-auto mr-auto form-control f-height-inputs",onChange:function(e){Ee(e.value),At()}})]})}),(0,s.jsx)("div",{className:"col-6",children:(0,s.jsxs)("div",{className:"col-12 grid",children:[(0,s.jsx)("div",{className:"col-6",children:(0,s.jsxs)("div",{className:"p-inputgroup mt-3",children:[(0,s.jsx)("div",{className:"p-inputgroup-addon",children:"Reset:"}),(0,s.jsx)(j.z,{label:"Reset",onClick:function(){return function(){var e=Fe.current;e.chartData={dates:[],cpu:[],memoryPercent:[],processes:[],diskRead:[],diskWrite:[],networkTx:[],networkRx:[],diskUsed:[],diskImage:[],diskLabels:[],diskUsage:[]},He(e),At()}()}})]})}),(0,s.jsx)("div",{className:"col-6 text-right ml-auto mr-0 p-0",children:(0,s.jsx)($.U,{className:"mt-4",value:de,options:["Grid","List"],onChange:function(e){return _t(e)}})})]})})]})]})})]})})}),(0,s.jsxs)("div",{className:"col-12 m-0 p-0 grid",children:[Ye&&(0,s.jsx)("div",{className:Ft,children:(0,s.jsx)(J.v,{ref:D,className:"m-4",statsCPU:_e.chartData.cpu,statsDates:_e.chartData.dates,startDate:yt.startDate,endDate:yt.endDate,animationTime:Pe,lineTension:Te,chartColor:Me.cpu})}),Xe&&(0,s.jsx)("div",{className:Ft,children:(0,s.jsx)(ee.i,{ref:L,className:"m-4",statsMemory:_e.chartData.memoryPercent,statsDates:_e.chartData.dates,startDate:yt.startDate,endDate:yt.endDate,animationTime:Pe,lineTension:Te,chartColor:Me.memory})}),Qe&&(0,s.jsx)("div",{className:Ft,children:(0,s.jsx)(te.m,{className:"m-4",statsDiskInput:_e.chartData.diskWrite,statsDiskOutput:_e.chartData.diskRead,statsDates:_e.chartData.dates,startDate:yt.startDate,endDate:yt.endDate,animationTime:Pe,lineTension:Te,chartColorInput:Me.diskInput,chartColorOutput:Me.diskOutput})}),nt&&(0,s.jsx)("div",{className:Ft,children:(0,s.jsx)(re.O,{ref:E,className:"m-4",statsNetworkTx:_e.chartData.networkTx,statsNetworkRx:_e.chartData.networkRx,statsDates:_e.chartData.dates,startDate:yt.startDate,endDate:yt.endDate,animationTime:Pe,lineTension:Te,chartColorTx:Me.networkTx,chartColorRx:Me.networkRx})}),ot&&(0,s.jsx)("div",{className:Ft,children:(0,s.jsx)(ne.z,{className:"m-4",ref:T,statsProcesses:_e.chartData.processes,statsDates:_e.chartData.dates,startDate:yt.startDate,endDate:yt.endDate,animationTime:Pe,lineTension:Te,chartColor:Me.processes})}),ut&&(0,s.jsx)("div",{className:Ft,children:(0,s.jsx)(ae.t,{className:"m-4",statsDiskLabels:_e.diskLabels,statsDiskUsage:_e.diskUsage,statsDiskOther:_e.diskOther,statsDiskType:_e.diskTypes,startDate:yt.startDate,endDate:yt.endDate,animationTime:Pe,lineTension:Te})})]})]})})]})]})})})})})}var de=n(87536),me=n(95496),pe=n(74231),fe=n(25600),he=n(46479);function ve(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function xe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){ve(s,r,a,o,i,"next",e)}function i(e){ve(s,r,a,o,i,"throw",e)}o(void 0)}))}}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(){return je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ge(e,t,n[t])}))}return e}function Ne(e){var t=function(e){var t;(null===N||void 0===N?void 0:N.current)&&N.current.emit("docker",{command:"execContainer",containerId:h.current.containerId,containerLongId:h.current.containerLongId,execCommand:e,hostId:null===(t=h.current.host)||void 0===t?void 0:t.id,callback:"dockerResulsExec_"+d.current,hook:"execContainer"})},n=je({},e),r=(0,c.useRef)(null),i=(0,c.useState)(),l=i[0],u=i[1],d=(0,c.useRef)(l);d.current=l;var m=(0,c.useState)(),p=m[0],f=m[1],h=(0,c.useRef)(p);h.current=p;var v=(0,c.useState)(),x=v[0],g=v[1],N=(0,c.useRef)(x);N.current=x;var w=(0,c.useState)(!1),y=w[0],k=w[1],S=(0,c.useState)()[0];(0,c.useRef)(S).current=S;var C=(0,c.useState)(!0),R=C[0],I=C[1];(0,c.useRef)(R).current=R;var P=(0,c.useState)(!1),D=P[0],L=P[1],T=(0,c.useState)()[0];(0,c.useRef)(T).current=T;var E=pe.Ry({command:pe.Z_().required()}).required(),M=(0,de.cI)({resolver:(0,me.X)(E)}),O=M.register,A=M.handleSubmit,_=M.formState.errors;function H(){return F.apply(this,arguments)}function F(){return(F=xe(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=2;break}return e.abrupt("return");case 2:return k(!0),t="dockerResulsExec_"+d.current,e.next=6,b.L.getSocket();case 6:return(n=e.sent).on(t,(function(e){setTimeout((function(){L(!1)}),500),"success"===e.status&&e.data})),g(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)(xe(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(),(null===(t=n.container)||void 0===t?void 0:t.id)&&(u(n.container.id),f(n.container),y||setTimeout((function(){H()}),500)),I(!1);case 4:case"end":return e.stop()}}),e)}))),[n.container]),(0,c.useEffect)((function(){return function(){if(N.current){var e="dockerResulsExec_"+d.current;N.current.removeListener(e)}}}),[]);var V=function(){r.current&&r.current.clear()};return R?(0,s.jsx)(o.$,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"m-0s p-0",children:(0,s.jsx)("div",{className:"p-0 pt-0 mt-0",children:(0,s.jsx)("form",{onSubmit:A((function(e){L(!0),t(e.command)})),children:(0,s.jsxs)("div",{className:"p-fluid p-formgrid p-grid mt-0 pt-0 ml-auto mr-auto jc-center",children:[(0,s.jsx)("div",{className:"form-group",children:(0,s.jsxs)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:[(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon input-text-dark-label",children:(0,s.jsx)("i",{className:"fa fa-terminal p-3"})}),(0,s.jsx)(fe.o,be({id:"command",name:"command",type:"text",disabled:D,placeholder:"Execute command in container",required:!0},O("command"),{className:"input-text-dark ".concat(_.command?"p-invalid":"")})),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,s.jsx)(j.z,{disabled:D,className:"p-button p-button-primary p-2 height-100",type:"submit",label:"Exec"})})]}),(0,s.jsx)("div",{className:"col-12 text-center",children:"Command output is not returned. Only notice of the command execution."})]})}),(0,s.jsx)(he.V,{ref:r})]})})})})})}var we=n(46374);function ye(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){ye(s,r,a,o,i,"next",e)}function i(e){ye(s,r,a,o,i,"throw",e)}o(void 0)}))}}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Se(e,t,n[t])}))}return e}function Re(e){var t=function(e){var t;(null===g||void 0===g?void 0:g.current)&&g.current.emit("docker",{command:"renameContainer",containerId:f.current.containerId,containerLongId:f.current.containerLongId,hostId:null===(t=f.current.host)||void 0===t?void 0:t.id,name:e,callback:"dockerResulRenameContainer_"+f.current.id,hook:"renameContainer"})},n=(0,c.useRef)(null),r=(0,c.useState)(),i=r[0],l=r[1],u=(0,c.useRef)(i);u.current=i;var d=(0,c.useState)(),m=d[0],p=d[1],f=(0,c.useRef)(m);f.current=m;var h=(0,c.useState)(),v=h[0],x=h[1],g=(0,c.useRef)(v);g.current=v;var N=(0,c.useState)(!1),w=N[0],y=N[1],k=(0,c.useState)()[0];(0,c.useRef)(k).current=k;var S=(0,c.useState)(!0),C=S[0],R=S[1];(0,c.useRef)(C).current=C;var I=(0,c.useState)(!1),P=I[0],D=I[1],L=(0,c.useState)()[0];(0,c.useRef)(L).current=L;var T=pe.Ry({name:pe.Z_().required()}).required(),E=(0,de.cI)({resolver:(0,me.X)(T)}),M=E.register,O=E.handleSubmit,A=E.formState.errors;function _(){return H.apply(this,arguments)}function H(){return(H=ke(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:return y(!0),t="dockerResulRenameContainer_"+u.current,e.next=6,b.L.getSocket();case 6:return(n=e.sent).on(t,(function(e){setTimeout((function(){D(!1)}),500),"success"===e.status&&e.data})),x(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)(ke(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:F(),(null===(n=e.container)||void 0===n?void 0:n.id)&&(l(e.container.id),p(e.container),w||setTimeout((function(){_()}),500)),R(!1);case 4:case"end":return t.stop()}}),t)}))),[e.container]),(0,c.useEffect)((function(){return function(){if(g.current){var e="dockerResulRenameContainer_"+u.current;g.current.removeListener(e)}}}),[]);var F=function(){n.current&&n.current.clear()};return C?(0,s.jsx)(o.$,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"m-0s p-0",children:(0,s.jsx)("div",{className:"p-0 pt-0 mt-0",children:(0,s.jsx)("form",{onSubmit:O((function(e){D(!0),t(e.name)})),children:(0,s.jsxs)("div",{className:"p-fluid p-formgrid p-grid mt-0 pt-0 ml-auto mr-auto jc-center",children:[(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon",children:"Container Name:"}),(0,s.jsx)(fe.o,Ce({id:"name",name:"name",type:"text",disabled:P,placeholder:"Rename Container",required:!0},M("name",{value:f.current.name}),{className:" ".concat(A.name?"p-invalid":"p-1")})),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,s.jsx)(j.z,{disabled:P,className:"p-button p-button-primary p-2 height-100",type:"submit",label:"Rename"})})]})})}),(0,s.jsx)(he.V,{ref:n})]})})})})})}var Ie=n(13413);function Pe(e){var t,n=(0,c.useState)(),r=n[0],a=n[1],o=(0,c.useState)("list")[0];if((0,c.useEffect)((function(){a(e.container)}),[e.container]),!r)return(0,s.jsx)("div",{});var i=""+r.networks.length;return i+=(r.networks.length," Networks"),(null===r||void 0===r||null===(t=r.networks)||void 0===t?void 0:t.length)<1?(0,s.jsx)("div",{className:"col-12 text-center",children:"Container does not belong to any networks."}):(0,s.jsx)(s.Fragment,{children:r.networks.length>0&&(0,s.jsx)(f.s,{header:i,collapsed:!1,toggleable:!0,children:(0,s.jsx)("div",{className:"col-12 m-0 p-0",children:(0,s.jsx)("div",{className:"card p-0 m-0",children:(0,s.jsx)(A.V,{value:r.networks,layout:o,itemTemplate:function(e,t){var n;if(e)return"list"===t?(n=e,(0,s.jsx)("div",{className:"col-12 pt-2 pl-3 flex datatable-hover",children:(0,s.jsx)("div",{className:"col-12 pl-0 mr-auto grid",children:(0,s.jsx)(Ie.Z,{network:n,activeContainer:r.id})})})):void 0},paginator:!1,rows:100})})})})})}var De=n(74420),Le=n(63861),Te=n(30022),Ee=n(84283);function Me(e){var t=(0,c.useRef)(null),n=(0,c.useState)(),r=n[0],a=n[1],o=(0,c.useState)("No message provied."),i=o[0],l=o[1];return(0,c.useEffect)((function(){e.showError&&(a(e.showError),l(e.errorMessage))}),[e.showError,e.errorMessage]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)(De.F,{ref:t}),(0,s.jsx)(Le.V,{header:"Error Message",visible:r,style:{width:"70vw"},onHide:function(){a(!1),e.triggerParentUpdate(),a(!1)},children:(0,s.jsx)(Te.Z,{className:"m-0 p-4",language:"html",style:Ee.RY,showLineNumbers:!1,wrapLines:!0,wrapLongLines:!0,children:i})})]})})}function Oe(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function Ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){Oe(s,r,a,o,i,"next",e)}function i(e){Oe(s,r,a,o,i,"throw",e)}o(void 0)}))}}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_e(e,t,n[t])}))}return e}function Fe(e){var t=function(e){var t;(null===C||void 0===C?void 0:C.current)&&C.current.emit("docker",{command:"updateContainer",containerId:N.current.containerId,hostId:null===(t=N.current.host)||void 0===t?void 0:t.id,data:e,callback:"dockerResultUpdateContainer_"+N.current.id,hook:"updateContainer",errorHandler:"dockerResultUpdateContainer_"+N.current.id})},n=(0,c.useRef)(null),r=(0,c.useRef)(null),i=(0,c.useState)(),l=i[0],u=i[1],d=(0,c.useRef)(l);d.current=l;var m=(0,c.useState)(!1),p=m[0],f=m[1],h=(0,c.useRef)(p);h.current=p;var v=(0,c.useState)(),x=v[0],g=v[1],N=(0,c.useRef)(x);N.current=x;var w=(0,c.useState)(),y=w[0],S=w[1],C=(0,c.useRef)(y);C.current=y;var R=(0,c.useState)(!1),I=R[0],P=R[1],D=(0,c.useState)(),L=D[0],T=D[1];(0,c.useRef)(L).current=L;var E=(0,c.useState)(),M=E[0],O=E[1];(0,c.useRef)(M).current=M;var A=(0,c.useState)(!0),_=A[0],z=A[1];(0,c.useRef)(_).current=_;var U=(0,c.useState)(!1),G=U[0],Y=U[1],B=(0,c.useState)()[0];(0,c.useRef)(B).current=B;var q=(0,c.useState)("Megabytes"),W=q[0],X=q[1],K=(0,c.useRef)(W);K.current=W;var $=(0,c.useState)(1e-6),J=$[0],ee=$[1],te=(0,c.useRef)(J);te.current=J;var ne=(0,c.useState)(18e8),re=ne[0],ae=ne[1],se=(0,c.useRef)(re);se.current=re;var oe=(0,c.useState)(18e8),ie=oe[0],ce=oe[1],le=(0,c.useRef)(ie);le.current=ie;var ue=(0,c.useState)(18e8),ve=ue[0],xe=ue[1],ge=(0,c.useRef)(ve);ge.current=ve;var je=(0,c.useState)(0),be=je[0],Ne=je[1],we=(0,c.useRef)(be);we.current=be;var ye=(0,c.useState)(1e4),ke=ye[0],Se=ye[1],Ce=(0,c.useRef)(ke);Ce.current=ke;var Re=(0,c.useState)(0),Ie=Re[0],Pe=Re[1],Le=(0,c.useRef)(Ie);Le.current=Ie;var Te=(0,c.useState)(0)[0],Ee=(0,c.useRef)(Te);Ee.current=Te;var Oe=(0,c.useState)(1e4),_e=Oe[0],Fe=Oe[1],Ve=(0,c.useRef)(_e);Ve.current=_e;var ze=(0,c.useState)(0),Ue=ze[0],Ge=ze[1];(0,c.useRef)(Ue).current=Ue;var Ye=(0,c.useState)(1e6),Be=Ye[0],qe=Ye[1],We=(0,c.useRef)(Be);We.current=Be;var Xe=(0,c.useState)(1e6),Ze=Xe[0],Ke=Xe[1],$e=(0,c.useRef)(Ze);$e.current=Ze;var Qe=(0,c.useState)(1e4),Je=Qe[0],et=Qe[1],tt=(0,c.useRef)(Je);tt.current=Je;var nt=(0,c.useState)(0),rt=nt[0],at=nt[1],st=(0,c.useRef)(rt);st.current=rt;var ot=(0,c.useState)(18e9)[0],it=(0,c.useState)(18e9)[0],ct=(0,c.useState)(!1),lt=ct[0],ut=ct[1],dt=(0,c.useRef)(lt);dt.current=lt;var mt=(0,c.useState)([]),pt=mt[0],ft=mt[1],ht=pe.Ry({name:pe.Z_().required()}).required(),vt=(0,de.cI)({resolver:(0,me.X)(ht)}),xt=vt.register,gt=vt.handleSubmit,jt=vt.formState.errors;function bt(){return Nt.apply(this,arguments)}function Nt(){return(Nt=Ae(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=2;break}return e.abrupt("return");case 2:return P(!0),t="dockerResultUpdateContainer_"+d.current,e.next=6,b.L.getSocket();case 6:return(n=e.sent).on(t,(function(e){setTimeout((function(){Y(!1)}),500),console.debug("Results",e),"success"===e.status?(f(!1),e.data&&r.current.show({severity:"success",summary:"Success",detail:"Container Settings Applied",life:4e3})):(T(e.error),O(!0))})),S(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)(Ae(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==h.current){t.next=3;break}return t.abrupt("return");case 3:wt(),(null===(n=e.container)||void 0===n?void 0:n.id)&&(u(e.container.id),g(e.container),I||setTimeout((function(){bt()}),500)),setTimeout((function(){yt(),kt()}),200),z(!1);case 7:case"end":return t.stop()}}),t)}))),[e.container,W]),(0,c.useEffect)((function(){return function(){if(C.current){var e="dockerResultUpdateContainer_"+d.current;C.current.removeListener(e)}}}),[]);var wt=function(){n.current&&n.current.clear()},yt=function(){var e,t,n,r,a,s,o,i,c,l,u,d,m,p,f,h,v,x,g,j,b,w,y,k,S,C,R,I,P,D,L,T,E,M,O,A,_,H,F;ae((null===(e=N.current)||void 0===e||null===(t=e.details)||void 0===t||null===(n=t.HostConfig)||void 0===n?void 0:n.Memory)*J),xe((null===(r=N.current)||void 0===r||null===(a=r.details)||void 0===a||null===(s=a.HostConfig)||void 0===s?void 0:s.MemoryReservation)*J),ce((null===(o=N.current)||void 0===o||null===(i=o.details)||void 0===i||null===(c=i.HostConfig)||void 0===c?void 0:c.MemorySwap)*J),Ne((null===(l=N.current)||void 0===l||null===(u=l.details)||void 0===u||null===(d=u.HostConfig)||void 0===d?void 0:d.MemorySwappiness)||0),Se(null===(m=N.current)||void 0===m||null===(p=m.details)||void 0===p||null===(f=p.HostConfig)||void 0===f?void 0:f.CpuShares),Fe(null===(h=N.current)||void 0===h||null===(v=h.details)||void 0===v||null===(x=v.HostConfig)||void 0===x?void 0:x.CpuQuota),Ge(null===(g=N.current)||void 0===g||null===(j=g.details)||void 0===j||null===(b=j.HostConfig)||void 0===b?void 0:b.CpuPeriod),Ge(null===(w=N.current)||void 0===w||null===(y=w.details)||void 0===y||null===(k=y.HostConfig)||void 0===k?void 0:k.CpuPercent),Pe(null===(S=N.current)||void 0===S||null===(C=S.details)||void 0===C||null===(R=C.HostConfig)||void 0===R?void 0:R.CpuCount),qe(null===(I=N.current)||void 0===I||null===(P=I.details)||void 0===P||null===(D=P.HostConfig)||void 0===D?void 0:D.CpuRealtimePeriod),Ke(null===(L=N.current)||void 0===L||null===(T=L.details)||void 0===T||null===(E=T.HostConfig)||void 0===E?void 0:E.CpuRealtimeRuntime),et(null===(M=N.current)||void 0===M||null===(O=M.details)||void 0===O||null===(A=O.HostConfig)||void 0===A?void 0:A.BlkioWeight),at(null===(_=N.current)||void 0===_||null===(H=_.details)||void 0===H||null===(F=H.HostConfig)||void 0===F?void 0:F.PidsLimit)},kt=function(){var e=[],t="Bytes"===K.current?"p-button-outlined p-button-raised p-button p-button-primary p-0":"";e.push({label:"Bytes",className:t,command:function(){St("Bytes")}}),t="Kilobytes"===K.current?"p-button-outlined p-button-raised p-button p-button-primary p-0":"",e.push({label:"Kilobytes",className:t,command:function(){St("Kilobytes")}}),t="Megabytes"===K.current?"p-button-outlined p-button-raised p-button p-button-primary p-0":"",e.push({label:"Megabytes",className:t,command:function(){St("Megabytes")}}),t="Gigabytes"===K.current?"p-button-outlined p-button-raised p-button p-button-primary p-0":"",e.push({label:"Gigabytes",className:t,command:function(){St("Gigabytes")}}),ft(e)},St=function(e){switch(X(e),e){case"Bytes":ee(1);break;case"Kilobytes":ee(.001);break;case"Megabytes":ee(1e-6);break;case"Gigabytes":ee(9.765625e-10)}};return _?(0,s.jsx)(o.$,{}):x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(De.F,{ref:r}),(0,s.jsx)(Me,{errorMessage:L,showError:M,triggerParentUpdate:function(){O(!1)}}),(0,s.jsx)("div",{className:"m-0s p-0",children:(0,s.jsxs)("div",{className:"p-0 pt-0 mt-0",children:[(0,s.jsx)("div",{className:"col-12 text-right p-0 pr-2 mb-3",children:(0,s.jsxs)(j.z,{onClick:function(){ut(!dt.current)},children:[(0,s.jsx)(H.G,{className:"mr-2 text-xl",icon:F.Fuz}),"Help"]})}),(0,s.jsx)("form",{onSubmit:gt((function(){Y(!0);var e={BlkioWeight:tt.current,CpuShares:Ce.current,CpuPeriod:Ee.current,CpuQuota:Ve.current,CpuRealtimePeriod:We.current,CpuRealtimeRuntime:$e.current,CpuCount:Le.current,Memory:se.current/te.current,MemorySwap:le.current/te.current,MemoryReservation:ge.current/te.current,MemorySwappiness:we.current,PidsLimit:st.current};t(e)})),children:(0,s.jsxs)("div",{className:"p-fluid p-formgrid p-grid mt-0 pt-0 ml-auto mr-auto jc-center",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("h6",{children:"Container Name"}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Container Name:"}),(0,s.jsx)(fe.o,He({id:"name",name:"name",type:"text",disabled:G,placeholder:"Rename Container",required:!0},xt("name",{value:N.current.name}),{className:" ".concat(jt.name?"p-invalid":"p-1")})),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(j.z,{disabled:G,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Rename"})})]})}),lt&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"Changes the container name."})]}),(0,s.jsxs)("div",{className:"form-group col-12 p-0 mt-5",children:[(0,s.jsx)("h6",{className:"ml-2",children:"Memory Limits"}),(0,s.jsx)("div",{className:"col-12 p-0 m-0 mt-3",children:(0,s.jsx)(k.n,{start:(0,s.jsx)("div",{className:"mr-3",children:"Memory Size"}),model:pt,label:"foo",buttonClassName:"p-button-info",className:"col-12 mb-2 ml-0 mr-0 justify-content-center menubar-menu"})}),(0,s.jsxs)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:[(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",tooltip:"Memory limit in bytes. Default 0",children:"Memory:"}),(0,s.jsx)(Q.R,{min:0,inputId:"MemoryLimit",max:ot,placeholder:"Memory Limit",step:1,useGrouping:!1,showButtons:!1,value:re,tooltip:"Memory limit in bytes. Default 0",onChange:function(e){ae(e.value*J)},disabled:G},"memoryLimit"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:K.current}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Z.i,{value:re/J,max:ot,tooltip:"Memory limit in bytes. Default 0",onChange:function(e){ae(e.value*J)},disabled:G})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:V.t.bytes(re/J)}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[V.t.bytes(ot)," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(se.current/J/ot*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(j.z,{disabled:G,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]}),lt&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"Allows you to specify a soft limit smaller than --memory which is activated when Docker detects contention or low memory on the host machine. If you use --memory-reservation, it must be set lower than --memory for it to take precedence. Because it is a soft limit, it does not guarantee that the container doesn\u2019t exceed the limit."})]}),(0,s.jsxs)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:[(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Memory Reservation:"}),(0,s.jsx)(Q.R,{min:se.current,inputId:"memoryReservationLimit",max:ot,placeholder:"Memory Reservation",step:1,useGrouping:!1,showButtons:!1,value:ge.current,tooltip:"Memory soft limit in bytes.",onChange:function(e){xe(e.value*J)},disabled:G},"memoryReservationLimit"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:K.current}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Z.i,{value:ge.current/J,max:ot,onChange:function(e){xe(e.value*J)},disabled:G})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:V.t.bytes(ge.current/J)}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[V.t.bytes(ot)," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(ge.current/J/ot*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(j.z,{disabled:G,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]}),lt&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"Allows you to specify a soft limit smaller than --memory which is activated when Docker detects contention or low memory on the host machine. If you use --memory-reservation, it must be set lower than --memory for it to take precedence. Because it is a soft limit, it does not guarantee that the container doesn\u2019t exceed the limit."})]}),(0,s.jsxs)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:[(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Memory Swap:"}),(0,s.jsx)(Q.R,{min:0,inputId:"MemorySwapLimit",max:ot,placeholder:"Memory Swap Limit",step:1,useGrouping:!1,showButtons:!1,value:ie,tooltip:"Total memory limit (memory + swap). Set as -1 to enable unlimited swap.",onChange:function(e){return ce(e.value*J)},disabled:G},"memorySwapLimit"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:K.current}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Z.i,{tooltip:"Memory Swap Limit cannot be less than Memory Limit",value:ie/J,max:ot,min:0,onChange:function(e){ce(e.value*J)},disabled:G})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:V.t.bytes(le.current/J)}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[V.t.bytes(ot)," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(le.current/J/ot*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(j.z,{disabled:G,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]}),lt&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"The amount of memory this container is allowed to swap to disk. See --memory-swap details."})]}),(0,s.jsxs)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:[(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Memory Swappiness:"}),(0,s.jsx)(Q.R,{min:0,inputId:"memorySwappinessLimit",max:100,placeholder:"Memory Swappiness",step:1,useGrouping:!1,showButtons:!1,value:be,tooltip:"Tune a container's memory swappiness behavior. Accepts an integer between 0 and 100",onChange:function(e){return Ne(e.value)},disabled:G},"memorySwappinessLimit"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"Integer"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Z.i,{value:be,max:100,onChange:function(e){Ne(e.value)},disabled:G})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:we.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[100," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(we.current/100*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(j.z,{disabled:G,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]}),lt&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"By default, the host kernel can swap out a percentage of anonymous pages used by a container. You can set --memory-swappiness to a value between 0 and 100, to tune this percentage. See --memory-swappiness details."})]})]}),(0,s.jsxs)("div",{className:"formGroup mt-3",children:[(0,s.jsx)("h6",{className:"ml-2",children:"CPU Limits"}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"CPU Count:"}),(0,s.jsx)(Q.R,{min:0,inputId:"CPU Count",max:16,placeholder:"CPU Count",step:1,useGrouping:!1,showButtons:!1,value:Le.current,tooltip:"The number of usable CPUs (Windows only). On Windows Server containers, the processor resource controls are mutually exclusive. The order of precedence is CPUCount first, then CPUShares, and CPUPercent last.",onChange:function(e){return Pe(e.value)},disabled:G},"cpuCount"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"CPUs"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Z.i,{value:Le.current,max:16,onChange:function(e){Pe(e.value)},disabled:G})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:Le.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[16," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(Le.current/16*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(j.z,{disabled:G,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]})}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"CPU Shares:"}),(0,s.jsx)(Q.R,{min:0,inputId:"CPU Shares",max:1e4,placeholder:"CPU Shares",step:1,useGrouping:!1,showButtons:!1,value:Ce.current,tooltip:"An integer value representing this container's relative CPU weight versus other containers. 0-1000",onChange:function(e){return Se(e.value)},disabled:G},"cpuShares"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"bytes"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Z.i,{value:Ce.current,max:1e4,onChange:function(e){Se(e.value)},disabled:G})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:Ce.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[1e4," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(Ce.current/1e4*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(j.z,{disabled:G,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]})}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"CPU Quota:"}),(0,s.jsx)(Q.R,{min:0,inputId:"CPUQuota",max:it,placeholder:"CPU Quota",step:1,useGrouping:!1,showButtons:!1,value:Ve.current,tooltip:"Microseconds of CPU time that the container can get in a CPU period.",onChange:function(e){(null===e||void 0===e?void 0:e.value)&&Fe(e.value)},disabled:G},"cpuQuota"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"bytes"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Z.i,{value:Ve.current,min:0,max:it,onChange:function(e){(null===e||void 0===e?void 0:e.value)&&Fe(e.value)},disabled:G})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:Ve.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[it," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(Ve.current/it*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(j.z,{disabled:G,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]})}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"CPU Realtime Period:"}),(0,s.jsx)(Q.R,{min:0,inputId:"CPURealTime",max:1e6,placeholder:"CPU Realtime Period",step:1,useGrouping:!1,showButtons:!1,value:We.current,tooltip:"The length of a CPU real-time period in microseconds. Set to 0 to allocate no time allocated to real-time tasks.",onChange:function(e){return qe(e.value)},disabled:G},"cpuRealtimePeriod"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"Integer"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Z.i,{value:We.current,max:1e6,onChange:function(e){qe(e.value)},disabled:G})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:We.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[1e6," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(We.current/1e6*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(j.z,{disabled:G,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]})}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"CPU Realtime Runtime:"}),(0,s.jsx)(Q.R,{min:0,inputId:"CPURealtimeRuntime",max:1e6,placeholder:"CPU Realtime Runtime",step:1,useGrouping:!1,showButtons:!1,value:$e.current,tooltip:"The length of a CPU real-time runtime in microseconds. Set to 0 to allocate no time allocated to real-time tasks.",onChange:function(e){return Ke(e.value)},disabled:G},"cpuRealtimeRuntime"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"Integer"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Z.i,{value:$e.current,max:1e6,onChange:function(e){Ke(e.value)},disabled:G})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:$e.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[1e6," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round($e.current/1e6*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(j.z,{disabled:G,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]})})]}),(0,s.jsxs)("div",{className:"formGroup mt-3",children:[(0,s.jsx)("h6",{className:"ml-2",children:"Block IO"}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Block IO Weight:"}),(0,s.jsx)(Q.R,{min:0,inputId:"BlockIOWeight",max:1e3,placeholder:"Block IO Weight",step:1,useGrouping:!1,showButtons:!1,value:Je,tooltip:"Block IO weight (relative weight).",onChange:function(e){return et(e.value)},disabled:G},"blkIoWeight"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"Integer"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Z.i,{value:Je,max:1e3,onChange:function(e){et(e.value)},disabled:G})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:tt.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[1e3," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(tt.current/1e3*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(j.z,{disabled:G,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]})})]}),(0,s.jsxs)("div",{className:"formGroup mt-3",children:[(0,s.jsx)("h6",{className:"ml-2",children:"Processes"}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Pid Limit:"}),(0,s.jsx)(Q.R,{min:-1,inputId:"PidLimit",max:500,placeholder:"PID Limit",step:1,useGrouping:!1,showButtons:!1,value:rt,disabled:G,tooltip:"Tune a container's PIDs limit. Set 0 or -1 for unlimited, or null to not change.",onChange:function(e){return at(e.value)}},"pidLimit"),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:"Integer"}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-3",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Z.i,{value:rt,max:500,min:-1,onChange:function(e){at(e.value)}})})})}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:st.current}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[500," Max"]}),(0,s.jsxs)("span",{className:"p-inputgroup-addon col-1",children:[Math.round(st.current/500*100),"% "]}),(0,s.jsx)("span",{className:"p-inputgroup-addon col-1",children:(0,s.jsx)(j.z,{disabled:G,className:"p-button p-button-primary p-2 height-100 width-100",type:"submit",label:"Apply"})})]})})]}),(0,s.jsx)(he.V,{ref:n})]})})]})})]}):(0,s.jsx)("div",{children:"No Container"})}var Ve=n(5945);function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function Ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){Ue(s,r,a,o,i,"next",e)}function i(e){Ue(s,r,a,o,i,"throw",e)}o(void 0)}))}}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ye(e,t,n[t])}))}return e}function qe(e){return function(e){if(Array.isArray(e))return ze(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e){var t,n,r=function(){if(null===g||void 0===g?void 0:g.current){var e,t={command:"inspect",containerId:g.current.containerId,containerLongId:g.current.containerLongId,hostId:null===(e=g.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+g.current.id,hook:"inspectContainer"};q.current.emit("docker",t)}},i=function(e,t){var n;(null===q||void 0===q?void 0:q.current)&&q.current.emit("docker",{command:"connectContainerNetwork",containerId:g.current.containerId,containerLongId:g.current.containerLongId,hostId:null===(n=g.current.host)||void 0===n?void 0:n.id,networkId:t,data:e,errorHandler:"dockerResulNetworkConnectContainer_"+g.current.id,callback:"dockerResulNetworkConnectContainer_"+g.current.id,hook:"renameContainer"})},l=(0,c.useRef)(null),u=(0,c.useState)(),d=u[0],m=u[1],p=(0,c.useRef)(d);p.current=d;var f=(0,c.useState)(),h=f[0],x=f[1],g=(0,c.useRef)(h);g.current=h;var N=(0,c.useState)()[0];(0,c.useRef)(N).current=N;var w=(0,c.useState)(),y=w[0],k=w[1];(0,c.useRef)(y).current=y;var C=(0,c.useState)({}),R=C[0],I=C[1],P=(0,c.useRef)(R);P.current=R;var D=(0,c.useState)([])[0];(0,c.useRef)(D).current=D;var L=(0,S.v9)((function(e){return e.networks})),T=(0,S.v9)((function(e){return e.hosts.activeHost}));(0,c.useRef)(T).current=T;var E=(0,c.useState)(),M=E[0],O=E[1],A=(0,c.useRef)(M);A.current=M;var _=(0,c.useState)(),V=_[0],z=_[1],U=(0,c.useRef)(V);U.current=V;var G=(0,c.useState)(),Y=G[0],B=G[1],q=(0,c.useRef)(Y);q.current=Y;var W=(0,c.useState)(!1),X=W[0],Z=W[1],K=(0,c.useState)()[0];(0,c.useRef)(K).current=K;var $=(0,c.useState)(!0),Q=$[0],J=$[1];(0,c.useRef)(Q).current=Q;var ee=(0,c.useState)(!1),te=ee[0],ne=ee[1],re=(0,c.useState)(!1),ae=re[0],oe=re[1],ie=(0,c.useState)()[0];(0,c.useRef)(ie).current=ie;var ce=(0,c.useState)(!1),le=ce[0],ue=ce[1],ve=(0,c.useRef)(le);ve.current=le;var xe=(0,c.useState)({ipAddress:null,networkId:null,endpointID:null,gateway:null}),ge=xe[0],je=xe[1],be=(0,c.useRef)(ge);be.current=ge;var Ne=(0,c.useState)(!1),we=Ne[0],ye=Ne[1],ke=(0,c.useState)(1),Se=ke[0],Ce=ke[1],Re=(0,c.useState)(1),Ie=Re[0],Pe=Re[1];function De(){return Le.apply(this,arguments)}function Le(){return(Le=Ge(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=2;break}return e.abrupt("return");case 2:return Z(!0),t="dockerResulNetworkConnectContainer_"+p.current,e.next=6,b.L.getSocket();case 6:return(n=e.sent).on(t,(function(e){setTimeout((function(){ne(!1)}),500),"fail"===e.status&&((0,se.V)({className:"confirm-dialogs",message:e.error,header:"Docker Error",icon:"pi pi-exclamation-check",acceptLabel:"Ok",rejectLabel:"",rejectClassName:"confirm-button-hidden",acceptClassName:"p-button-danger",accept:function(){}}),J(!1)),r()})),B(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)(Ge(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ee(),(null===(n=e.container)||void 0===n?void 0:n.id)&&(m(e.container.id),x(e.container),X||setTimeout((function(){De()}),500)),J(!1);case 4:case"end":return t.stop()}}),t)}))),[e.container]),(0,c.useEffect)((function(){var e,t=Be({},L);if(T&&L&&h){t=L[g.current.host.id].networks;var n=Object.keys(t).map((function(e){return t[e]}));n.sort((function(e,t){return e.name||(e.name="Unknown"),e.name.localeCompare(t.name)}));var r=null===(e=g.current)||void 0===e?void 0:e.networks.map((function(e){return e.id})),a=n.filter((function(e){if(!r.includes(e.id)){var t=Be({},e);return t.name=e.name+" ["+e.networkId.substring(0,12)+"]",t}}));0===a.length&&(a=n),O(a),setTimeout((function(){V||(z(a[0]),Q&&J(!1),Me())}))}}),[L,h]),(0,c.useEffect)(Ge(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Me();case 1:case"end":return e.stop()}}),e)}))),[V]),(0,c.useEffect)((function(){return function(){if(q.current){var e="dockerResulNetworkConnectContainer_"+p.current;q.current.removeListener(e)}}}),[]);var Te,Ee=function(){l.current&&l.current.clear()},Me=function(){var e,t,n,r,a,s,o,i,c=Be({},ge);if((null===(e=U.current)||void 0===e||null===(t=e.details)||void 0===t||null===(n=t.IPAM)||void 0===n?void 0:n.Config)&&(null===(r=U.current)||void 0===r||null===(a=r.details)||void 0===a||null===(s=a.IPAM)||void 0===s?void 0:s.Config.length)>0?c.gateway=U.current.details.IPAM.Config[0].Gateway:c.gateway="",(null===(o=U.current)||void 0===o||null===(i=o.containers)||void 0===i?void 0:i.length)>0){var l=U.current.containers.map((function(e){return{name:e.name,networkId:U.current.networkId,id:e.id,containerId:e.containerId}}));k(l)}je(c)};Te=ve.current?pe.Ry({ipAddress:pe.Z_(),networkId:pe.Z_(),endpointID:pe.Z_(),gateway:pe.Z_(),macAddress:pe.Z_()}).optional():pe.Ry({}).optional();var Oe=(0,de.cI)({resolver:(0,me.X)(Te)}),Ae=Oe.register,_e=Oe.handleSubmit,He=Oe.setValue,Fe=Oe.formState.errors;return Q?(0,s.jsx)(o.$,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"m-0 p-0 col-12",children:(0,s.jsx)("div",{className:"p-0 pt-0 mt-0",children:(0,s.jsxs)("form",{onSubmit:_e((function(e){ne(!0);var t={Container:g.current.containerId,EndpointConfig:{IPAMConfig:{}}};if(ve.current){var n,r;if(t.EndpointConfig.IPAMConfig.Links=[],t.EndpointConfig.IPAMConfig.Aliases=[],t.EndpointConfig.IPAMConfig.NetworkID=e.networkId,t.EndpointConfig.IPAMConfig.EndpointID=e.endpointID,t.EndpointConfig.IPAMConfig.Gateway=e.gateway,t.EndpointConfig.IPAMConfig.IPv4Address=e.ipAddress,t.EndpointConfig.IPAMConfig.IPAddress=e.ipAddress,t.EndpointConfig.IPAMConfig.MacAddress=e.macAddress,(null===(n=e.Aliases)||void 0===n?void 0:n.length)>0){var a=[];e.Aliases.forEach((function(e,t){t+1>Se||e&&""!==e&&a.push(e)})),t.EndpointConfig.IPAMConfig.Aliases=a}if((null===(r=e.Links)||void 0===r?void 0:r.length)>0){var s=[];e.Links.forEach((function(e,n){n+1>Ie||e&&""!==e.value&&s.push(t.EndpointConfig.IPAMConfig.Aliases[n]+":"+e.value)})),t.EndpointConfig.IPAMConfig.Links=s}}i(t,U.current.networkId)})),children:[(0,s.jsx)("div",{className:"p-fluid p-formgrid p-grid mt-0 pt-0 ml-auto mr-auto jc-center",children:(0,s.jsx)("div",{className:"form-group",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon",children:"Join Network:"}),(0,s.jsx)(v.L,Be({name:"network",id:"network",options:M,disabled:te,optionValue:"id",optionLabel:"name",filter:!0,showClear:!0,filterBy:"name",value:null===U||void 0===U||null===(t=U.current)||void 0===t?void 0:t.id,placeholder:"Select a Network to Connect"},Ae("network"),{onChange:function(e){!function(e){if(A.current){var t=A.current.filter((function(t){return t.id===e}));z(t[0]),setTimeout((function(){Me()}))}}(e.value),He("network",e.value)},className:"pt-2 pb-2 form-control f-height-inputs ".concat(Fe.network?"p-invalid":"")}),"network1"),(0,s.jsx)("div",{className:"invalid-feedback",children:null===(n=Fe.network)||void 0===n?void 0:n.message}),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,s.jsx)(j.z,{className:"p-button p-button-secondary mt-0",icon:"fa fa-faw fa-eye",onClick:function(e){e.preventDefault(),oe(!ae)}})}),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,s.jsx)(j.z,{disabled:te,className:"p-button p-button-primary p-2 height-100",type:"button",icon:ve.current?"fa fa-minus":"fa fa-edit ",label:"Advanced",onClick:function(){return ue(!ve.current)}})}),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,s.jsx)(j.z,{disabled:te,className:"p-button p-button-primary p-2 height-100",type:"submit",label:"Join"})})]})})}),ve.current&&(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("h6",{children:"Optional Settings"}),(0,s.jsx)("div",{className:"col-12 text-right p-0 pr-2 mb-3",children:(0,s.jsxs)(j.z,{onClick:function(e){e.preventDefault(),ye(!we)},children:[(0,s.jsx)(H.G,{className:"mr-2 text-xl",icon:F.Fuz}),"Help"]})}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"IPv4 Address:"}),(0,s.jsx)(fe.o,Be({id:"ip4Gateway",name:"ipAddress",type:"text",disabled:te,placeholder:"IPv4 Address"},Ae("ipAddress",{value:null}),{className:" ".concat(Fe.ipAddress?"p-invalid":"p-1")}))]})}),we&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"IPv4 Address"}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"IPv4 Gateway:"}),(0,s.jsx)(fe.o,Be({id:"gateway",name:"gateway",type:"text",disabled:te,placeholder:"IPv4 Gateway",value:be.current.gateway},Ae("gateway",{value:be.current.gateway}),{onChange:function(e){var t=Be({},be.current);t.gateway=e.value,je(t)},className:" ".concat(Fe.gateway?"p-invalid":"p-1")}))]})}),we&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"Gateway address for this network."}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"MAC Address:"}),(0,s.jsx)(fe.o,Be({id:"macAddress",name:"macAddress",type:"text",disabled:te,placeholder:"Mac Address"},Ae("macAddress",{value:null}),{className:" ".concat(Fe.macAddress?"p-invalid":"p-1")}))]})}),we&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"MAC address for the endpoint on this network."}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Network ID:"}),(0,s.jsx)(fe.o,Be({id:"networkId",name:"networkId",type:"text",disabled:te,placeholder:"Network ID"},Ae("networkId",{value:null}),{className:" ".concat(Fe.networkId?"p-invalid":"p-1")}))]})}),we&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"Unique ID of the network."}),(0,s.jsx)("div",{className:"p-field mt-0 p-0 col-12 mt-0 col-md-12 col-lg-4 col-xl-4 text-left",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Endpoint ID:"}),(0,s.jsx)(fe.o,Be({id:"endpointID",name:"endpointID",type:"text",disabled:te,placeholder:"Endpoint ID"},Ae("endpointID",{value:null}),{className:" ".concat(Fe.endpointID?"p-invalid":"p-1")}))]})}),we&&(0,s.jsx)("div",{className:"col-12 p-3 form-help-box",children:"Unique ID for the service endpoint in a Sandbox."})]})})}),le&&(0,s.jsx)("div",{children:(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"grid col-12 jusitify-center",children:[(0,s.jsx)("div",{className:"col-10 ml-0 m-auto grid",children:qe(Array(Ie)).map((function(e,t){var n;return(0,s.jsx)("div",{className:"col-12 p-shadow-3 grid",children:(0,s.jsx)("div",{className:"col-12 field",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Link:"}),(0,s.jsx)(v.L,Be({options:y,optionLabel:"name",optionValue:"name"},Ae("Links."+t+".value"),{value:null===(n=P.current[t])||void 0===n?void 0:n.value,onChange:function(e){var n=Be({},P.current);n||(n={}),n[t]={value:e.value},I(n),He("Links."+t+".value",e.value)},className:"form-control f-height-inputs pt-2 pb-2"}),"mount2234s_ct_types"+t)]})},"linksVar234s_ct_value34"+t)},"linkss432Vars_ct_value_x"+t)}))}),(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("span",{className:"p-input-group-addon",children:[(0,s.jsx)(j.z,{className:"p-button p-button-secondary mt-2",icon:"fa fa-faw fa-plus",onClick:function(e){e.preventDefault(),Pe(Ie+1)}}),Ie>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsx)(j.z,{className:"p-button p-button-secondary mt-2",icon:"fa fa-faw fa-minus",onClick:function(e){Pe(Ie-1),e.preventDefault()}})]})]})})]})})}),le&&(0,s.jsx)("div",{children:(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"grid col-12 jusitify-center",children:[(0,s.jsx)("div",{className:"col-10 ml-0 m-auto grid",children:qe(Array(Se)).map((function(e,t){return(0,s.jsx)("div",{className:"col-12 p-shadow-3 grid",children:(0,s.jsx)("div",{className:"col-12 field",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon col-2",children:"Alias:"}),(0,s.jsx)(fe.o,Be({},Ae("Aliases."+t,{value:null,shouldUnregister:!0}),{className:"form-control f-height-inputs"}),"labels_ct1"+t)]})},"labelsVars_ct_value34"+t)},"labelsVars_ct_value_x"+t)}))}),(0,s.jsx)("div",{className:"col-2",children:(0,s.jsxs)("span",{className:"p-input-group-addon",children:[(0,s.jsx)(j.z,{className:"p-button p-button-secondary mt-2",icon:"fa fa-faw fa-plus",onClick:function(e){e.preventDefault(),Ce(Se+1)}}),Se>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsx)(j.z,{className:"p-button p-button-secondary mt-2",icon:"fa fa-faw fa-minus",onClick:function(e){Ce(Se-1),e.preventDefault()}})]})]})})]})})}),(0,s.jsx)(he.V,{ref:l})]})})})})}function Xe(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){Xe(s,r,a,o,i,"next",e)}function i(e){Xe(s,r,a,o,i,"throw",e)}o(void 0)}))}}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ke(e,t,n[t])}))}return e}function Qe(e){var t,n,r=function(e,t){var n;(null===O||void 0===O?void 0:O.current)&&O.current.emit("docker",{command:"disconnectContainerNetwork",containerId:g.current.containerId,containerLongId:g.current.containerLongId,hostId:null===(n=g.current.host)||void 0===n?void 0:n.id,networkId:t,data:e,errorHandler:"dockerResulNetworkDisconnectContainer_"+g.current.id,callback:"dockerResulNetworkDisconnectContainer_"+g.current.id,hook:"disconnectContainerNetwork"})},i=function(){if(null===g||void 0===g?void 0:g.current){var e,t={command:"inspect",containerId:g.current.containerId,containerLongId:g.current.containerLongId,hostId:null===(e=g.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+g.current.id,hook:"inspectContainer"};O.current.emit("docker",t)}},l=(0,c.useRef)(null),u=(0,c.useState)(),d=u[0],m=u[1],p=(0,c.useRef)(d);p.current=d;var f=(0,c.useState)(),h=f[0],x=f[1],g=(0,c.useRef)(h);g.current=h;var N=(0,S.v9)((function(e){return e.networks})),w=(0,S.v9)((function(e){return e.hosts.activeHost}));(0,c.useRef)(w).current=w;var y=(0,c.useState)(),k=y[0],C=y[1],R=(0,c.useRef)(k);R.current=k;var I=(0,c.useState)(),P=I[0],D=I[1],L=(0,c.useRef)(P);L.current=P;var T=(0,c.useState)(),E=T[0],M=T[1],O=(0,c.useRef)(E);O.current=E;var A=(0,c.useState)(!1),_=A[0],H=A[1],F=(0,c.useState)()[0];(0,c.useRef)(F).current=F;var V=(0,c.useState)(!0),z=V[0],U=V[1];(0,c.useRef)(z).current=z;var G=(0,c.useState)(!1),Y=G[0],B=G[1],q=(0,c.useState)(!1),W=q[0],X=q[1],Z=(0,c.useState)()[0];(0,c.useRef)(Z).current=Z;var K=pe.Ry({}).required(),$=(0,de.cI)({resolver:(0,me.X)(K)}),Q=$.register,J=$.handleSubmit,ee=$.setValue,te=$.formState.errors;function ne(){return re.apply(this,arguments)}function re(){return(re=Ze(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=2;break}return e.abrupt("return");case 2:return H(!0),t="dockerResulNetworkDisconnectContainer_"+p.current,e.next=6,b.L.getSocket();case 6:return(n=e.sent).on(t,(function(e){setTimeout((function(){B(!1)}),500),"fail"===e.status&&((0,se.V)({className:"confirm-dialogs",message:e.error,header:"Docker Error",icon:"pi pi-exclamation-check",acceptLabel:"Ok",rejectLabel:"",rejectClassName:"confirm-button-hidden",acceptClassName:"p-button-danger",accept:function(){}}),U(!1)),i()})),M(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)(Ze(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ae(),(null===(n=e.container)||void 0===n?void 0:n.id)&&(m(e.container.id),x(e.container),_||setTimeout((function(){ne()}),500)),U(!1);case 4:case"end":return t.stop()}}),t)}))),[e.container]),(0,c.useEffect)((function(){var e,t=$e({},N);if(w&&N&&h){t=N[g.current.host.id].networks;var n=Object.keys(t).map((function(e){return t[e]}));n.sort((function(e,t){return e.name||(e.name="Unknown"),e.name.localeCompare(t.name)}));var r=null===(e=g.current)||void 0===e?void 0:e.networks.map((function(e){return e.id})),a=n.filter((function(e){if(r.includes(e.id)){var t=$e({},e);return t.name=e.name+" ["+e.networkId.substring(0,12)+"]",t}}));C(a),setTimeout((function(){P||(D(a[0]),z&&U(!1))}))}}),[N,h]),(0,c.useEffect)((function(){return function(){if(O.current){var e="dockerResulNetworkDisconnectContainer_"+p.current;O.current.removeListener(e)}}}),[]);var ae=function(){l.current&&l.current.clear()};return z?(0,s.jsx)(o.$,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"m-0 p-0 col-12",children:(0,s.jsx)("div",{className:"p-0 pt-0 mt-0",children:(0,s.jsxs)("form",{onSubmit:J((function(){B(!0);var e={Container:g.current.containerId,Force:!0};r(e,L.current.networkId)})),children:[(0,s.jsx)("div",{className:"p-fluid p-formgrid p-grid mt-0 pt-0 ml-auto mr-auto jc-center",children:(0,s.jsx)("div",{className:"form-group",children:(0,s.jsxs)("div",{className:"p-inputgroup",children:[(0,s.jsx)("span",{className:"p-inputgroup-addon",children:"Leave Network:"}),(0,s.jsx)(v.L,$e({name:"network",id:"network",options:k,disabled:Y,optionValue:"id",optionLabel:"name",filter:!0,showClear:!0,filterBy:"name",value:null===L||void 0===L||null===(t=L.current)||void 0===t?void 0:t.id,placeholder:"Select a Network to Leave"},Q("network"),{onChange:function(e){!function(e){if(R.current){var t=R.current.filter((function(t){return t.id===e}));D(t[0])}}(e.value),ee("network",e.value)},className:"pt-2 pb-2 form-control f-height-inputs ".concat(te.network?"p-invalid":"")}),"network1"),(0,s.jsx)("div",{className:"invalid-feedback",children:null===(n=te.network)||void 0===n?void 0:n.message}),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,s.jsx)(j.z,{className:"p-button p-button-secondary mt-0",icon:"fa fa-faw fa-eye",onClick:function(e){e.preventDefault(),X(!W)}})}),(0,s.jsx)("span",{className:"p-inputgroup-addon",children:(0,s.jsx)(j.z,{disabled:Y,className:"p-button p-button-primary p-2 height-100",type:"submit",label:"Disconnect"})})]})})}),(0,s.jsx)(he.V,{ref:l})]})})})})}var Je=n(42896),et=n(58650);function tt(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function nt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){tt(s,r,a,o,i,"next",e)}function i(e){tt(s,r,a,o,i,"throw",e)}o(void 0)}))}}function rt(e){var t=function(){var e;(null===y||void 0===y?void 0:y.current)&&y.current.emit("docker",{command:"containerProcesses",containerId:v.current.containerId,containerLongId:v.current.containerLongId,saveProcesses:!0,cid:v.current.id,hostId:null===(e=v.current.host)||void 0===e?void 0:e.id,callback:"dockerResultProcessesContainer_"+v.current.id,hook:"containerProcesses",errorHandler:"dockerResultProcessesContainer_"+v.current.id})},n=function(e){var t=e.data;J(g()(e.date).format("YYYY-MM-DD HH:mm:ss"));var n=t.Processes.map((function(e){var n={};return t.Titles.forEach((function(t,r){n[t]=e[r]})),n}));(null===n||void 0===n?void 0:n.length)>0?z(n):z(null),A(!1)},r=function(){B.current&&clearInterval(B.current),X(!1)},o=function(){r();var e=setInterval((function(){t()}),2e3);X(!0),Y(e)},i=(0,c.useState)(),l=i[0],u=i[1],d=(0,c.useRef)(l);d.current=l;var m=(0,c.useState)(),p=m[0],h=m[1],v=(0,c.useRef)(p);v.current=p;var x=(0,c.useState)(),N=x[0],w=x[1],y=(0,c.useRef)(N);y.current=N;var k=(0,c.useState)(!1),S=k[0],C=k[1],R=(0,c.useState)(),I=R[0],P=R[1];(0,c.useRef)(I).current=I;var D=(0,c.useState)()[0];(0,c.useRef)(D).current=D;var L=(0,c.useState)(),T=L[0],E=L[1];(0,c.useRef)(T).current=T;var M=(0,c.useState)(!0),O=M[0],A=M[1];(0,c.useRef)(O).current=O;var H=(0,c.useState)("list")[0],F=(0,c.useState)(),V=F[0],z=F[1];(0,c.useRef)(V).current=V;var U=(0,c.useState)(),G=U[0],Y=U[1],B=(0,c.useRef)(G);B.current=G;var q=(0,c.useState)(!1),W=q[0],X=q[1],Z=(0,c.useRef)(W);Z.current=W;var $=(0,c.useState)(),Q=$[0],J=$[1];function ee(){return te.apply(this,arguments)}function te(){return(te=nt(a().mark((function e(){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:return C(!0),r="dockerResultProcessesContainer_"+d.current,e.next=6,b.L.getSocket();case 6:return(s=e.sent).on(r,(function(e){"success"===e.status?e.data&&n(e.data):P(e.error)})),e.next=10,w(s);case 10:return setTimeout((function(){t()}),200),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if((0,c.useEffect)(nt(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===(r=e.container)||void 0===r?void 0:r.id)){t.next=9;break}return t.next=4,u(e.container.id);case 4:return t.next=6,h(e.container);case 6:if(!e.container.processes){t.next=9;break}return t.next=9,n(e.container.processes);case 9:if(S){t.next=12;break}return t.next=12,ee();case 12:case"end":return t.stop()}}),t)}))),[e.container]),(0,c.useEffect)((function(){return function(){if(y.current){var e="dockerResultProcessesContainer_"+d.current;y.current.removeListener(e),r()}}}),[]),!p)return(0,s.jsx)("div",{className:"col-12 text-center",children:"No Container"});if(!p)return(0,s.jsx)("div",{className:"col-12 text-center"});if(!p.running)return(0,s.jsx)("div",{className:"col-12 text-center",children:"Container is not running."});if(!V)return(0,s.jsx)("div",{className:"col-12 text-center",children:"No Processes"});var ne=""+V.length;return ne+=V.length>1?" Processes":" Process",(0,s.jsx)(s.Fragment,{children:V.length>0&&(0,s.jsx)(f.s,{header:ne,className:"col-12",collapsed:!1,toggleable:!1,children:(0,s.jsxs)("div",{className:"col-12 m-0 p-0",children:[(0,s.jsxs)("div",{className:"col-12 grid",children:[(0,s.jsx)("div",{className:"col-9",children:Q}),(0,s.jsx)("div",{className:"col-3 grid text-right",children:(0,s.jsxs)("div",{className:"p-inputgroup",style:{justifyContent:"right"},children:[W&&(0,s.jsx)("div",{className:"p-inputgroup-addon ml-4",children:(0,s.jsx)(K.G,{style:{width:"20px",height:"20px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"1.1s"})}),(0,s.jsxs)(j.z,{tooltip:"Monitors processes every 2 seconds",onClick:function(){Z.current?r():o()},className:"mr-2",children:[(0,s.jsx)(_.H,{}),W&&(0,s.jsx)("span",{children:"Stop"}),!W&&(0,s.jsx)("span",{children:"Monitor"})]}),(0,s.jsx)(j.z,{tooltip:"Performs a snapshot of the current processes",onClick:function(){return t()},label:"Update"})]})})]}),(0,s.jsxs)(Je.w,{scrollable:V.length>10,scrollHeight:V.length>10?"400px":"200px",virtualScrollerOptions:{itemSize:V.length>10?20:V.length+5},selectionMode:"multiple",selection:T,onSelectionChange:function(e){return E(e.value)},dataKey:"PID",value:V,layout:H,paginator:!1,stripedRows:!0,rowHover:!0,rows:1e4,sortField:"%CPU",sortOrder:-1,responsiveLayout:"scroll",children:[(0,s.jsx)(et.s,{sortable:!0,field:"PID",header:"PID",align:"right"}),(0,s.jsx)(et.s,{sortable:!0,field:"%CPU",header:"CPU",align:"center"}),(0,s.jsx)(et.s,{sortable:!0,field:"%MEM",header:"MEM"}),(0,s.jsx)(et.s,{sortable:!0,field:"COMMAND",header:"COMMAND",align:"left",filter:!0,filterPlaceholder:"Search by Process Name"}),(0,s.jsx)(et.s,{sortable:!0,field:"TIME",header:"TIME",align:"center"}),(0,s.jsx)(et.s,{sortable:!0,field:"TTY",header:"TTY",align:"center"}),(0,s.jsx)(et.s,{sortable:!0,field:"USER",header:"USER",align:"center"})]})]})})})}function at(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function st(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){at(s,r,a,o,i,"next",e)}function i(e){at(s,r,a,o,i,"throw",e)}o(void 0)}))}}function ot(e){var t=function(){var e;(null===w||void 0===w?void 0:w.current)&&w.current.emit("docker",{command:"containerFiles",containerId:h.current.containerId,containerLongId:h.current.containerLongId,saveFiles:!0,cid:h.current.id,hostId:null===(e=h.current.host)||void 0===e?void 0:e.id,callback:"dockerResultFilesContainer_"+h.current.id,hook:"containerFiles",errorHandler:"dockerResultFilesContainer_"+h.current.id})},n=function(e){O(!0);var t=e.data;U(g()(e.date).format("YYYY-MM-DD HH:mm:ss")),(null===t||void 0===t?void 0:t.length)>0?F(t):F(null),O(!1)},r=(0,c.useState)(),i=r[0],l=r[1],u=(0,c.useRef)(i);u.current=i;var d=(0,c.useState)(),m=d[0],p=d[1],h=(0,c.useRef)(m);h.current=m;var v=(0,c.useState)(),x=v[0],N=v[1],w=(0,c.useRef)(x);w.current=x;var y=(0,c.useState)(),k=y[0],S=y[1],C=(0,c.useState)(),R=C[0],I=C[1];(0,c.useRef)(R).current=R;var P=(0,c.useState)()[0];(0,c.useRef)(P).current=P;var D=(0,c.useState)(),L=D[0],T=D[1];(0,c.useRef)(L).current=L;var E=(0,c.useState)(!0),M=E[0],O=E[1];(0,c.useRef)(M).current=M;var A=(0,c.useState)("list")[0],_=(0,c.useState)(),H=_[0],F=_[1];(0,c.useRef)(H).current=H;var V=(0,c.useState)(),z=V[0],U=V[1];function G(){return Y.apply(this,arguments)}function Y(){return(Y=st(a().mark((function e(){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return S(!0),r="dockerResultFilesContainer_"+u.current,e.next=6,b.L.getSocket();case 6:return(s=e.sent).on(r,(function(e){console.debug("Results",e),"success"===e.status?e.data&&n(e.data):(I(e.error),O(!1))})),e.next=10,N(s);case 10:return setTimeout((function(){t()}),200),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if((0,c.useEffect)(st(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===(r=e.container)||void 0===r?void 0:r.id)){t.next=10;break}if(e.container.id===i){t.next=10;break}return t.next=5,l(e.container.id);case 5:return t.next=7,p(e.container);case 7:if(!e.container.files){t.next=10;break}return t.next=10,n(e.container.changedFiles);case 10:if(k){t.next=13;break}return t.next=13,G();case 13:case"end":return t.stop()}}),t)}))),[e.container.changedFiles]),(0,c.useEffect)((function(){return function(){if(w.current){var e="dockerResultFilesContainer_"+u.current;w.current.removeListener(e)}}}),[]),!m)return(0,s.jsx)("div",{});if(M)return(0,s.jsxs)("div",{className:"filesIsLoading col-12 text-center",children:[(0,s.jsx)("div",{className:"mb-5 col-12 text-center",children:"Files Loading"})," ",(0,s.jsx)(o.$,{className:"mt-3"})]});if(!H)return(0,s.jsx)("div",{children:"No Files"});var B=""+H.length;return B+=H.length>1?" Changed Files":" Changed File",(0,s.jsx)(s.Fragment,{children:H.length>0&&(0,s.jsx)(f.s,{header:B,className:"col-12",collapsed:!1,toggleable:!1,children:(0,s.jsxs)("div",{className:"col-12 m-0 p-0",children:[(0,s.jsxs)("div",{className:"col-12 grid",children:[(0,s.jsx)("div",{className:"col-9",children:z}),(0,s.jsx)("div",{className:"col-3 grid text-right",children:(0,s.jsx)("div",{className:"p-inputgroup",style:{justifyContent:"right"},children:(0,s.jsx)(j.z,{tooltip:"Performs a snapshot of the current files",onClick:function(){return t()},label:"Update"})})})]}),(0,s.jsxs)(Je.w,{scrollable:H.length>10,scrollHeight:H.length>10?"400px":"200px",virtualScrollerOptions:{itemSize:H.length>10?20:H.length+5},selectionMode:"multiple",selection:L,onSelectionChange:function(e){return T(e.value)},dataKey:"Path",value:H,layout:A,paginator:!1,stripedRows:!0,rowHover:!0,rows:25,sortField:"Path",sortOrder:1,responsiveLayout:"scroll",children:[(0,s.jsx)(et.s,{sortable:!0,field:"Path",header:"Path",align:"left"}),(0,s.jsx)(et.s,{sortable:!0,field:"Kind",header:"Kind",align:"right"})]})]})})})}var it=n(7805),ct=n(71394);function lt(e){var t=(0,c.useState)(),n=t[0],r=t[1],a=(0,c.useState)([]),o=a[0],i=a[1],l=(0,c.useRef)(o);l.current=o;var u=(0,c.useState)(),d=u[0],m=u[1];(0,c.useRef)(d).current=d,(0,c.useEffect)((function(){r(e.container),setTimeout((function(){return p()}),100)}),[e.container]),(0,c.useEffect)((function(){p()}),[n]);var p=function(){var e,t,r=[];if(null===n||void 0===n||null===(e=n.details)||void 0===e||null===(t=e.Config)||void 0===t?void 0:t.Env){n.details.Config.Env,n.details.Config.Env.forEach((function(e,t){var n=e.split("="),a={id:t,keyName:n[0],value:n[1]};2===n.length&&r.push(a)}));var a=r.sort((function(e,t){return e.key||(e.key="Unknown"),e.key.localeCompare(t.key)}));i(a)}};if(!n)return(0,s.jsx)("div",{});if(l.current.length<1)return(0,s.jsx)("div",{className:"col-12 text-center p-3",children:"No Env Vars assigned to this container"});var h=""+l.current.length;return h+=l.current.length>1?" Env Vars":" Env Var",(0,s.jsx)(s.Fragment,{children:o.length>0&&(0,s.jsx)(f.s,{header:h,collapsed:!1,toggleable:!0,children:(0,s.jsx)("div",{className:"col-12 m-0 p-0",children:(0,s.jsx)("div",{className:"card p-0 m-0",children:(0,s.jsxs)(Je.w,{scrollable:l.current.length>10,scrollHeight:l.current.length>10?"400px":"200px",virtualScrollerOptions:{itemSize:l.current.length>10?20:l.current.length+5},selectionMode:"multiple",selection:d,onSelectionChange:function(e){return m(e.value)},dataKey:"id",value:l.current,paginator:!1,stripedRows:!0,rowHover:!0,rows:1e4,sortField:"keyName",sortOrder:1,responsiveLayout:"scroll",children:[(0,s.jsx)(et.s,{sortable:!0,field:"keyName",header:"Key"}),(0,s.jsx)(et.s,{sortable:!0,field:"value",header:"Value"})]},"foo")})})})})}function ut(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){ut(s,r,a,o,i,"next",e)}function i(e){ut(s,r,a,o,i,"throw",e)}o(void 0)}))}}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){mt(e,t,n[t])}))}return e}function ft(){var e,t,n,r=function(){var e;Me.current.emit("openTerminal",{command:"openTerminal",containerId:Q.current.containerId,containerLongId:Q.current.containerLongId,hostId:null===(e=Q.current.host)||void 0===e?void 0:e.id,callback:"dockerResulsTerminal_"+Q.current.id,hook:"openTerminal"})},l=function(){var e;Se.current.emit("docker",{command:"containerExec",containerId:Q.current.containerId,containerLongId:Q.current.containerLongId,hostId:null===(e=Q.current.host)||void 0===e?void 0:e.id,callback:"dockerResulsExec_"+Q.current.id,hook:"containerExec"})},u=function(){var e;Se.current.emit("docker",{command:"stop",containerId:Q.current.containerId,containerLongId:Q.current.containerLongId,hostId:null===(e=Q.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+Q.current.id,hook:"stopContainer"})},d=function(){var e;Se.current.emit("docker",{command:"start",containerId:Q.current.containerId,containerLongId:Q.current.containerLongId,hostId:null===(e=Q.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+Q.current.id,hook:"startContainer"})},m=function(){var e;Se.current.emit("docker",{command:"pause",containerId:Q.current.containerId,containerLongId:Q.current.containerLongId,hostId:null===(e=Q.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+Q.current.id,hook:"pauseContainer"})},p=function(){var e;Se.current.emit("docker",{command:"unpause",containerId:Q.current.containerId,containerLongId:Q.current.containerLongId,hostId:null===(e=Q.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+Q.current.id,hook:"resumeContainer"})},h=function(){if(Ke("showDetails",!0),null===Q||void 0===Q?void 0:Q.current){var e,t={command:"inspect",containerId:Q.current.containerId,containerLongId:Q.current.containerLongId,hostId:null===(e=Q.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+Q.current.id,hook:"inspectContainer"};Se.current.emit("docker",t)}},v=function(){var e;Se.current.emit("docker",{command:"kill",containerId:Q.current.containerId,containerLongId:Q.current.containerLongId,hostId:null===(e=Q.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+Q.current.id,hook:"killContainer"})},x=function(){var e;Se.current.emit("docker",{command:"remove",containerId:Q.current.containerId,containerLongId:Q.current.containerLongId,hostId:null===(e=Q.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+Q.current.id,hook:"removeContainer"})},g=function(){Ke("showLogs",!(null===H||void 0===H?void 0:H.showLogs))},j=function(){var e;Me.current.emit("tailLogs",{command:"tailLogs",containerId:Q.current.containerId,containerLongId:Q.current.containerLongId,hostId:null===(e=Q.current.host)||void 0===e?void 0:e.id,callback:"dockerResulsTerminalLogs_"+Q.current.id,hook:"tailLogs"})},N=(0,i.useRouter)(),w=(0,S.v9)((function(e){return e.containers})),C=(0,S.v9)((function(e){return e.site})),P=(0,S.I0)(),D=(0,c.useState)(!0),L=D[0],T=D[1],E=(0,c.useRef)(L);E.current=L;var M={showSummary:!0,showStats:!1,showPorts:!0,showProcesses:!0,showVolumes:!1,showMounts:!1,showNetworks:!1,showNetworkConnect:!1,showFiles:!1,showProfiler:!0,showEditName:!1,showEditResources:!1,showImage:!1,showEnvVars:!0},A=(0,c.useState)(M),H=A[0],F=A[1],V=(0,c.useRef)(H);V.current=H;var G=(0,c.useState)(),Y=G[0],B=G[1],X=(0,c.useRef)(Y);X.current=Y;var Z=(0,c.useState)(),K=Z[0],$=Z[1],Q=(0,c.useRef)(K);Q.current=K;var J=(0,c.useRef)(null),ee=(0,c.useRef)(null),te=(0,c.useRef)(null),ne=(0,c.useRef)(null),re=(0,c.useRef)(null),ae=(0,c.useRef)(null),oe=(0,c.useRef)(null),ie=(0,c.useRef)(null),ce=(0,c.useRef)(null),le=(0,c.useRef)(null),de=(0,c.useRef)(null),me=(0,c.useRef)(null),pe=(0,c.useRef)(null),fe=(0,c.useRef)(null),he=(0,c.useRef)(null),ve=(0,c.useRef)(null),xe=(0,c.useState)(),ge=xe[0],je=xe[1],be=(0,c.useState)(),ye=be[0],ke=be[1],Se=(0,c.useRef)(ye);Se.current=ye;var Ce=(0,c.useState)(!1),Ie=Ce[0],De=Ce[1],Le=(0,c.useState)(),Te=Le[0],Ee=Le[1],Me=(0,c.useRef)(Te);Me.current=Te;var Oe=(0,c.useState)(!1),Ae=Oe[0],_e=Oe[1],He=function(e){var t=(0,c.useRef)();return(0,c.useEffect)((function(){t.current=e})),t.current}(K);function ze(){return Ue.apply(this,arguments)}function Ue(){return(Ue=dt(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ie){e.next=2;break}return e.abrupt("return");case 2:return De(!0),t="dockerResuls_"+X.current,e.next=6,b.L.getSocket();case 6:return(n=e.sent).on(t,(function(e){if("success"===e.status&&e.data)if("removeContainer"===e.hook)$(null),P((0,Ve.el)({data:0}));else e.data.id&&($(e.data),P((0,Ve.el)({data:e.data.id})),Xe(e.data))})),ke(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(){return Ye.apply(this,arguments)}function Ye(){return(Ye=dt(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ae){e.next=2;break}return e.abrupt("return");case 2:return _e(!0),t="dockerLauncher_"+X.current,e.next=6,b.L.getLauncherSocket();case 6:return(n=e.sent).on(t,(function(e){"success"===e.status&&e.data&&(e.hook,e.data)})),Ee(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(){return(Be=dt(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N.query.id&&w&&Object.keys(w).forEach((function(e){var t=w[e];if(!R().isEqual(He,t.containers[N.query.id])&&N.query.id in t.containers){var n=t.containers[N.query.id];$(n),P((0,Ve.el)({data:n.id})),E.current&&T(!0),Xe(n),E.current&&T(!1)}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){qe(),N.query.id&&(B(N.query.id),Ie||setTimeout(dt(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze();case 2:case"end":return e.stop()}}),e)}))),500),Ae||setTimeout(dt(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge();case 2:case"end":return e.stop()}}),e)}))),500))}),[]),(0,c.useEffect)((function(){!function(){Be.apply(this,arguments)}()}),[w,N.query.id]),(0,c.useEffect)((function(){return function(){if(Se.current){P((0,Ve.el)({data:0}));var e="dockerResuls_"+X.current;Se.current.removeListener(e)}if(Me.current){var t="dockerLauncher_"+X.current;Me.current.removeListener(t)}}}),[]);var qe=function(){var e=dt(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===C||void 0===C||null===(t=C.userSettings)||void 0===t?void 0:t.containerViews)){e.next=10;break}if(!(n=C.userSettings.containerViews.filter((function(e){if(!0===e.default)return e})))){e.next=9;break}return r=pt({},n[0].settings),e.next=7,F(r);case 7:e.next=10;break;case 9:F(M);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Xe(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=dt(a().mark((function e(t){var n,s,o,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=[],i="",o=(null===t||void 0===t?void 0:t.current)?t.current:t,t){e.next=7;break}return e.abrupt("return");case 7:s.push({label:"Edit",icon:"fa fa-fw fa-edit",items:[{label:"Rename",icon:"fa fa-fw fa-file-signature",tooltip:"Rename Container.",className:i,command:function(){mt()}},{label:"Resources",tooltip:"Edit Resources",icon:"fa fa-fw fa-memory",command:function(){gt()}}]}),s.push({label:"Networks",className:i,icon:"fa fa-fw fa-network-wired",command:function(){ht(),xt()}}),s.push({label:"Image",icon:"fa fa-fw fa-file-image",className:i,items:[{label:"View Image",tooltip:"View Changed Files. Warning - This may take a long time for containers with large numbers of changes",icon:"fa fa-fw fa-file-contract",className:i,command:function(){tt()}},{label:"Environemnt Vars",icon:"fa fa-fw fa-list",className:i,command:function(){et()}}]}),s.push({label:"Files",icon:"fa fa-fw fa-file-contract",className:i,items:[{label:"Changed Files",tooltip:"View Changed Files. Warning - This may take a long time for containers with large numbers of changes",icon:"fa fa-fw fa-file-contract",className:i,command:function(){at()}},{label:"Volumes & Mounts",icon:"fa fa-fw fa-file-contract",className:i,command:function(){st()}}]}),s.push({label:"Logs",icon:"fa fa-fw fa-file-alt",items:[{label:"Terminal Logs",icon:"fa fa-fw fa-file",tooltip:"Open stdout and stderr logs in a terminal window.",command:function(){j()}},{label:"Web Logs",tooltip:"View logs in the browser via stream.",icon:"fa fa-fw fa-file",className:i,command:function(){g()}},{label:"Activity Logs",tooltip:"View logs received by Dockermon.",icon:"fa fa-fw fa-file",className:i,command:function(){bt()}}]}),s.push({label:"Stats",icon:"fa fa-fw fa-chart-line",className:i,items:[{label:"Database Stats",tooltip:"View stats collected by the backend cronjobs",icon:"fa fa-fw fa-chart-line",className:i,command:function(){nt()}},{label:"Profiler",tooltip:"Turn on Live Profiling and capture 1 second snapshots of the container's performance metrics",icon:"fa fa-fw fa-chart-bar",className:i,command:function(){ft()}}]}),o.running&&s.push({label:"Exec",icon:"fa fa-fw fa-terminal",className:i,command:function(){jt()}}),s.push({label:"Processes",icon:"fa fa-fw fa-list",className:i,command:function(){Je()}}),s.push({label:"Inspect",icon:"fa fa-fw fa-eye",className:i,command:function(){h(),ut()}}),o.running&&s.push({label:"Terminal",icon:"fa fa-fw fa-tv",className:"p-button-raised p-button p-button-info p-0",command:function(){r()}}),(null===V||void 0===V||null===(n=V.current)||void 0===n?void 0:n.showSummary)||s.push({label:"Summary",icon:"fa fa-fw fa-eye",className:i,command:function(){$e()}}),c={label:"Control",icon:"fa fa-fw fa-power-off",items:[]},o.running?(o.paused?c.items.push({label:"Resume",icon:"fa fa-fw fa-play",key:"foo",className:"p-button-raised p-button p-button-warning p-0",command:function(e){Nt("resumeContainer","Resume Container?",e)}}):c.items.push({label:"Pause",icon:"fa fa-fw fa-pause",command:function(e){Nt("pauseContainer","Pause Container?",e)}}),c.items.push({label:"Stop",icon:"fa fa-fw fa-stop",command:function(e){Nt("stopContainer","Stop Container?",e)}}),c.items.push({label:"Restart",icon:"fa fa-fw fa-redo",command:function(e){Nt("restartContainer","Restart Container?",e)}}),c.items.push({label:"Kill",icon:"fa fa-fw fa-skull",command:function(e){Nt("killContainer","Kill Container?",e)}})):(c.items.push({label:"Start",icon:"fa fa-solid fa-play",command:function(e){Nt("startContainer","Start Container?",e)}}),c.items.push({label:"Remove",icon:"fa fa-fw fa-power-off",command:function(e){Nt("removeContainer","Remove Container?",e)}})),s.push(c),je(s);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ke=function(){var e=dt(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=pt({},V.current))[t]=n,e.next=4,F(r);case 4:return setTimeout((function(){Xe(Q.current)}),300),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$e=function(){vt(J),Ke("showSummary",!0),setTimeout((function(){Xe(Q.current)}))},Je=function(){vt(ae),Ke("showProcesses",!0),setTimeout((function(){Xe(Q.current)}))},et=function(){vt(he),Ke("showEnvVars",!0),setTimeout((function(){Xe(Q.current)}))},tt=function(){vt(ve),Ke("showImage",!0),setTimeout((function(){Xe(Q.current)}))},nt=function(){vt(le),Ke("showStats",!0),setTimeout((function(){Xe(Q.current)}))},at=function(){vt(oe),Ke("showFiles",!0),setTimeout((function(){Xe(Q.current)}))},st=function(){vt(te),Ke("showVolumes",!0),setTimeout((function(){Xe(Q.current)}))},ut=function(){vt(fe),Ke("showDetails",!0),setTimeout((function(){Xe(Q.current)}))},mt=function(){vt(de),Ke("showEditName",!0),setTimeout((function(){Xe(Q.current)}))},ft=function(){Ke("showProfiler",!0),setTimeout((function(){Xe("containerRef".current)}))},ht=function(){vt(ee),Ke("showNetworks",!0),setTimeout((function(){Ke("showNetworkConnect",!0)}),400),setTimeout((function(){Xe(Q.current)}))},vt=function(e){if(e.current){var t=document.getElementById(e.current.id).getBoundingClientRect().top+window.pageYOffset-45;window.scrollTo({top:t,behavior:"smooth"})}},xt=function(){var e=dt(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vt(ee),e.next=3,Ke("showNetworks",!0);case 3:setTimeout((function(){Ke("showNetworkConnect",!0)}),300),setTimeout((function(){Xe(Q.current)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gt=function(){vt(me),Ke("showEditResources",!0),setTimeout((function(){Xe(Q.current)}))},jt=function(){vt(pe),Ke("showExec",!0),setTimeout((function(){Xe(Q.current)}))},bt=function(){vt(ce),Ke("showActivityLogs",!0),setTimeout((function(){Xe(Q.current)}))},Nt=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,se.V)({className:"confirm-dialogs",message:t,target:(null===(n=a.originalEvent)||void 0===n?void 0:n.currentTarget)?a.originalEvent.currentTarget:null,header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){switch(e){default:break;case"pauseContainer":m();break;case"openTerminal":r();break;case"execContainer":l();break;case"resumeContainer":p();break;case"startContainer":d();break;case"stopContainer":u();break;case"restartContainer":wt();break;case"killContainer":v();break;case"removeContainer":x()}}})},wt=function(){var e;Se.current.emit("docker",{command:"restart",containerId:Q.current.containerId,containerLongId:Q.current.containerLongId,hostId:null===(e=Q.current.host)||void 0===e?void 0:e.id,callback:"dockerResuls_"+Q.current.id,hook:"restartContainer"})},yt=function(e){var t=e.collapsed?"pi pi-chevron-down":"pi pi-chevron-up",n="".concat(e.className," justify-content-start"),r="".concat(e.titleClassName," pl-1");return(0,s.jsx)("div",{className:n,children:(0,s.jsxs)("div",{className:"col-12 grid",children:[(0,s.jsx)("div",{className:"col-10",children:(0,s.jsx)("span",{className:r,children:e.props.header})}),(0,s.jsxs)("div",{className:"col-2 text-right",children:[(0,s.jsxs)("button",{className:e.togglerClassName+" mr-4",onClick:e.onTogglerClick,tooltip:"Collapse this panel",children:[(0,s.jsx)("span",{className:t}),(0,s.jsx)(_.H,{})]}),(0,s.jsxs)("button",{className:e.togglerClassName,onClick:function(){kt(e.props.closeAction)},tooltip:"Close this panel",children:[(0,s.jsx)("span",{className:"pi pi-times"}),(0,s.jsx)(_.H,{})]})]})]})})},kt=function(e){switch(e){case"processes":Ke("showProcesses",!1);break;case"files":Ke("showFiles",!1);break;case"exec":Ke("showExec",!1);break;case"name":case"rename":Ke("showEditName",!1);break;case"details":Ke("showDetails",!1);break;case"logs":Ke("showLogs",!1);break;case"activityLogs":Ke("showActivityLogs",!1);break;case"resources":Ke("showEditResources",!1);break;case"networkConnect":Ke("showNetworkConnect",!1);break;case"networks":Ke("showNetworks",!1);break;case"profiler":Ke("showProfiler",!1);break;case"stats":Ke("showStats",!1);break;case"summary":Ke("showSummary",!1);break;case"volumes":Ke("showVolumes",!1);break;case"mounts":Ke("showMounts",!1);break;case"ports":Ke("showPorts",!1);break;case"image":Ke("showImage",!1);break;case"envVars":Ke("showEnvVars",!1)}};if(L)return(0,s.jsx)(o.$,{});if(!N.query.id)return(0,s.jsx)("div",{children:"Loading..."});if(!K)return(0,s.jsx)("div",{className:"text-center mt-5",children:"Container could not be found."});var St=(null===K||void 0===K||null===(e=K.details)||void 0===e?void 0:e.Config)?K.details.Config.Image:"",Ct=(null===(t=K.image)||void 0===t?void 0:t.id)?null===(n=K.image)||void 0===n?void 0:n.id:"index";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"col-12 p-0 ml-1 mr-1 grid",children:[(0,s.jsx)("div",{className:"col-12 mt-4 text-900 font-bold text-4xl line-height-1 mb-1 text-center",children:(0,s.jsxs)("div",{className:"col-12 text-center grid",children:[(0,s.jsxs)("div",{className:"ml-auto mr-auto col-0 text-left grid mb-0 pb-0",children:[(0,s.jsx)(we.Q,{className:"p-2 mr-2 mb-1 mr-3",status:K.state}),(0,s.jsxs)("div",{className:"mt-0 p-0",children:[K.project," / ",K.name]})]}),(0,s.jsx)("div",{className:"col-12 mb-0",children:(0,s.jsx)("p",{className:"text-600 line-height-3 text-lg m-0 mb-0 text-center",children:(0,s.jsx)(z.default,{href:"/images/[id]",as:"/images/".concat(Ct),passHref:!0,children:(0,s.jsx)("a",{className:"lightblue-color",children:St})})})}),(0,s.jsx)("div",{className:"col-12 mb-0",children:(0,s.jsxs)("p",{className:"text-600 line-height-3 text-lg m-0 mb-0 text-center",children:["Status: ",K.status]})})]})}),(0,s.jsx)("div",{className:"col-12 p-0 m-0 mb-2 menubar-background",children:(0,s.jsx)(k.n,{className:"col-12 mb-2 ml-0 mr-0 justify-content-center menubar-menu",model:ge})}),(0,s.jsx)("div",{ref:de,id:"showEditNamePanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showEditName)&&(0,s.jsx)(f.s,{className:"sitePanel",header:"Rename Container",hideHeader:!0,headerTemplate:yt,toggleable:!0,closeAction:"rename",children:(0,s.jsx)(Re,{container:K,containerId:K.id})})}),(0,s.jsx)("div",{ref:me,id:"showEditResourcesPanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showEditResources)&&(0,s.jsx)(f.s,{className:"sitePanel",header:"Update Container",hideHeader:!0,headerTemplate:yt,toggleable:!0,closeAction:"resources",children:(0,s.jsx)(Fe,{container:K,containerId:K.id})})}),(0,s.jsx)("div",{ref:pe,id:"showExecPanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showExec)&&(0,s.jsx)(f.s,{className:"sitePanel",header:"Run a Command",hideHeader:!0,headerTemplate:yt,toggleable:!0,closeAction:"exec",children:(0,s.jsx)(Ne,{container:K,containerId:K.id})})}),(0,s.jsx)("div",{ref:ce,id:"showActivityLogsPanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showActivityLogs)&&(0,s.jsx)(f.s,{className:"sitePanel",header:"Activity Logs",hideHeader:!0,headerTemplate:yt,toggleable:!0,closeAction:"activityLogs",children:(0,s.jsx)(it.default,{contentId:K.id,contentTypeLogs:"containers"})})}),(0,s.jsx)("div",{ref:ie,id:"showLogsPanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showLogs)&&(0,s.jsx)(f.s,{className:"sitePanel",header:"Container Logs",hideHeader:!0,headerTemplate:yt,toggleable:!0,closeAction:"logs",children:(0,s.jsx)(O,{contentId:K.id})})}),(0,s.jsx)("div",{id:"showSummaryPanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showSummary)&&(0,s.jsx)(f.s,{className:"sitePanel",ref:J,header:"Summary Vitals",headerTemplate:yt,toggleable:!0,closeAction:"summary",children:(0,s.jsx)(ue,{showProfiler:null===H||void 0===H?void 0:H.showProfiler,container:K})})}),(0,s.jsx)("div",{ref:fe,id:"showDetailsPanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showDetails)&&(0,s.jsx)(f.s,{className:"sitePanel",header:"Container Details",hideHeader:!0,headerTemplate:yt,toggleable:!0,closeAction:"details",children:(0,s.jsx)(I.Z,{data:K,hideCode:!0,header:"Container Details"})})}),(0,s.jsx)("div",{ref:le,id:"showStatsPanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showStats)&&(0,s.jsx)(f.s,{className:"sitePanel",header:"Container Stats",hideHeader:!0,headerTemplate:yt,toggleable:!0,closeAction:"stats",children:(0,s.jsx)(y,{containerId:K.id})})}),(0,s.jsx)("div",{ref:ee,id:"showNetworksPanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showNetworks)&&(0,s.jsxs)(s.Fragment,{children:[(null===H||void 0===H?void 0:H.showNetworkConnect)&&(0,s.jsx)(f.s,{className:"sitePanel",header:"Container Network Management",headerTemplate:yt,toggleable:!0,closeAction:"networkConnect",children:(0,s.jsxs)("div",{className:"col-12 grid",children:[(0,s.jsx)("div",{className:"col-5",children:(0,s.jsx)(We,{container:K,containerId:K.id})}),(0,s.jsx)("div",{className:"col-2"}),(0,s.jsx)("div",{className:"col-5",children:(0,s.jsx)(Qe,{container:K,containerId:K.id})})]})}),(0,s.jsx)("div",{className:"col-12 p-0 m-0",id:"showNetworksDiagram",children:(0,s.jsx)(f.s,{className:"sitePanel",header:"Container Networks",hideHeader:!0,headerTemplate:yt,toggleable:!0,closeAction:"networks",children:(0,s.jsx)(Pe,{container:K})})})]})}),(0,s.jsx)("div",{ref:ae,id:"showProcessesPanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showProcesses)&&(0,s.jsx)(f.s,{className:"sitePanel",header:"Running Processes",hideHeader:!0,headerTemplate:yt,toggleable:!0,closeAction:"processes",children:(0,s.jsx)("div",{className:"col-12 grid p-0 m-0",children:(0,s.jsx)(rt,{container:K})})})}),(0,s.jsx)("div",{ref:oe,id:"showFilesPanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showFiles)&&(0,s.jsx)(f.s,{className:"sitePanel",header:"Changed Files",hideHeader:!0,headerTemplate:yt,toggleable:!0,closeAction:"files",children:(0,s.jsx)("div",{className:"col-12 grid p-0 m-0",children:(0,s.jsx)(ot,{container:K})})})}),(0,s.jsx)("div",{ref:re,id:"showPortsPanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showPorts)&&(0,s.jsx)(f.s,{className:"sitePanel",header:"Network Ports",hideHeader:!0,headerTemplate:yt,toggleable:!0,closeAction:"ports",children:(0,s.jsx)(W,{container:K,headerTemplate:yt,toggleable:!0,closeAction:"ports"})})}),(0,s.jsx)("div",{ref:te,id:"showVolumesPanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showVolumes)&&(0,s.jsx)(f.s,{className:"sitePanel",header:"Volumes",hideHeader:!0,headerTemplate:yt,toggleable:!0,closeAction:"volumes",children:(0,s.jsx)(U,{container:K,headerTemplate:yt,toggleable:!0,closeAction:"volumes"})})}),(0,s.jsx)("div",{ref:ne,id:"showMountsPanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showMounts)&&(0,s.jsx)(f.s,{className:"sitePanel",header:"Mounts",hideHeader:!0,headerTemplate:yt,toggleable:!0,closeAction:"mounts",children:(0,s.jsx)(q,{container:K,closeAction:"mounts"})})}),(0,s.jsx)("div",{ref:ve,id:"showImagePanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showImage)&&(0,s.jsx)(f.s,{className:"sitePanel",header:"Image",hideHeader:!0,headerTemplate:yt,toggleable:!0,closeAction:"image",children:(0,s.jsx)(ct.default,{embedded:!0,container:K,image:K.image})})}),(0,s.jsx)("div",{ref:he,id:"showEnvVarsPanel",className:"col-12 p-0 m-0",children:(null===H||void 0===H?void 0:H.showEnvVars)&&(0,s.jsx)(f.s,{className:"sitePanel",header:"Environment Variables",hideHeader:!0,headerTemplate:yt,toggleable:!0,closeAction:"envVars",children:(0,s.jsx)(lt,{container:K})})})]}),(0,s.jsx)("div",{className:"bottom-spacer col-12 m-0 p-0",style:{height:"800px"}})]})}},71394:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(34051),a=n.n(r),s=n(85893),o=n(42670),i=n(11163),c=n(67294),l=n(10619),u=n(40424),d=n(25617),m=n(96486),p=n.n(m),f=n(36345),h=n(28565),v=n(22946),x=n(11752),g=n(51388),j=(0,x.default)().publicRuntimeConfig,b="".concat(j.apiUrl),N=new v.X(""),w={results:N.asObservable(),getImages:function(e){return g.h.post("".concat(b,"/images"),e).then((function(e){if("success"===e.status)return N.next(e),e;throw Error(e.message)})).catch((function(e){N.next(null),console.log(e)}))},getImageById:function(e){return g.h.get("".concat(b,"/images/").concat(e)).then((function(e){if("success"===e.status)return N.next(e),e;throw Error(e.message)})).catch((function(e){N.next(null),console.log(e)}))}};var y=n(2797);function k(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){k(s,r,a,o,i,"next",e)}function i(e){k(s,r,a,o,i,"throw",e)}o(void 0)}))}}function C(e){var t=function(e){var t,r=[];t=e.current?e.current:e,r.push({label:"Inspect",icon:"fa fa-fw fa-eye",command:function(){n()}}),t.active||r.push({label:"Remove",icon:"fa fa-fw fa-power-off",command:function(e){re("removeImage","Remove Image?",e)}}),_(r)},n=function(){var e;(C(!0),null===M||void 0===M?void 0:M.current)&&Y.current.emit("docker",{command:"inspectImage",imageId:M.current.imageId,hostId:null===(e=M.current.host)||void 0===e?void 0:e.id,callback:"dockerResulsImages_"+M.current.id,hook:"inspectImage"})},r=function(){var e;Y.current.emit("docker",{command:"removeImage",imageId:M.current.details.Id,hostId:null===(e=M.current.host)||void 0===e?void 0:e.id,callback:"dockerResulsImages_"+M.current.id,hook:"removeImage"})},m=(0,i.useRouter)(),v=(0,d.v9)((function(e){return e.images})),x=(0,c.useState)(!0),g=x[0],j=x[1],b=(0,c.useRef)(g);b.current=g;var N=(0,c.useState)(!1),k=N[0],C=N[1];(0,c.useRef)(k).current=k;var R=(0,c.useState)(),I=R[0],P=R[1],D=(0,c.useRef)(I);D.current=I;var L=(0,c.useState)(),T=L[0],E=L[1],M=(0,c.useRef)(T);M.current=T;var O=(0,c.useState)(),A=O[0],_=O[1],H=(0,c.useState)(),F=H[0],V=H[1],z=(0,c.useState)(),U=z[0],G=z[1],Y=(0,c.useRef)(U);Y.current=U;var B=(0,c.useState)(!1),q=B[0],W=B[1],X=(0,c.useState)(!1),Z=X[0],K=X[1],$=function(e){var t=(0,c.useRef)();return(0,c.useEffect)((function(){t.current=e})),t.current}(T);function Q(){return J.apply(this,arguments)}function J(){return(J=S(a().mark((function e(){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q){e.next=2;break}return e.abrupt("return");case 2:return W(!0),n="dockerResulsImages_"+D.current,e.next=6,h.L.getSocket();case 6:(r=e.sent).on(n,(function(e){if("success"===e.status&&e.data)if("removeImage"===e.hook)E(null);else e.data.id&&(E(e.data),t(e.data))})),G(r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=S(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.query.id&&v&&Object.keys(v).forEach((function(e){var n=v[e];if(!p().isEqual($,n.images[m.query.id])&&m.query.id in n.images){var r=n.images[m.query.id];E(r),b.current&&j(!0),t(r),b.current&&j(!1)}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return ne.apply(this,arguments)}function ne(){return(ne=S(a().mark((function e(){var n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.current&&j(!0),M){e.next=11;break}return e.next=4,w.getImageById(D.current);case 4:n=e.sent,r=n.data,(s=n.error)&&(V(s),console.log("Error",s)),r&&(E(r),t(r),b.current&&j(!1)),e.next=12;break;case 11:t(M),b.current&&j(!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)(S(a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!0===e.embedded&&K(!0),(m.query.id||(null===(n=e.image)||void 0===n?void 0:n.id))&&((null===(r=e.image)||void 0===r?void 0:r.id)?P(e.image.id):P(m.query.id),setTimeout(S(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q){e.next=3;break}return e.next=3,Q();case 3:te();case 4:case"end":return e.stop()}}),e)})))));case 3:case"end":return t.stop()}}),t)}))),[m.query,e]),(0,c.useEffect)((function(){!function(){ee.apply(this,arguments)}()}),[v]),(0,c.useEffect)((function(){return function(){if(Y.current){var e="dockerResulsImages_"+D.current;Y.current.removeListener(e)}}}),[]);var re=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,u.V)({className:"confirm-dialogs",message:t,target:(null===(n=a.originalEvent)||void 0===n?void 0:n.currentTarget)?a.originalEvent.currentTarget:null,header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){if("removeImage"===e)r()}})};if(g)return(0,s.jsx)(o.$,{});if(F)return(0,s.jsxs)("div",{children:["Failed to load Image: ",F]});if(!m.query.id)return(0,s.jsx)("div",{children:"Loading..."});if(!T)return(0,s.jsx)("div",{className:"text-center mt-5",children:"Image could not be found."});var ae=!Z;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"col-12",children:[(0,s.jsxs)("h2",{className:"grid col-12 p-0 m-0",children:[(0,s.jsx)("div",{className:"flex col-10 p-0 m-0",children:T.name}),(0,s.jsx)("div",{className:"col-2 text-right p-0 m-0",children:(0,s.jsxs)("h4",{children:["[",T.id,"]"]})})]}),(0,s.jsx)("div",{className:"flex col-12 justify-content-end"}),(0,s.jsx)("div",{className:"col-12 p-0 card",children:(0,s.jsx)(l.n,{className:"flex col-12 justify-content-end",model:A})})]}),(0,s.jsxs)("div",{className:"col-12",children:[(0,s.jsx)(f.Z,{data:T,collapsed:0,header:"Image Details"}),(0,s.jsx)("div",{className:"col-12 m1-2"}),T.name&&T.tag&&(0,s.jsx)(y.default,{showTags:!1,showPreview:!0,showMarkdown:ae,image:T,imageName:T.name})]})]})}}},function(e){e.O(0,[5257,3662,7570,2727,3978,9723,5533,6424,8751,7117,2797,6173,3656,7805,9774,2888,179],(function(){return t=47564,e(e.s=t);var t}));var t=e.O();_N_E=t}]);