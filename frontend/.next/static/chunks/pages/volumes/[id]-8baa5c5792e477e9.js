(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5830],{83778:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/volumes/[id]",function(){return r(79418)}])},36345:function(e,n,r){"use strict";r.d(n,{Z:function(){return l}});var t=r(85893),a=r(67294),s=r(43964),c=r(25852),u=r(30022),o=r(84283),i=r(52450);function l(e){var n=JSON.stringify(e.data,null,2),r=(0,a.useState)(e.collapsed||!1)[0],l=(0,a.useState)(!e.collapsed||!1),d=l[0],f=l[1],m=e.toggleable||!0,h=e.hideTree||!1,v=!!e.hideRaw,p=!!e.hideCode;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(s.s,{className:"p-0",header:e.header||"Data View",onCollapse:function(){return f(!1)},onExpand:function(){return f(!0)},toggleable:m,collapsed:r,children:d&&(0,t.jsxs)(c.f,{activeIndex:1,className:"p-0 m-0",children:[!p&&(0,t.jsx)(c.x,{header:"Code View",className:"p-0 m-0",leftIcon:"fa fa-solid fa-code mr-2",children:(0,t.jsx)("div",{className:"code-highlighter-background p-0",children:(0,t.jsx)(u.Z,{className:"p-1 m-0",language:"javascript",style:o.RY,showLineNumbers:e.showLineNumbers,wrapLines:!0,wrapLongLines:!1,children:n})})}),!h&&(0,t.jsx)(c.x,{header:"Tree View",className:"p-0 m-0",leftIcon:"fa fa-solid fa-tree mr-2",children:(0,t.jsx)("div",{className:"code-highlighter-background p-2",style:{},children:(0,t.jsx)(i.L,{className:"m-0",data:e.data,theme:{scheme:"brewer",author:"timoth\xe9e poisot (http://github.com/tpoisot)",base00:"#161b22",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},invertTheme:!1,shouldExpandNode:function(e){return 1===e.length}})})}),!v&&(0,t.jsx)(c.x,{header:"Raw View",className:"p-0 m-0",leftIcon:"fa fa-fw fa-file mr-2",children:(0,t.jsx)("div",{className:"code-highlighter-background p-2 mt-0",style:{},children:(0,t.jsx)("pre",{className:"p-0 m-0",children:(0,t.jsx)("code",{className:"p-0 m-0",children:n})})})})]})})})}},79418:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return V}});var t=r(34051),a=r.n(t),s=r(85893),c=r(42670),u=r(11163),o=r(67294),i=r(10619),l=r(40424),d=r(25617),f=r(96486),m=r.n(f),h=r(36345),v=r(28565),p=r(22946),x=r(11752),b=r(51388),g=(0,x.default)().publicRuntimeConfig,w="".concat(g.apiUrl),j=new p.X(""),N={results:j.asObservable(),getVolumes:function(e){return b.h.post("".concat(w,"/volumes"),e).then((function(e){if("success"===e.status)return j.next(e),e;throw Error(e.message)})).catch((function(e){j.next(null),console.log(e)}))},getVolumeById:function(e){return b.h.get("".concat(w,"/volumes/").concat(e)).then((function(e){if("success"===e.status)return j.next(e),e;throw Error(e.message)})).catch((function(e){j.next(null),console.log(e)}))}};function k(e,n,r,t,a,s,c){try{var u=e[s](c),o=u.value}catch(i){return void r(i)}u.done?n(o):Promise.resolve(o).then(t,a)}function y(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var s=e.apply(n,r);function c(e){k(s,t,a,c,u,"next",e)}function u(e){k(s,t,a,c,u,"throw",e)}c(void 0)}))}}function V(){var e=function(e){var r,t=[];r=e.current?e.current:e,t.push({label:"Inspect",icon:"fa fa-fw fa-eye",command:function(){n()}}),r.active||t.push({label:"Remove",icon:"fa fa-fw fa-power-off",command:function(e){Q("removeVolume","Remove Volume?",e)}}),O(t)},n=function(){var e;(k(!0),null===q||void 0===q?void 0:q.current)&&A.current.emit("docker",{command:"inspectVolume",volumeId:q.current.volumeId,hostId:null===(e=q.current.host)||void 0===e?void 0:e.id,callback:"dockerResulsVolumes_"+q.current.id,hook:"inspectVolume"})},r=function(){var e;A.current.emit("docker",{command:"removeVolume",volumeId:q.current.details.Id,hostId:null===(e=q.current.host)||void 0===e?void 0:e.id,callback:"dockerResulsVolumes_"+q.current.id,hook:"removeVolume"})},t=(0,u.useRouter)(),f=(0,d.v9)((function(e){return e.volumes})),p=(0,o.useState)(!0),x=p[0],b=p[1],g=(0,o.useRef)(x);g.current=x;var w=(0,o.useState)(!1),j=w[0],k=w[1];(0,o.useRef)(j).current=j;var V=(0,o.useState)(),E=V[0],R=V[1],_=(0,o.useRef)(E);_.current=E;var I=(0,o.useState)(),S=I[0],L=I[1],q=(0,o.useRef)(S);q.current=S;var C=(0,o.useState)(),T=C[0],O=C[1],F=(0,o.useState)(),P=F[0],B=F[1],D=(0,o.useState)(),X=D[0],Z=D[1],A=(0,o.useRef)(X);A.current=X;var J=(0,o.useState)(!1),U=J[0],Y=J[1],$=function(e){var n=(0,o.useRef)();return(0,o.useEffect)((function(){n.current=e})),n.current}(S);function z(){return G.apply(this,arguments)}function G(){return(G=y(a().mark((function n(){var r,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!U){n.next=2;break}return n.abrupt("return");case 2:return Y(!0),r="dockerResulsVolumes_"+_.current,n.next=6,v.L.getSocket();case 6:return(t=n.sent).on(r,(function(n){if("success"===n.status&&n.data)if("removeVolume"===n.hook)L(null);else n.data.id&&(L(n.data),e(n.data))})),Z(t),n.abrupt("return",t);case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function H(){return(H=y(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.query.id&&f&&Object.keys(f).forEach((function(n){var r=f[n];if(!m().isEqual($,r.volumes[t.query.id])&&t.query.id in r.volumes){var a=r.volumes[t.query.id];L(a),g.current&&b(!0),e(a),g.current&&b(!1)}}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function K(){return M.apply(this,arguments)}function M(){return(M=y(a().mark((function n(){var r,t,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(g.current&&b(!0),q){n.next=11;break}return n.next=4,N.getVolumeById(_.current);case 4:r=n.sent,t=r.data,(s=r.error)&&(B(s),console.log("Error",s)),t&&(L(t),e(t),g.current&&b(!1)),n.next=12;break;case 11:e(q),g.current&&b(!1);case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}(0,o.useEffect)(y(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.query.id&&(R(t.query.id),setTimeout(y(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=3;break}return e.next=3,z();case 3:K();case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)}))),[]),(0,o.useEffect)((function(){!function(){H.apply(this,arguments)}()}),[f]),(0,o.useEffect)((function(){return function(){if(A.current){var e="dockerResulsVolumes_"+_.current;A.current.removeListener(e)}}}),[]);var Q=function(e,n){var t,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,l.V)({className:"confirm-dialogs",message:n,target:(null===(t=a.originalEvent)||void 0===t?void 0:t.currentTarget)?a.originalEvent.currentTarget:null,header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){if("removeVolume"===e)r()}})};return x?(0,s.jsx)(c.$,{}):P?(0,s.jsxs)("div",{children:["Failed to load Volume: ",P]}):t.query.id?S?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"col-12",children:[(0,s.jsxs)("h2",{className:"grid col-12 p-0 m-0",children:[(0,s.jsx)("div",{className:"flex col-10 p-0 m-0",children:S.name}),(0,s.jsx)("div",{className:"col-2 text-right p-0 m-0",children:(0,s.jsxs)("h4",{children:["[",S.id,"]"]})})]}),(0,s.jsx)("div",{className:"flex col-12 justify-content-end"}),(0,s.jsx)("div",{className:"col-12 p-0 card",children:(0,s.jsx)(i.n,{className:"flex col-12 justify-content-end",model:T})})]}),(0,s.jsxs)("div",{className:"col-12",children:[(0,s.jsx)(h.Z,{data:S,collapsed:0,header:"Volume Details"}),(0,s.jsx)("div",{className:"col-12 m1-2"})]})]}):(0,s.jsx)("div",{className:"text-center mt-5",children:"Volume could not be found."}):(0,s.jsx)("div",{children:"Loading..."})}}},function(e){e.O(0,[3662,9723,9774,2888,179],(function(){return n=83778,e(e.s=n);var n}));var n=e.O();_N_E=n}]);