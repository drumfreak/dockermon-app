(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4166],{74237:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profilings/[id]",function(){return r(98090)}])},98090:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return R}});var n=r(34051),a=r.n(n),s=r(85893),i=r(42670),c=r(11163),u=r(67294),o=r(10619),l=r(40424),d=r(27484),f=r.n(d),m=r(36345),p=r(11577),v=r(54033),h=r(9731),x=r(30178),D=r(89646),k=(r(72337),r(47225));function g(e,t,r,n,a,s,i){try{var c=e[s](i),u=c.value}catch(o){return void r(o)}c.done?t(u):Promise.resolve(u).then(n,a)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function i(e){g(s,n,a,i,c,"next",e)}function c(e){g(s,n,a,i,c,"throw",e)}i(void 0)}))}}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){j(e,t,r[t])}))}return e}function R(){var e=function(e){var r,n=[];r=e.current?e.current:e,n.push({label:"Inspect",icon:"fa fa-fw fa-eye",command:function(){t()}}),r.active||n.push({label:"Remove",icon:"fa fa-fw fa-power-off",command:function(e){Pe("removeProfiling","Remove Profiling?",e)}}),L(n)},t=function(){b(!0),null===I||void 0===I||I.current},r=(0,c.useRouter)(),n=(0,u.useState)(!0),d=n[0],g=n[1],j=(0,u.useRef)(d);j.current=d;var R=(0,u.useState)(!1),N=R[0],b=R[1];(0,u.useRef)(N).current=N;var S=(0,u.useState)(null),T=S[0],P=S[1],O=(0,u.useRef)(T);O.current=T;var C=(0,u.useState)(null),_=C[0],E=C[1],I=(0,u.useRef)(_);I.current=_;var U=(0,u.useState)(null),Y=U[0],L=U[1],M=(0,u.useState)(null),q=M[0],H=(M[1],(0,u.useRef)()),F=(0,u.useRef)(),W=(0,u.useRef)(),X=(0,u.useRef)(),z=(0,u.useState)("Grid"),A=z[0],B=z[1],G=(0,u.useState)(1100),V=G[0];G[1];(0,u.useRef)(V).current=V;var Z=(0,u.useState)(.038),$=Z[0];Z[1];(0,u.useRef)($).current=$;var J=(0,u.useState)({diskInput:"purple",diskOutput:"blue",cpu:"cyan",memory:"green",networkTx:"orange",networkRx:"red",processes:"purple"})[0];(0,u.useRef)(J).current=J;var K=(0,u.useState)(!0),Q=K[0],ee=(K[1],(0,u.useRef)(Q));ee.current=Q;var te=(0,u.useState)(!0),re=te[0],ne=(te[1],(0,u.useRef)(re));ne.current=re;var ae=(0,u.useState)(!0),se=ae[0],ie=(ae[1],(0,u.useRef)(se));ie.current=se;var ce=(0,u.useState)(!0),ue=ce[0],oe=(ce[1],(0,u.useRef)(ue));oe.current=ue;var le=(0,u.useState)(!0),de=le[0],fe=(le[1],(0,u.useRef)(de));fe.current=de;var me=(0,u.useState)(!1),pe=me[0],ve=(me[1],(0,u.useRef)(pe));ve.current=pe;var he=(0,u.useState)(!1),xe=he[0];he[1];(0,u.useRef)(xe).current=xe;var De=(0,u.useState)([0,1]),ke=(De[0],De[1],(0,u.useState)([0,1])),ge=(ke[0],ke[1],(0,u.useState)({starteDate:new Date,endDate:new Date})),we=ge[0],je=ge[1],ye=(0,u.useRef)(we);ye.current=we;var Re={diskRead:0,diskWrite:0,diskTotal:0,diskTmpFSizes:0,diskVolumeSize:0,networkRx:0,networkTx:0,processes:0,memoryLimit:0,memoryUsage:0,cpuUsage:0,startDate:f()().format("YYYY-MM-DD HH:mm:ss"),endDate:f()().format("YYYY-MM-DD HH:mm:ss"),intervalCount:0},Ne=(0,u.useState)({statsSummary:Re,chartData:{dates:[],cpu:[],memoryPercent:[],processes:[],diskRead:[],diskWrite:[],networkTx:[],networkRx:[],diskUsed:[],diskImage:[],diskLabels:[],diskUsage:[]},sample:{}}),be=Ne[0];Ne[1];function Se(){return Te.apply(this,arguments)}function Te(){return(Te=w(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j.current&&g(!0),I.current){t.next=9;break}return t.next=4,p.A.getProfilingById(O.current);case 4:"success"===(null===(r=t.sent)||void 0===r?void 0:r.status)&&(E(r.data),Ce([0,r.data.samples])),g(!1),t.next=10;break;case 9:e(I),j.current&&g(!1);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,u.useRef)(be).current=be,(0,u.useEffect)(w(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.query.id){e.next=4;break}return e.next=3,P(r.query.id);case 3:Se();case 4:case"end":return e.stop()}}),e)}))),[r.query.id]);var Pe=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,l.V)({className:"confirm-dialogs",message:t,target:(null===(r=n.originalEvent)||void 0===r?void 0:r.currentTarget)?n.originalEvent.currentTarget:null,header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){e}})},Oe=function(){var e=w(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===H||void 0===H||H.current,null===F||void 0===F||F.current,null===W||void 0===W||W.current,null===X||void 0===X||X.current,e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=(function(){var e=w(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(t.value);case 1:case"end":return e.stop()}}),e)})))}(),function(){var e=w(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=y({},ye.current)).startDate=new Date(I.current.chartData.dates[t[0]]),r.endDate=new Date(I.current.chartData.dates[t[1]-1]),e.next=5,je(r);case 5:return e.next=7,Oe();case 7:return e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());if(d)return(0,s.jsx)(i.$,{});if(q)return(0,s.jsxs)("div",{children:["Failed to load Profiling: ",q]});if(!r.query.id)return(0,s.jsx)("div",{children:"Loading..."});if(!_)return(0,s.jsx)("div",{className:"text-center mt-5",children:"Profiling could not be found."});var _e="Grid"===A?"col-6":"col-12";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"col-12",children:[(0,s.jsxs)("h2",{className:"grid col-12 p-0 m-0",children:[(0,s.jsx)("div",{className:"flex col-10 p-0 m-0",children:_.name}),(0,s.jsx)("div",{className:"col-2 text-right p-0 m-0",children:(0,s.jsxs)("h4",{children:["[",_.id,"]"]})})]}),(0,s.jsx)("div",{className:"flex col-12 justify-content-end"}),(0,s.jsx)("div",{className:"col-12 p-0 card",children:(0,s.jsx)(o.n,{className:"flex col-12 justify-content-end",model:Y})})]}),(0,s.jsxs)("div",{className:"col-12",children:[(0,s.jsx)(m.Z,{data:_,collapsed:!0,header:"Profiling Details"}),(0,s.jsx)("div",{className:"col-12 m1-2"})]}),(0,s.jsxs)("div",{className:"col-12 m-0 p-0 grid",children:[Q&&(0,s.jsx)("div",{className:_e,children:(0,s.jsx)(v.v,{ref:H,className:"m-4",statsCPU:_.chartData.cpu,statsDates:_.chartData.dates,startDate:we.startDate,endDate:we.endDate,animationTime:V,lineTension:$,chartColor:J.cpu})}),re&&(0,s.jsx)("div",{className:_e,children:(0,s.jsx)(h.i,{ref:F,className:"m-4",statsMemory:_.chartData.memoryPercent,statsDates:_.chartData.dates,startDate:we.startDate,endDate:we.endDate,animationTime:V,lineTension:$,chartColor:J.memory})}),se&&(0,s.jsx)("div",{className:_e,children:(0,s.jsx)(x.m,{className:"m-4",statsDiskInput:_.chartData.diskWrite,statsDiskOutput:_.chartData.diskRead,statsDates:_.chartData.dates,startDate:we.startDate,endDate:we.endDate,animationTime:V,lineTension:$,chartColorInput:J.diskInput,chartColorOutput:J.diskOutput})}),ue&&(0,s.jsx)("div",{className:_e,children:(0,s.jsx)(D.O,{ref:X,className:"m-4",statsNetworkTx:_.chartData.networkTx,statsNetworkRx:_.chartData.networkRx,statsDates:_.chartData.dates,startDate:we.startDate,endDate:we.endDate,animationTime:V,lineTension:$,chartColorTx:J.networkTx,chartColorRx:J.networkRx})}),de&&(0,s.jsx)("div",{className:_e}),pe&&(0,s.jsx)("div",{className:_e,children:(0,s.jsx)(k.t,{className:"m-4",statsDiskLabels:_.diskLabels,statsDiskUsage:_.diskUsage,statsDiskOther:_.diskOther,statsDiskType:_.diskTypes,startDate:we.startDate,endDate:we.endDate,animationTime:V,lineTension:$})})]})]})}},11577:function(e,t,r){"use strict";r.d(t,{A:function(){return o}});var n=r(22946),a=r(11752),s=r(51388),i=(0,a.default)().publicRuntimeConfig,c="".concat(i.apiUrl),u=new n.X(""),o={results:u.asObservable(),getProfilings:function(e){return s.h.post("".concat(c,"/profilings"),e).then((function(e){if("success"===e.status)return u.next(e),e;throw Error(e.message)})).catch((function(e){u.next(null),console.log(e)}))},getProfilingById:function(e){return s.h.get("".concat(c,"/profilings/").concat(e)).then((function(e){if("success"===e.status)return u.next(e),e;throw Error(e.message)})).catch((function(e){u.next(null),console.log(e)}))}}}},function(e){e.O(0,[7570,2727,9723,9303,7771,9774,2888,179],(function(){return t=74237,e(e.s=t);var t}));var t=e.O();_N_E=t}]);