(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3261],{22541:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/images/[id]",function(){return r(71394)}])},36345:function(e,n,r){"use strict";r.d(n,{Z:function(){return o}});var t=r(85893),s=r(43964),a=r(25852),c=r(67294),i=r(52450),u=r(30022),l=r(84283);function o(e){var n=JSON.stringify(e.data,null,2),r=(0,c.useState)(e.collapsed||!1)[0],o=(0,c.useState)(!e.collapsed||!1),d=o[0],f=o[1],m=e.toggleable||!0,h=e.hideTree||!1,p=!!e.hideRaw,x=!!e.hideCode;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(s.s,{className:"p-0",header:e.header||"Data View",onCollapse:function(){return f(!1)},onExpand:function(){return f(!0)},toggleable:m,collapsed:r,children:d&&(0,t.jsxs)(a.f,{activeIndex:1,className:"p-0 m-0",children:[!x&&(0,t.jsx)(a.x,{header:" Code View",className:"p-0 m-0",leftIcon:"fa fa-solid fa-code mr-2",style:{overflowX:"scroll"},children:(0,t.jsx)("div",{className:"code-highlighter-background p-0",children:(0,t.jsx)(u.Z,{className:"p-1 m-0",language:"javascript",style:l.RY,showLineNumbers:e.showLineNumbers,wrapLines:!0,wrapLongLines:!1,children:n})})}),!h&&(0,t.jsx)(a.x,{header:"Tree View",className:"p-0 m-0",leftIcon:"fa fa-solid fa-tree mr-2",children:(0,t.jsx)("div",{className:"code-highlighter-background p-2",style:{overflowX:"scroll"},children:(0,t.jsx)(i.L,{className:"m-0",data:e.data,theme:{scheme:"brewer",author:"timoth\xe9e poisot (http://github.com/tpoisot)",base00:"#161b22",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},invertTheme:!1,shouldExpandNode:function(e){return 1===e.length}})})}),!p&&(0,t.jsx)(a.x,{header:"Raw View",className:"p-0 m-0",leftIcon:"fa fa-fw fa-file mr-2",children:(0,t.jsx)("div",{className:"code-highlighter-background p-2 mt-0",style:{overflowX:"scroll"},children:(0,t.jsx)("pre",{className:"p-0 m-0",children:(0,t.jsx)("code",{className:"p-0 m-0",children:n})})})})]})})})}},71394:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return R}});var t=r(34051),s=r.n(t),a=r(85893),c=r(42670),i=r(11163),u=r(67294),l=r(10619),o=r(12199),d=r(25617),f=r(96486),m=r.n(f),h=r(36345),p=r(28565),x=r(22946),v=r(11752),g=r(51388),j=(0,v.default)().publicRuntimeConfig,b="".concat(j.apiUrl),w=new x.X(""),N={results:w.asObservable(),getImages:function(e){return g.h.post("".concat(b,"/images"),e).then((function(e){if("success"===e.status)return w.next(e),e;throw Error(e.message)})).catch((function(e){w.next(null),console.log(e)}))},getImageById:function(e){return g.h.get("".concat(b,"/images/").concat(e)).then((function(e){if("success"===e.status)return w.next(e),e;throw Error(e.message)})).catch((function(e){w.next(null),console.log(e)}))}};var k=r(18369);function y(e,n,r,t,s,a,c){try{var i=e[a](c),u=i.value}catch(l){return void r(l)}i.done?n(u):Promise.resolve(u).then(t,s)}function I(e){return function(){var n=this,r=arguments;return new Promise((function(t,s){var a=e.apply(n,r);function c(e){y(a,t,s,c,i,"next",e)}function i(e){y(a,t,s,c,i,"throw",e)}c(void 0)}))}}function R(){var e=function(e){var r,t=[];r=e.current?e.current:e,t.push({label:"Inspect",icon:"fa fa-fw fa-eye",command:function(){n()}}),r.active||t.push({label:"Remove",icon:"fa fa-fw fa-power-off",command:function(e){W("removeImage","Remove Image?",e)}}),F(t)},n=function(){var e;(y(!0),null===C||void 0===C?void 0:C.current)&&B.current.emit("docker",{command:"inspectImage",imageId:C.current.imageId,hostId:null===(e=C.current.host)||void 0===e?void 0:e.id,callback:"dockerResulsImages_"+C.current.id,hook:"inspectImage"})},r=function(){var e;B.current.emit("docker",{command:"removeImage",imageId:C.current.details.Id,hostId:null===(e=C.current.host)||void 0===e?void 0:e.id,callback:"dockerResulsImages_"+C.current.id,hook:"removeImage"})},t=(0,i.useRouter)(),f=(0,d.v9)((function(e){return e.images})),x=(0,u.useState)(!0),v=x[0],g=x[1],j=(0,u.useRef)(v);j.current=v;var b=(0,u.useState)(!1),w=b[0],y=b[1];(0,u.useRef)(w).current=w;var R=(0,u.useState)(null),S=R[0],_=R[1],E=(0,u.useRef)(S);E.current=S;var T=(0,u.useState)(null),L=T[0],q=T[1],C=(0,u.useRef)(L);C.current=L;var P=(0,u.useState)(null),D=P[0],F=P[1],X=(0,u.useState)(null),O=X[0],Z=X[1],z=(0,u.useState)(null),H=z[0],V=z[1],B=(0,u.useRef)(H);B.current=H;var M=(0,u.useState)(!1),A=M[0],$=M[1],J=function(e){var n=(0,u.useRef)();return(0,u.useEffect)((function(){n.current=e})),n.current}(L);function U(){return Y.apply(this,arguments)}function Y(){return(Y=I(s().mark((function n(){var r,t;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!A){n.next=2;break}return n.abrupt("return");case 2:return $(!0),r="dockerResulsImages_"+E.current,n.next=6,p.L.getSocket();case 6:(t=n.sent).on(r,(function(n){if("success"===n.status&&n.data)if("removeImage"===n.hook)q(null);else n.data.id&&(q(n.data),e(n.data))})),V(t);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function G(){return(G=I(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.query.id&&f&&Object.keys(f).forEach((function(n){var r=f[n];if(!m().isEqual(J,r.images[t.query.id])&&t.query.id in r.images){var s=r.images[t.query.id];q(s),j.current&&g(!0),e(s),j.current&&g(!1)}}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function K(){return Q.apply(this,arguments)}function Q(){return(Q=I(s().mark((function n(){var r,t,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(j.current&&g(!0),C){n.next=11;break}return n.next=4,N.getImageById(E.current);case 4:r=n.sent,t=r.data,(a=r.error)&&(Z(a),console.log("Error",a)),t&&(q(t),e(t),j.current&&g(!1)),n.next=12;break;case 11:e(C),j.current&&g(!1);case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}(0,u.useEffect)(I(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.query.id&&(_(t.query.id),setTimeout(I(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=3;break}return e.next=3,U();case 3:K();case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)}))),[]),(0,u.useEffect)((function(){!function(){G.apply(this,arguments)}()}),[f]),(0,u.useEffect)((function(){return function(){if(B.current){var e="dockerResulsImages_"+E.current;B.current.removeListener(e)}}}),[]);var W=function(e,n){var t,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,o.w)({message:n,target:(null===(t=s.originalEvent)||void 0===t?void 0:t.currentTarget)?s.originalEvent.currentTarget:null,header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){if("removeImage"===e)r()}})};return v?(0,a.jsx)(c.$,{}):O?(0,a.jsxs)("div",{children:["Failed to load Image: ",O]}):t.query.id?L?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"col-12",children:[(0,a.jsxs)("h2",{className:"grid col-12 p-0 m-0",children:[(0,a.jsx)("div",{className:"flex col-10 p-0 m-0",children:L.name}),(0,a.jsx)("div",{className:"col-2 text-right p-0 m-0",children:(0,a.jsxs)("h4",{children:["[",L.id,"]"]})})]}),(0,a.jsx)("div",{className:"flex col-12 justify-content-end"}),(0,a.jsx)("div",{className:"col-12 p-0 card",children:(0,a.jsx)(l.n,{className:"flex col-12 justify-content-end",model:D})})]}),(0,a.jsxs)("div",{className:"col-12",children:[(0,a.jsx)(h.Z,{data:L,collapsed:0,header:"Image Details"}),(0,a.jsx)("div",{className:"col-12 m1-2"}),(0,a.jsx)(k.default,{showTags:!1,showPreview:!0,showMarkdown:!0,imageName:L.name})]})]}):(0,a.jsx)("div",{className:"text-center mt-5",children:"Image could not be found."}):(0,a.jsx)("div",{children:"Loading..."})}},18369:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return x}});var t=r(34051),s=r.n(t),a=r(85893),c=r(42670),i=r(11163),u=r(67294),l=r(57333),o=r(99403),d=r(60378),f=r(14530),m=r(28565);function h(e,n,r,t,s,a,c){try{var i=e[a](c),u=i.value}catch(l){return void r(l)}i.done?n(u):Promise.resolve(u).then(t,s)}function p(e){return function(){var n=this,r=arguments;return new Promise((function(t,s){var a=e.apply(n,r);function c(e){h(a,t,s,c,i,"next",e)}function i(e){h(a,t,s,c,i,"throw",e)}c(void 0)}))}}function x(e){var n=(0,i.useRouter)(),r=(0,u.useState)(!0),t=r[0],h=r[1],x=(0,u.useRef)(t);x.current=t;var v=(0,u.useState)(!1),g=v[0],j=v[1],b=(0,u.useState)(!1)[0];(0,u.useRef)(b).current=b;var w=(0,u.useState)(!0),N=w[0],k=w[1];(0,u.useRef)(N).current=N;var y=(0,u.useState)(null),I=y[0],R=y[1],S=(0,u.useRef)(I);S.current=I;var _=(0,u.useState)(null),E=_[0],T=_[1],L=(0,u.useRef)(E);L.current=E;var q=(0,u.useState)(null)[0],C=(0,u.useState)(null),P=C[0],D=C[1],F=(0,u.useRef)(P);F.current=P;var X=(0,u.useState)(!1),O=X[0],Z=X[1];function z(){return H.apply(this,arguments)}function H(){return(H=p(s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=2;break}return e.abrupt("return");case 2:return Z(!0),n="image_details_"+L.current,e.next=6,m.L.getSocket();case 6:return(r=e.sent).on(n,(function(e){"success"===e.status&&e.data&&R(e.data),h(!1)})),D(r),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return B.apply(this,arguments)}function B(){return(B=p(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.current&&h(!0),n="image_details_"+L.current,F.current?F.current.emit("docker",{command:"dockerHubRepositoryDetails",repository:L.current,callback:n}):h(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,u.useEffect)(p(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n.query.name&&T(n.query.name),e.imageName&&T(e.imageName),!1===e.showTags?k(!1):k(!0),!0===e.showMarkdown?j(!0):j(!1),setTimeout(p(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O){e.next=3;break}return e.next=3,z();case 3:V();case 4:case"end":return e.stop()}}),e)}))));case 5:case"end":return r.stop()}}),r)}))),[]),(0,u.useEffect)((function(){return function(){if(F.current){var e="image_details_"+L.current;F.current.removeListener(e)}}}),[]),t?(0,a.jsx)(c.$,{}):q?(0,a.jsxs)("div",{children:["Failed to load image: ",q]}):S.current?L.current?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"col-12 p-0",children:[!e.showPreview&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"surface-0",children:[(0,a.jsxs)("ul",{className:"list-none p-0 m-0 flex align-items-center font-medium mb-3",children:[(0,a.jsx)("li",{children:(0,a.jsx)("a",{className:"text-500 no-underline line-height-3 cursor-pointer",children:"Docker Hub"})}),(0,a.jsx)("li",{className:"px-2",children:(0,a.jsx)("i",{className:"pi pi-angle-right text-500 line-height-3"})}),(0,a.jsx)("li",{children:(0,a.jsx)("span",{className:"text-900 line-height-3",children:I.namespace})})]}),(0,a.jsxs)("div",{className:"flex align-items-start flex-column lg:justify-content-between lg:flex-row",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium text-3xl text-900",children:[I.name," "]}),(0,a.jsxs)("div",{className:"flex align-items-center text-700 flex-wrap",children:[(0,a.jsxs)("div",{className:"mr-5 flex align-items-center mt-3",children:[(0,a.jsx)("i",{className:"pi pi-users mr-2"}),(0,a.jsxs)("span",{children:[(0,a.jsx)(l.Z,{displayType:"text",thousandSeparator:!0,value:I.pull_count})," Pulls"]})]}),(0,a.jsxs)("div",{className:"mr-5 flex align-items-center mt-3",children:[(0,a.jsx)("i",{className:"pi pi-star mr-2"}),(0,a.jsxs)("span",{children:[(0,a.jsx)(l.Z,{displayType:"text",thousandSeparator:!0,value:I.star_count})," Stars"]})]}),(0,a.jsxs)("div",{className:"flex align-items-center mt-3",children:[(0,a.jsx)("i",{className:"pi pi-user mr-2"}),(0,a.jsx)("span",{children:I.hub_user})]})]})]}),(0,a.jsxs)("div",{className:"mt-3 lg:mt-0",children:[(0,a.jsx)(o.z,{label:"Add",className:"p-button-outlined mr-2",icon:"pi pi-user-plus"}),(0,a.jsx)(o.z,{label:"Save",icon:"pi pi-check"})]})]})]}),(0,a.jsx)("div",{className:"col-12 mt-5"})]}),(0,a.jsxs)("div",{className:"card flex",children:[(0,a.jsx)("div",{className:"col-10",children:I.description}),(0,a.jsxs)("div",{className:"col-2 text-right p-0 m-0",children:[!g&&(0,a.jsx)(o.z,{label:"Read More",onClick:function(){return j(!0)},className:"p-button-secondary",icon:"pi pi-eye"}),g&&(0,a.jsx)(o.z,{label:"Hide",onClick:function(){return j(!1)},className:"p-button-secondary",icon:"pi pi-eye"})]})]}),g&&(0,a.jsx)("div",{className:"card",children:(0,a.jsx)("div",{className:"col-12",children:(0,a.jsx)(d.D,{children:I.full_description})})}),N&&(0,a.jsx)(f.default,{tags:I.tags,image:I,imageId:E})]})}):(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsx)("div",{children:"Image not found in Docker Hub"})}}},function(e){e.O(0,[3662,2727,9723,682,1582,4530,9774,2888,179],(function(){return n=22541,e(e.s=n);var n}));var n=e.O();_N_E=n}]);