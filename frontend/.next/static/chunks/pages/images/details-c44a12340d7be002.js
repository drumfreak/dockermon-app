(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3551],{58864:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/images/details",function(){return s(18369)}])},18369:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return h}});var t=s(34051),r=s.n(t),a=s(85893),i=s(42670),c=s(11163),u=s(67294),l=s(57333),o=s(99403),d=s(60378),m=s(14530),x=s(28565);function p(e,n,s,t,r,a,i){try{var c=e[a](i),u=c.value}catch(l){return void s(l)}c.done?n(u):Promise.resolve(u).then(t,r)}function f(e){return function(){var n=this,s=arguments;return new Promise((function(t,r){var a=e.apply(n,s);function i(e){p(a,t,r,i,c,"next",e)}function c(e){p(a,t,r,i,c,"throw",e)}i(void 0)}))}}function h(e){var n=(0,c.useRouter)(),s=(0,u.useState)(!0),t=s[0],p=s[1],h=(0,u.useRef)(t);h.current=t;var v=(0,u.useState)(!1),j=v[0],N=v[1],g=(0,u.useState)(!1)[0];(0,u.useRef)(g).current=g;var w=(0,u.useState)(!0),_=w[0],b=w[1];(0,u.useRef)(_).current=_;var k=(0,u.useState)(null),y=k[0],S=k[1],R=(0,u.useRef)(y);R.current=y;var E=(0,u.useState)(null),P=E[0],T=E[1],z=(0,u.useRef)(P);z.current=P;var C=(0,u.useState)(null)[0],D=(0,u.useState)(null),H=D[0],F=D[1],L=(0,u.useRef)(H);L.current=H;var q=(0,u.useState)(!1),I=q[0],M=q[1];function O(){return X.apply(this,arguments)}function X(){return(X=f(r().mark((function e(){var n,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=2;break}return e.abrupt("return");case 2:return M(!0),n="image_details_"+z.current,e.next=6,x.L.getSocket();case 6:return(s=e.sent).on(n,(function(e){"success"===e.status&&e.data&&S(e.data),p(!1)})),F(s),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return A.apply(this,arguments)}function A(){return(A=f(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.current&&p(!0),n="image_details_"+z.current,L.current?L.current.emit("docker",{command:"dockerHubRepositoryDetails",repository:z.current,callback:n}):p(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,u.useEffect)(f(r().mark((function s(){return r().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:n.query.name&&T(n.query.name),e.imageName&&T(e.imageName),!1===e.showTags?b(!1):b(!0),!0===e.showMarkdown?N(!0):N(!1),setTimeout(f(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=3;break}return e.next=3,O();case 3:Z();case 4:case"end":return e.stop()}}),e)}))));case 5:case"end":return s.stop()}}),s)}))),[]),(0,u.useEffect)((function(){return function(){if(L.current){var e="image_details_"+z.current;L.current.removeListener(e)}}}),[]),t?(0,a.jsx)(i.$,{}):C?(0,a.jsxs)("div",{children:["Failed to load image: ",C]}):R.current?z.current?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"col-12 p-0",children:[!e.showPreview&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"surface-0",children:[(0,a.jsxs)("ul",{className:"list-none p-0 m-0 flex align-items-center font-medium mb-3",children:[(0,a.jsx)("li",{children:(0,a.jsx)("a",{className:"text-500 no-underline line-height-3 cursor-pointer",children:"Docker Hub"})}),(0,a.jsx)("li",{className:"px-2",children:(0,a.jsx)("i",{className:"pi pi-angle-right text-500 line-height-3"})}),(0,a.jsx)("li",{children:(0,a.jsx)("span",{className:"text-900 line-height-3",children:y.namespace})})]}),(0,a.jsxs)("div",{className:"flex align-items-start flex-column lg:justify-content-between lg:flex-row",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium text-3xl text-900",children:[y.name," "]}),(0,a.jsxs)("div",{className:"flex align-items-center text-700 flex-wrap",children:[(0,a.jsxs)("div",{className:"mr-5 flex align-items-center mt-3",children:[(0,a.jsx)("i",{className:"pi pi-users mr-2"}),(0,a.jsxs)("span",{children:[(0,a.jsx)(l.Z,{displayType:"text",thousandSeparator:!0,value:y.pull_count})," Pulls"]})]}),(0,a.jsxs)("div",{className:"mr-5 flex align-items-center mt-3",children:[(0,a.jsx)("i",{className:"pi pi-star mr-2"}),(0,a.jsxs)("span",{children:[(0,a.jsx)(l.Z,{displayType:"text",thousandSeparator:!0,value:y.star_count})," Stars"]})]}),(0,a.jsxs)("div",{className:"flex align-items-center mt-3",children:[(0,a.jsx)("i",{className:"pi pi-user mr-2"}),(0,a.jsx)("span",{children:y.hub_user})]})]})]}),(0,a.jsxs)("div",{className:"mt-3 lg:mt-0",children:[(0,a.jsx)(o.z,{label:"Add",className:"p-button-outlined mr-2",icon:"pi pi-user-plus"}),(0,a.jsx)(o.z,{label:"Save",icon:"pi pi-check"})]})]})]}),(0,a.jsx)("div",{className:"col-12 mt-5"})]}),(0,a.jsxs)("div",{className:"card flex",children:[(0,a.jsx)("div",{className:"col-10",children:y.description}),(0,a.jsxs)("div",{className:"col-2 text-right p-0 m-0",children:[!j&&(0,a.jsx)(o.z,{label:"Read More",onClick:function(){return N(!0)},className:"p-button-secondary",icon:"pi pi-eye"}),j&&(0,a.jsx)(o.z,{label:"Hide",onClick:function(){return N(!1)},className:"p-button-secondary",icon:"pi pi-eye"})]})]}),j&&(0,a.jsx)("div",{className:"card",children:(0,a.jsx)("div",{className:"col-12",children:(0,a.jsx)(d.D,{children:y.full_description})})}),_&&(0,a.jsx)(m.default,{tags:y.tags,image:y,imageId:P})]})}):(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsx)("div",{children:"Image not found in Docker Hub"})}}},function(e){e.O(0,[2727,682,1582,4530,9774,2888,179],(function(){return n=58864,e(e.s=n);var n}));var n=e.O();_N_E=n}]);